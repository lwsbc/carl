const a0h=a0b;(function(a,b){const g=a0b,c=a();while(!![]){try{const d=parseInt(g(0x196))/0x1+parseInt(g(0x1ac))/0x2*(-parseInt(g(0x184))/0x3)+parseInt(g(0x174))/0x4+-parseInt(g(0x15e))/0x5+-parseInt(g(0x168))/0x6*(parseInt(g(0x182))/0x7)+parseInt(g(0x1b6))/0x8+parseInt(g(0x17b))/0x9*(parseInt(g(0x177))/0xa);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0a,0x5cbdc));import a0c from'dotenv';import a0d from'fs';import a0e from'path';import a0f from'chokidar';import{z}from'zod';import{info,error}from'./logger.js';const envPath=a0e[a0h(0x180)+'ve'](process[a0h(0x1c0)](),a0h(0x198));function a0b(a,b){const c=a0a();return a0b=function(d,e){d=d-0x14c;let f=c[d];if(a0b['qoZjjo']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0b['gbcbyX']=g,a=arguments,a0b['qoZjjo']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a0b['gbcbyX'](f),a[i]=f):f=j,f;},a0b(a,b);}a0d[a0h(0x18b)+a0h(0x192)](envPath)?a0c[a0h(0x17f)+'g']({'path':envPath}):(error(a0h(0x1a5)+a0h(0x16a)+a0h(0x18a)+a0h(0x1c5)),process[a0h(0x1aa)](0x1));const CONFIG_PATH=a0e[a0h(0x180)+'ve'](process[a0h(0x1c0)](),a0h(0x17f)+a0h(0x169)+'n'),watcher=a0f[a0h(0x1c1)](CONFIG_PATH,{'persistent':!![],'ignoreInitial':!![]}),ConfigSchema=z[a0h(0x1a6)+'t']({'ADMINS':z[a0h(0x1bc)](z[a0h(0x19d)+'r']())[a0h(0x1b8)](0x1),'LOG_STACK':z[a0h(0x1a1)+'an']()[a0h(0x175)+'lt'](![]),'UFW_PORTS':z[a0h(0x1bc)](z[a0h(0x19d)+'r']()[a0h(0x1b8)](0x1)[a0h(0x1c4)](0xffff))[a0h(0x1b8)](0x1),'RATE_LIMIT':z[a0h(0x1bc)](z[a0h(0x1a6)+'t']({'timeFrame':z[a0h(0x19d)+'r']()[a0h(0x1b8)](0x64),'limit':z[a0h(0x19d)+'r']()[a0h(0x1b8)](0x1)}))[a0h(0x1b8)](0x1),'TIMEZONE':z[a0h(0x15b)+'g']()[a0h(0x175)+'lt'](a0h(0x19e)),'LOG_LEVEL':z[a0h(0x1c7)]([a0h(0x19b),a0h(0x14f),a0h(0x181),a0h(0x171)])[a0h(0x175)+'lt'](a0h(0x181)),'DB_BATCH_SIZE':z[a0h(0x19d)+'r']()[a0h(0x1b8)](0x1)[a0h(0x1c4)](0x3e8)[a0h(0x175)+'lt'](0x32),'DB_PATH':z[a0h(0x15b)+'g']()[a0h(0x175)+'lt'](a0h(0x14e)+a0h(0x1bb)),'DB_DURABILITY':z[a0h(0x1c7)]([a0h(0x179),a0h(0x156)+'l'])[a0h(0x175)+'lt'](a0h(0x156)+'l'),'BOT_TOKEN':z[a0h(0x15b)+'g']()[a0h(0x1b8)](0x28),'VALIDATION_SECRET':z[a0h(0x15b)+'g']()[a0h(0x1b8)](0x10),'ANTILINK':z[a0h(0x1a6)+'t']({'ENABLED_BY_DEFAULT':z[a0h(0x1a1)+'an']()[a0h(0x175)+'lt'](!![]),'WARNING_MESSAGE':z[a0h(0x15b)+'g']()[a0h(0x175)+'lt'](a0h(0x1b5)+a0h(0x158)+a0h(0x194)+a0h(0x14d)+a0h(0x16d)),'EXPRESSIONS':z[a0h(0x1bc)](z[a0h(0x15b)+'g']())[a0h(0x1b8)](0x1)[a0h(0x175)+'lt']([a0h(0x193)+a0h(0x1a3)+a0h(0x176)+a0h(0x1ba)+a0h(0x164)+a0h(0x1a4),a0h(0x16e)+a0h(0x170)+a0h(0x163)+a0h(0x166)+'e!',a0h(0x1b4)+a0h(0x17a)+a0h(0x197)+a0h(0x160)]),'WARNING_TTL_MS':z[a0h(0x19d)+'r']()[a0h(0x1b8)](0x0)[a0h(0x175)+'lt'](0x493e0),'EXPRESSION_TTL_MS':z[a0h(0x19d)+'r']()[a0h(0x1b8)](0x0)[a0h(0x175)+'lt'](0x1388),'DELETE_RETRY_DELAY_MS':z[a0h(0x19d)+'r']()[a0h(0x1b8)](0x0)[a0h(0x175)+'lt'](0x7d0),'DELETION_QUEUE_INTERVAL_MS':z[a0h(0x19d)+'r']()[a0h(0x1b8)](0x0)[a0h(0x175)+'lt'](0x1388),'MAX_DELETE_ATTEMPTS':z[a0h(0x19d)+'r']()[a0h(0x1b8)](0x1)[a0h(0x175)+'lt'](0x5),'MUTE_DURATION_MS':z[a0h(0x19d)+'r']()[a0h(0x1b8)](0x0)[a0h(0x175)+'lt'](0x0)}),'BLOCKER':z[a0h(0x1a6)+'t']({'MAX_MSG_CHARS':z[a0h(0x19d)+'r']()[a0h(0x1b8)](0x64)[a0h(0x175)+'lt'](0xffa),'SAVE_DELAY_MS':z[a0h(0x19d)+'r']()[a0h(0x1b8)](0x0)[a0h(0x175)+'lt'](0x1388)}),'ANTICONTACT':z[a0h(0x1a6)+'t']({'GMAIL_ENABLED':z[a0h(0x1a1)+'an']()[a0h(0x175)+'lt'](!![]),'CONTACT_ENABLED':z[a0h(0x1a1)+'an']()[a0h(0x175)+'lt'](!![]),'WARNING_PREFIX':z[a0h(0x15b)+'g']()[a0h(0x175)+'lt'](a0h(0x178)+a0h(0x1a2)+a0h(0x1a0)+a0h(0x15c)+a0h(0x17e)+a0h(0x159)+a0h(0x17d)+a0h(0x15d)+a0h(0x151)+a0h(0x1b2)+a0h(0x165)+a0h(0x161)+a0h(0x16b)+a0h(0x1b1)+a0h(0x1b3)+a0h(0x17c)+a0h(0x1be)+a0h(0x157)+a0h(0x1af)+a0h(0x19a)+a0h(0x183)+a0h(0x1b9)+a0h(0x1a8)+'\x20('),'WARNING_SUFFIX':z[a0h(0x15b)+'g']()[a0h(0x175)+'lt'](a0h(0x1b7)+a0h(0x152)+a0h(0x162)+a0h(0x1ae)+a0h(0x191)+'d)'),'INFRACTION_THRESHOLD':z[a0h(0x19d)+'r']()[a0h(0x1b8)](0x1)[a0h(0x175)+'lt'](0x2),'INFRACTION_EXPIRY_MS':z[a0h(0x19d)+'r']()[a0h(0x1b8)](0x0)[a0h(0x175)+'lt'](0x36ee80),'WARNING_TTL_MS':z[a0h(0x19d)+'r']()[a0h(0x1b8)](0x0)[a0h(0x175)+'lt'](0x493e0),'QUEUE_COOLDOWN_MS':z[a0h(0x19d)+'r']()[a0h(0x1b8)](0x0)[a0h(0x175)+'lt'](0xbb8)}),'ANTIPOLL':z[a0h(0x1a6)+'t']({'SEND_WARNING':z[a0h(0x1a1)+'an']()[a0h(0x175)+'lt'](!![]),'WARNING_TEXT':z[a0h(0x15b)+'g']()[a0h(0x175)+'lt'](a0h(0x172)+a0h(0x18e)+a0h(0x1a9)+a0h(0x16f)+a0h(0x18d)+a0h(0x1ab)+a0h(0x18c)+a0h(0x15f)),'WARNING_TTL_MS':z[a0h(0x19d)+'r']()[a0h(0x1b8)](0x0)[a0h(0x175)+'lt'](0x1388)})});let config={};function loadConfig(){const i=a0h;try{const a=a0d[i(0x18b)+i(0x192)](CONFIG_PATH)?a0d[i(0x185)+i(0x1c2)+'nc'](CONFIG_PATH,i(0x18f)):'{}',b=JSON[i(0x1bf)](a),c={...b,'BOT_TOKEN':process[i(0x188)][i(0x1c6)+i(0x19f)],'VALIDATION_SECRET':process[i(0x188)][i(0x1b0)+i(0x190)+i(0x187)+'ET']};config=ConfigSchema[i(0x1bf)](c),info(i(0x19c)+i(0x1a7)+i(0x186)+i(0x154)+i(0x1ad));}catch(d){error(i(0x19c)+i(0x1bd)+i(0x1c3)+i(0x173)+i(0x150)+'\x20'+d[i(0x153)+'ge'],d),process[i(0x1aa)](0x1);}}loadConfig(),watcher['on'](a0h(0x15a)+'e',()=>{const j=a0h;info(j(0x19c)+j(0x155)+j(0x14c)+j(0x167)+j(0x195)+'g'),loadConfig();})['on'](a0h(0x19b),a=>error(a0h(0x189)+a0h(0x16c)+a0h(0x199)+a[a0h(0x153)+'ge'],a));export function getConfig(){return config;}function a0a(){const l=['zwqH','tM8GBw8','igfSBg8','CMuGBgK','zgvIDwC','4PQG77IpifbVBa','B24GzMe','mJe0nJCWneXvvhbvuG','zgvMyxu','zMvLBhm','otC5nJa5meTLthLNBG','4PQG77Ipvg8GCa','AgLNAa','Bxv0zwq','owjcthzUzG','AxmGC3q','CMf1zhu','zxjZigy','y29UzMK','CMvZB2W','Aw5MBW','otG3mte5yKH2yKf2','ihrOAxm','mta3otq5C0PlwvfA','CMvHzey','Aw9Uihy','x1nfq1i','zw52','v2f0y2G','BM90igy','zxHPC3q','CYbNCM8','D2vKigK','BhmGyxi','DxrMoa','qvrjt04','ig11Dgu','C1n5BMm','vgHLigC','zw7IGjL0ia','B2fKAw4','mtmZmtu1u3viEMrb','4Ocuy2fYCG','lMvUDG','CM9YoIa','zwqGB24','zxjYB3i','q29UzMK','BNvTyMu','vvrd','t0TftG','DcbVDxi','yM9VBgu','CM90zwm','CM91Cca','B3CH','lMvUDIa','B2jQzwm','z3vYyxq','zM9YBs4','zsbUB3q','zxHPDa','BIb0AgK','mZjOBMjqC3u','DgvK','BgWGyMu','AgLIAxq','vKfmsuq','DMvYDgK','AxrPzxm','C2LUzYa','tgLUAYa','8j+AQYbmAw4','ntyYmtiYnfbxsNzwzq','ig5LEhq','BwLU','ihbSyxq','igXPz2G','l2rHDge','yxjYyxK','zYb2ywW','CMLJDgW','CgfYC2u','y3DK','D2f0y2G','AwXLu3K','AwrHDgK','Bwf4','B3vUzce','qK9ux1q','zw51Bq','BMDLzca','ywXSB3C','lI9Yzxm','D2fYBG','AwXLzdO','ywn0Axy','ihrPBwu','BwvZC2e','ywXPzge','zYbJAge','BM9YBwe','EsbWCM8','A3mGyxi','CM9Tigy','y2HHBMC','C3rYAw4','ig1LBwi','BgvUDca','mZq1nZa2mefRA3rcuW','DxaU','EsbVBIe','ihnJyw0','ihLVDsC','BMTZlca','DgvYig4','igXPA2u','CgXLyxm','4OAsihjLBa','mZbzv1DTCgG','zY5QC28','zMLSzsa','CYWGywq','zxiGzxi'];a0a=function(){return l;};return a0a();}export function hotReloadConfig(a){const k=a0h;watcher['on'](k(0x15a)+'e',a);}