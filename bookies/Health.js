const a0D=a0b;(function(a,b){const C=a0b,c=a();while(!![]){try{const d=-parseInt(C(0x140))/0x1*(parseInt(C(0xc2))/0x2)+parseInt(C(0x110))/0x3+-parseInt(C(0x12e))/0x4*(parseInt(C(0xe9))/0x5)+parseInt(C(0xba))/0x6*(-parseInt(C(0xe0))/0x7)+-parseInt(C(0xb8))/0x8+parseInt(C(0x100))/0x9+-parseInt(C(0x123))/0xa*(-parseInt(C(0xc3))/0xb);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0a,0xb9d18));import a0c from'os';import{exec}from'child_process';import{promisify}from'util';import{DateTime}from'luxon';import{info,error}from'../bookieutils/logger.js';import{getConfig}from'../bookieutils/config.js';function a0b(a,b){const c=a0a();return a0b=function(d,e){d=d-0x9c;let f=c[d];if(a0b['jaaTnG']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0b['SYulJt']=g,a=arguments,a0b['jaaTnG']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a0b['SYulJt'](f),a[i]=f):f=j,f;},a0b(a,b);}import{applyFont,registerModule}from'../bookieutils/helpeutils/fonthelp.js';const execAsync=promisify(exec),{TIMEZONE,ADMINS=[]}=getConfig();export const name=a0D(0xae)+'h';export const version=a0D(0xe3);registerModule(name);function isAdmin(a){const E=a0D;try{return a?.[E(0xad)]?.['id']&&Array[E(0xd9)+'ay'](ADMINS)&&ADMINS[E(0xf6)+E(0xaf)](a[E(0xad)]['id']);}catch(b){return error(E(0x113)+E(0xa5)+E(0xea)+E(0x13c)+E(0xee)+b[E(0x124)+'ge']),![];}}function a0a(){const J=['nw0Smtu','l2HLywW','4OcIienqvq','rMfPBgu','DxnHz2u','4OcIiev4Da','BhrOig8','mta0mdiYCePKthLf','mta0ntiZnJv3AeDoCeW','C3rHy2S','BM93','CMvWBhK','Dg90ywW','CNnZ','Dg9gAxG','ihn0zgu','CZOG','DhjPBq','ywDLicG','4OcIieXVyq','8j+sVIaGtwu','yxjYyxK','icGXBsW','yxrLzca','sfrnta','DgLVBI4','r2vUzxi','ienVCMu','lYKkvw4','4OcIifn5CW','AxnbCNi','Bg9Hzge','CIaVia','zdOG','BK1LC3m','lYKk','Dg9ju08','ndG0nZi1nwTXtwrRqW','C2vK','Dxb0Aw0','mI4XlJa','4OcIie5Vza','zNjLzw0','B2nLC3m','CNKk','ie1cicG','nxfhELj1rG','y2HLy2S','DhLWzq','CYb1C2u','y3b1vxm','zwq6ia','CMLLDMu','8j+tJsbOzwe','Dcbizwe','vxnHz2u','yMXLihq','4OcIief2yq','CcbuB3q','Aw5JBhu','y2HHDa','BwfW','4OcIiefYCG','zs4UlG','4OcIifjtuW','CNjVCJO','y2vZCZO','DMvYC2K','BwvT','mZy3nZmXvKnRwM1H','BwvTB3i','yxLcDwy','zcbbDMC','ztOG','DgLTzqO','ywX0Aca','8j+BOo+4JYaGuhi','C2SGvxm','C3bSAxq','EvvZywC','tw9KDwW','z2u6ia','ie1ccG','ywXS','qNvMzMu','mtu0ndmXmfDmrg16sW','zxjYB3i','AgvHCfu','8j+tJsbPC0e','DgGGAw4','rgLZAYa','ie1LBw8','DgvToIa','BsK6ia','4OcIieHLyq','z2vUzxi','q1bvoIa','4O+X77IpicbvCa','DgvTcGO','zxzLCNK','vsbvC2e','C3LZDgu','ywjSzqO','igHLywW','mZbQvfbhzvG','BwvZC2e','zxbVCNq','4OcIifbYBW','BgvUz3q','AwXHyMW','AM9PBG','zxjUywW','CcbvC2u','ywXPEMK','C2XPy2u','mte0mJq1mKHcr1vNDG','ywDLigu','yxzHAwW','zwfSDgG','sw5PDgK','4OcIifvZzq','C2v0wM8','Dgv4Da','jsKk','ie1ccGO','ChjPDMe','4PQG77IpifvUyq','yxrLigG','CYbZExm','igzHAwW','zxH0zxi','zgyGlwS','B3rHBa','mJbyv2vLzNq','y3b1CW','CNi6ia','ywDL','8j+tGIaGrgK','ieLUzM8','Bw9YEsa','z2uk','ywW6ia','4OcIifvZyq','BhrOifi','yxqG','y2vZCYa','4OcIifrVDa','tI9b','DxnLCG','zg1PBIa','zMXVB3i','8j+uPYaGuhi','ihjLCg8','BYbYzxq','8j+PUIaGqM8','4OcIiezYzq','BMfS','zNjVBq','sgvHBhq','zgvZ','zMvYCZO','zcb0BYa','CNq6ia','4PQz77Ipicbdua','zM9YBwe','4OcIifbjra','CgLK','BMCGsgu','ntaXndKXmMrKwwv2DW','AgvHCfq','nLzcquzTva'];a0a=function(){return J;};return a0a();}function formatDuration(a){const F=a0D,b=Math[F(0xa6)](a/0xe10),c=Math[F(0xa6)](a%0xe10/0x3c),d=Math[F(0xa6)](a%0x3c);return b+'h\x20'+c+'m\x20'+d+'s';}export async function initialize(){const G=a0D;await info(await applyFont(name,G(0x132)+G(0x12c)+G(0xb7)+G(0x106)+G(0x10b)+G(0xfa)));}export async function onMessage(a){const H=a0D;try{const b=a[H(0x124)+'ge']?.[H(0x135)]?.[H(0xcc)]();if(!b||b[H(0x109)]('\x20')[0x0]!==H(0xbc)+'th')return;if(a[H(0xf7)][H(0xeb)]!==H(0x138)+'te'||!isAdmin(a))return;await sendHealthReport(a);}catch(c){error(H(0xf0)+H(0xc1)+H(0xdd)+H(0x12f)+H(0xfc)+'\x20'+c[H(0x124)+'ge']),console[H(0x111)](c[H(0xc4)]);}}async function sendHealthReport(a){const I=a0D;try{const b=s=>(s/0x400/0x400)[I(0xc9)+'ed'](0x2),c=a0c[I(0xc7)+I(0xff)](),d=a0c[I(0xe5)+'em'](),e=c-d,f=(e/c*0x64)[I(0xc9)+'ed'](0x2),g=process[I(0x101)+I(0x10a)+'e'](),h=a0c[I(0xda)+'vg'](),i=a0c[I(0x141)]()?.[I(0x127)+'h']??I(0xa3),j=process[I(0xed)+I(0x143)](),k=(j[I(0xa4)]/0xf4240)[I(0xc9)+'ed'](0x3),l=(j[I(0x120)+'m']/0xf4240)[I(0xc9)+'ed'](0x3),m=formatDuration(a0c[I(0xe2)+'e']()),n=formatDuration(process[I(0xe2)+'e']());let o=I(0x144)+I(0x108)+I(0xcd)+I(0xd7)+I(0x130)+I(0x121)+'\x0a';try{const {stdout:s,stderr:t}=await execAsync(I(0x13e)+'\x20/');if(t)error(I(0x115)+I(0xea)+I(0xca)+I(0x142)+t[I(0xcc)]());const u=s[I(0xcc)]()[I(0x109)]('\x0a');if(u[I(0x127)+'h']>=0x2){const v=u[0x1][I(0xcc)]()[I(0x109)](/\s+/),[w,x,y,z]=v[I(0x12d)](0x1,0x5)[I(0xf8)](Number);[w,x,y][I(0x11e)](A=>!isNaN(A))&&(o=I(0x144)+I(0x108)+I(0xcd)+I(0xde),o+=I(0xa2)+I(0x9d)+(w/0x400)[I(0xc9)+'ed'](0x2)+I(0x10d),o+=I(0x133)+I(0xdc)+(x/0x400)[I(0xc9)+'ed'](0x2)+I(0x10d),o+=I(0xf4)+I(0x128)+I(0x104)+(y/0x400)[I(0xc9)+'ed'](0x2)+I(0x10d),o+=I(0x9e)+I(0x10c)+v[0x4]+'\x0a\x0a');}}catch(A){error(I(0x115)+I(0xbf)+I(0x13c)+I(0xee)+A[I(0x124)+'ge']);}const p=DateTime[I(0xc5)]()[I(0x134)+'ne'](TIMEZONE)[I(0xdf)](),q=[I(0xaa)+I(0xf1)+I(0x9f)+I(0x125)+'\x0a\x0a',I(0xcf)+I(0x146)+I(0xf2)+'\x0a',I(0xa2)+I(0x9d)+b(c)+I(0x10d),I(0x133)+I(0xdc)+b(e)+I(0xe8)+f+I(0x136),I(0xab)+I(0x104)+b(d)+I(0x137),I(0xa7)+I(0xe6)+I(0x116)+I(0xe7),I(0xfb)+':\x20'+b(g[I(0xc8)])+I(0x10d),I(0x119)+I(0xf5)+I(0x9d)+b(g[I(0xb9)+I(0x13f)])+I(0x10d),I(0x119)+I(0x12b)+I(0xdc)+b(g[I(0x112)+I(0xe1)])+I(0x10d),g[I(0x13d)+I(0xac)]!==undefined?I(0xc0)+I(0x12a)+':\x20'+b(g[I(0x13d)+I(0xac)])+I(0x10d):'',g[I(0xd0)+I(0x10f)+'rs']!==undefined?I(0xf9)+I(0x102)+I(0xb0)+'\x20'+b(g[I(0xd0)+I(0x10f)+'rs'])+I(0x10d):'','\x0a',I(0xb3)+I(0x11f)+I(0x9c),I(0xce)+I(0x103)+I(0xd1)+I(0xbb)+I(0x118)+h[I(0xf8)](B=>B[I(0xc9)+'ed'](0x2))[I(0x129)](',\x20')+'\x0a',I(0xbd)+I(0xd6)+I(0xcb)+i+'\x0a',I(0x126)+I(0xa1)+I(0x11b)+k+(I(0xec)+I(0xdb))+l+(I(0x13b)+I(0x11d)),I(0x11c)+I(0x105),I(0xd8)+I(0x117)+m+'\x0a',I(0x126)+I(0xfd)+'\x20'+n+'\x0a\x0a',o,I(0x107)+I(0xe6)+I(0x145)+'\x0a',I(0xb5)+':\x20'+process[I(0xb6)]+'\x0a',I(0xe4)+I(0x104)+process[I(0xfe)+'on']+'\x0a\x0a',I(0xd5)+I(0xd2)+I(0xa0)+p],r=await Promise[I(0x10e)](q[I(0xf8)](B=>applyFont(name,B)));await a[I(0xc6)](r[I(0x129)](''),{'parse_mode':I(0xd3),'disable_web_page_preview':!![]});}catch(B){error(I(0xbe)+I(0xb1)+I(0x11a)+I(0x13a)+I(0x131)+I(0xa8)+I(0xb2)+B[I(0x124)+'ge']),console[I(0x111)](B[I(0xc4)]),await a[I(0xc6)](await applyFont(name,I(0x139)+I(0xf3)+I(0xa9)+I(0xef)+I(0x122)+I(0x114)+I(0xb4)+I(0xd4)),{'parse_mode':I(0xd3)});}}export async function onCallbackQuery(){}