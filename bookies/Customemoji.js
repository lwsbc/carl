const a0i=a0b;(function(a,b){const h=a0b,c=a();while(!![]){try{const d=-parseInt(h(0x1b2))/0x1*(-parseInt(h(0x167))/0x2)+-parseInt(h(0x12d))/0x3*(-parseInt(h(0x1c0))/0x4)+-parseInt(h(0x1c1))/0x5+parseInt(h(0x186))/0x6*(parseInt(h(0x1bd))/0x7)+-parseInt(h(0x177))/0x8+-parseInt(h(0x138))/0x9*(-parseInt(h(0x18d))/0xa)+-parseInt(h(0x1b4))/0xb*(-parseInt(h(0x160))/0xc);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0a,0xdf9f6));import a0c from'path';import{fileURLToPath}from'url';import{getConfig}from'../bookieutils/config.js';import{error,info}from'../bookieutils/logger.js';import{db}from'../bookieutils/db.js';import{registerModule}from'../bookieutils/helpeutils/fonthelp.js';function a0b(a,b){const c=a0a();return a0b=function(d,e){d=d-0x12b;let f=c[d];if(a0b['jpZpad']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0b['oaeeQl']=g,a=arguments,a0b['jpZpad']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a0b['oaeeQl'](f),a[i]=f):f=j,f;},a0b(a,b);}const __filename=fileURLToPath(import.meta[a0i(0x1c6)]),__dirname=a0c[a0i(0x180)+'me'](__filename);export const name=a0i(0x16a)+a0i(0x173)+a0i(0x188);export const version=a0i(0x168);registerModule(name);function isAdmin(a){const j=a0i;try{const {ADMINS:ADMINS=[]}=getConfig();return a[j(0x1d0)]&&Array[j(0x19a)+'ay'](ADMINS)&&ADMINS[j(0x1bf)+j(0x1b0)](a[j(0x1d0)]['id']);}catch(b){return error('['+name+(j(0x12b)+j(0x18a)+j(0x151)+j(0x14e)+j(0x1c9)+'\x20')+b[j(0x194)+'ge']),![];}}async function initDatabase(){const k=a0i;await db[k(0x144)](k(0x1a2)+k(0x162)+k(0x141)+k(0x15b)+k(0x172)+k(0x1d9)+k(0x1c8)+k(0x1cc)+k(0x140)+k(0x197)+k(0x146)+k(0x152)+k(0x159)+k(0x150)+k(0x1ad)+k(0x1a6)+k(0x161)+k(0x155)+k(0x153)+k(0x15d)+k(0x150)+k(0x1ad)+k(0x1a6)+k(0x161)+k(0x155)+k(0x13d)+k(0x13e)+k(0x176)+k(0x132)+k(0x18e)+k(0x139)+k(0x152)+k(0x17e)+k(0x156)+k(0x14f)+k(0x1a9)+k(0x181)+k(0x196)+k(0x12f)+k(0x154)+k(0x15f)+k(0x1a5)+k(0x1c3)+k(0x187)+k(0x170)+k(0x1bc)+k(0x185)+k(0x194)+k(0x182)+k(0x19b)+k(0x1dc)+'\x20');}let processing=![],botInstance=null;async function processQueue(){const l=a0i;if(processing)return;processing=!![];try{const a=await db[l(0x1d4)](l(0x1a2)+l(0x193)+l(0x1b6)+l(0x159)+l(0x1cb)+l(0x184)+l(0x185)+l(0x13c)+l(0x1b5)+l(0x147)+l(0x163)+l(0x173)+l(0x1b3)+l(0x1dd)+l(0x1be)+l(0x1c7)+l(0x142)+l(0x169)+'\x20\x20');for(const b of a){try{await botInstance[l(0x14b)][l(0x1da)+l(0x179)+l(0x16b)](b[l(0x191)+'id'],b[l(0x194)+l(0x182)]),info('['+name+(l(0x1a7)+l(0x1cf))+b[l(0x194)+l(0x182)]+l(0x1b1)+b[l(0x191)+'id']),await db[l(0x143)](l(0x1d1)+l(0x1c4)+l(0x14c)+l(0x1cc)+l(0x140)+l(0x197)+l(0x19c)+l(0x16d)+l(0x19d)+l(0x18b)+l(0x1ba)+l(0x184)+l(0x1ce)+'\x20?',b[l(0x191)+'id'],b[l(0x194)+l(0x182)]);}catch(c){!b[l(0x13c)+'ed']?(await db[l(0x143)](l(0x149)+l(0x133)+l(0x1cc)+l(0x140)+l(0x197)+l(0x17b)+l(0x13c)+l(0x18f)+l(0x17f)+l(0x15c)+l(0x145)+l(0x1ae)+l(0x13a)+l(0x1a0)+l(0x1ca)+l(0x1d2),b[l(0x191)+'id'],b[l(0x194)+l(0x182)]),info('['+name+(l(0x16e)+l(0x178)+l(0x1cd)+l(0x13f)+'r\x20')+b[l(0x194)+l(0x182)])):(await db[l(0x143)](l(0x1d1)+l(0x1c4)+l(0x14c)+l(0x1cc)+l(0x140)+l(0x197)+l(0x19c)+l(0x16d)+l(0x19d)+l(0x18b)+l(0x1ba)+l(0x184)+l(0x1ce)+'\x20?',b[l(0x191)+'id'],b[l(0x194)+l(0x182)]),info('['+name+(l(0x183)+l(0x1b8))+b[l(0x194)+l(0x182)]+(l(0x175)+l(0x1d8)+'ry')));}await new Promise(d=>setTimeout(d,0x64));}}catch(d){error('['+name+(l(0x1c5)+l(0x199)+l(0x18c))+d[l(0x194)+'ge']);}finally{processing=![];}}function a0a(){const o=['y2HHDf8','y2fWDgK','icbtruW','BwvZC2e','B25Fzw4','tfqGq1u','CxvLDwu','AwvZ','DwuGzxi','AxnbCNi','kqOGica','ifDirvi','Df9Pzca','rsbjtLq','BM5LBf8','zxnZywC','C2fNzq','cIaGica','zwrPyxq','pYWGmcK','laOGica','tK9uie4','xsbezwW','xsbtA2K','vefnuca','zg1PBIa','D2vKige','Cg9ZDa','ruDfuIa','id0GpYa','zw50Axq','zgvZ','igLUia','mJi3Eg1ZEu9j','x2vTB2O','ntvnCLHuqNm','zwqkica','runuigm','igzVCIa','ChbLzca','xsbfBNe','tKqGBwu','DhjPzwq','kgnOyxq','n25XquPiwa','Dwukica','Aw5JBhu','mtGYoevevwPQzW','nty3odu1nvv2Cvf1wq','zcbTzxm','icaGufi','rsbguK8','xsbrDwu','DxjS','icaGieW','uYbJDxm','zg1PBJO','zv9Pzca','zcWGBwu','Dg9Tx2u','zcbYzxq','x2LKid0','zxrLzca','zNjVBq','revmrvq','psa/','CMv0CNK','ywXS','Df9PzcW','y3vZDg8','icHJAge','CIbYzxq','rvHju1q','zgvSzxq','z2uG','icK7cIa','Av9XDwu','vcbpuIa','xsbfCNi','z3jVDxa','nty4nurwC2nMyq','igzYB20','uLjftLq','zf9JAge','AwfSAxO','tIberuy','rsbJDxm','Dwv1zwq','quXvrvm','zwX5igq','igfSBg8','mJK3oxPjvwLgyW','mcWkica','qu5eig0','zwrPDgu','CMv0CMK','ihjLDhi','AwvKiei','CNKGzM8','Bw9QAv8','rsbuqui','su1jvca','CNvU','zxHLyW','yxrFAwq','icGkica','icaGiey','zwXLDgu','vvbeqvq','zf9Tzxm','yxbP','tsbJDxm','su5trvi','zYbPC0e','veLnrvm','zcbjtLq','zwnRAw4','icaGigm','ig1LC3m','x1rjtuu','icaGica','zf9HDca','suDot1i','tYbJDxm','Agf0x2K','C2fNzsa','teuGsuy','uKuGy2G','ywDLx2K','igLUAxq','u1rbtva','mZyYntGWuuTUq3PA','vuXmlaO','q1jfqvq','uK9nigm','icaGify','Bv9LBw8','zcWGCMu','nZuXnePfDgvrEq','ms4WlJa','mtakica','qw50Aum','ywDL','icG/lca','rsbJAge','xsbty2G','y2HHDa','ieTfwsa','C29Tzq','ie5pvca','Dxn0B20','zwXFCg8','igfMDgu','t09mrue','nZi0nJq4ogH6CM5dCq','zwr1Bgu','zu1LC3m','xsbjBw0','ifnfvca','DhLWzq','C3vWzxi','CMvHDgu','msbxseu','zgLYBMe','revgqvu','z2vFAwq','xsbeCM8','C3nHz2u','x2LKlca','nJGYndK0we15txPL','su1buLK','rw1VAMK','y2HHBM4','B3iGy2G','psa/iee','CM9YoIa','mJK0mJbjA0jWAwm','qvvmvca','zwqGpsa','DgL0Awu'];a0a=function(){return o;};return a0a();}export async function initialize(a){const m=a0i;botInstance=a,await initDatabase(),setInterval(processQueue,0x1388),info(name+(m(0x15e)+m(0x131)+'ed'));}export async function onMessage(a){const n=a0i,b=a[n(0x194)+'ge']??a[n(0x13b)+n(0x14a)+n(0x1a1)]??a[n(0x189)+n(0x174)+'st']??a[n(0x13b)+n(0x130)+n(0x19f)+n(0x1ac)];if(!b||!b[n(0x1d0)])return![];const c=a[n(0x16f)]?.[n(0x17c)];if(c!==n(0x12c)&&c!==n(0x17d)+n(0x12c))return![];const d=[...b[n(0x1af)+n(0x198)]??[],...b[n(0x192)+n(0x195)+n(0x190)+'s']??[]];if(!d[n(0x171)](g=>g[n(0x17c)]===n(0x1d6)+n(0x165)+'ji'))return![];const e=a[n(0x16f)]['id'],f=b[n(0x194)+n(0x182)];if(isAdmin(a))return info('['+name+(n(0x1a8)+n(0x1b8)+n(0x194)+n(0x1db))+f+(n(0x12e)+n(0x137)+n(0x1ab)+n(0x1aa))+b[n(0x1d0)]['id']),![];try{await a[n(0x1da)+n(0x179)+n(0x16b)](),info('['+name+(n(0x17a)+n(0x1a3)+n(0x136)+n(0x148)+n(0x1c2)+n(0x15a))+f);}catch(g){await db[n(0x143)](n(0x14d)+n(0x1de)+n(0x157)+n(0x19e)+n(0x158)+n(0x1cc)+n(0x140)+n(0x197)+n(0x1d7)+n(0x1d5)+n(0x153)+n(0x15d)+n(0x166)+n(0x1bb)+n(0x19b)+n(0x164)+n(0x135)+n(0x16c)+n(0x1a4),e,f),info('['+name+(n(0x1b9)+n(0x134)+'\x20')+f+(n(0x1b7)+n(0x1d3)));}return!![];}