const a0n=a0b;(function(a,b){const m=a0b,c=a();while(!![]){try{const d=-parseInt(m(0x136))/0x1+parseInt(m(0x155))/0x2+-parseInt(m(0x15d))/0x3+-parseInt(m(0x154))/0x4*(-parseInt(m(0x168))/0x5)+parseInt(m(0x17a))/0x6*(parseInt(m(0x14c))/0x7)+-parseInt(m(0x186))/0x8*(-parseInt(m(0x145))/0x9)+parseInt(m(0x160))/0xa;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0a,0xb9a6e));import a0c from'path';import{promises as a0d}from'fs';import{info,error}from'../bookieutils/logger.js';import{isAdmin}from'../bookieutils/admin.js';import{applyFont,registerModule}from'../bookieutils/helpeutils/fonthelp.js';export const name=a0n(0x157)+a0n(0x158)+'le';export const version=a0n(0x14b);registerModule(name);const DATA_FILE=a0c[a0n(0x13a)+'ve'](a0n(0x18e)+a0n(0x151)+a0n(0x180)),disabledChats=new Set();async function loadSettings(){const o=a0n;try{await a0d[o(0x170)](a0c[o(0x178)+'me'](DATA_FILE),{'recursive':!![]});const a=await a0d[o(0x16e)+o(0x17e)](DATA_FILE,o(0x18d)),b=JSON[o(0x17b)](a);if(Array[o(0x14f)+'ay'](b))for(const c of b){if(typeof c===o(0x189)+'r')disabledChats[o(0x134)](c);}await info(name,o(0x162)+'d\x20'+disabledChats[o(0x15f)]+(o(0x174)+o(0x15b)+o(0x150)+o(0x14d)));}catch(d){d[o(0x131)]===o(0x182)+'T'?await info(name,o(0x148)+o(0x183)+o(0x16a)+o(0x177)+o(0x16c)+o(0x14a)+o(0x171)+o(0x18a)+o(0x13d)+o(0x143)):await error(name,o(0x164)+o(0x166)+o(0x161)+o(0x151)+o(0x15c)+o(0x172)+'\x20'+d[o(0x14e)+'ge'],d);}}function a0b(a,b){const c=a0a();return a0b=function(d,e){d=d-0x131;let f=c[d];if(a0b['wvQSyV']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0b['gSwZwN']=g,a=arguments,a0b['wvQSyV']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a0b['gSwZwN'](f),a[i]=f):f=j,f;},a0b(a,b);}async function saveSettings(){const p=a0n;try{const a=Array[p(0x18c)](disabledChats);await a0d[p(0x13c)+p(0x173)](DATA_FILE,JSON[p(0x18b)+p(0x140)](a,null,0x2),p(0x18d)),await info(name,p(0x185)+'\x20'+a[p(0x13f)+'h']+(p(0x174)+p(0x15b)+p(0x150)+p(0x14d)));}catch(b){await error(name,p(0x164)+p(0x166)+p(0x146)+p(0x151)+p(0x15c)+p(0x172)+'\x20'+b[p(0x14e)+'ge'],b);}}export async function initialize(){await loadSettings();}export async function onMessage(a){const q=a0n,b=a[q(0x14e)+'ge'];if(!b?.[q(0x156)])return;const c=b[q(0x156)][q(0x163)](),d=a[q(0x133)]['id'];if(a[q(0x133)][q(0x187)]===q(0x15e)+'te'||!await isAdmin(a))return;if(c[q(0x13e)+q(0x179)](q(0x176)+'n')){const g=c[q(0x152)](/\s+/),h=(g[0x1]||'')[q(0x132)+q(0x138)+'e']();if(h==='on')disabledChats[q(0x165)+'e'](d);else{if(h===q(0x135))disabledChats[q(0x134)](d);else{const k=await a[q(0x169)](await applyFont(name,q(0x16b)+q(0x153)+q(0x141)+q(0x188)));setTimeout(()=>a[q(0x137)][q(0x165)+q(0x17f)+q(0x181)](d,k[q(0x14e)+q(0x144)])[q(0x142)](()=>{}),0x1388);return;}}await saveSettings();const i=disabledChats[q(0x16f)](d)?q(0x17c)+q(0x17d):q(0x175)+'ed',j=await a[q(0x169)](await applyFont(name,q(0x167)+q(0x16d)+q(0x184)+i+'.'));setTimeout(()=>a[q(0x137)][q(0x165)+q(0x17f)+q(0x181)](d,j[q(0x14e)+q(0x144)])[q(0x142)](()=>{}),0x1388),await a[q(0x137)][q(0x165)+q(0x17f)+q(0x181)](d,b[q(0x14e)+q(0x144)])[q(0x142)](()=>{});return;}const f=!disabledChats[q(0x16f)](d);if(f&&c[q(0x13e)+q(0x179)]('/'))try{await a[q(0x137)][q(0x165)+q(0x17f)+q(0x181)](d,b[q(0x14e)+q(0x144)]),await info(name,q(0x147)+q(0x149)+q(0x15a)+q(0x159)+d);}catch(l){await error(name,q(0x164)+q(0x166)+q(0x165)+q(0x139)+q(0x13b)+'\x20'+l[q(0x14e)+'ge'],l);}}function a0a(){const r=['C29Uigy','vxnHz2u','4OcuigrLzG','yw4GBw8','CMvHzey','AgfZ','BwTKAxi','BMCGDg8','Aw5NCZO','rMLSzq','igrPC2e','zw5HyMW','l2nSzwe','B3vUzca','zgLYBMe','C1DPDgG','nMfIsMDxtG','CgfYC2u','zgLZywi','BgvK','AwXL','zu1LC3m','lMPZB24','ywDL','ru5pru4','zwfUlMO','zguG','u2f2zwq','ntyWodqWEgf1tgHc','DhLWzq','BNXVzMy','BNvTyMu','ignSzwe','C3rYAw4','zNjVBq','DxrMoa','zgf0ys8','y29Kzq','Dg9mB3C','y2HHDa','ywrK','B2zM','mtm2ndi0mfD0rvjvAG','yxbP','zxjdyxm','zsbJB20','CMvZB2W','BwfUzdO','D3jPDgu','BIbTB2q','C3rHCNq','BgvUz3q','z2LMEq','zwfUig8','y2f0y2G','zsbptG','z2vFAwq','mti2zw5kzhrb','C2f2zsa','rgvSzxq','tM8Gy2W','zwqGy28','yxvSDgK','ms4WlJe','nZuYnJaYovrwr1rhqW','CYKU','BwvZC2e','AxnbCNi','y2HHDcG','y2XLyw4','C3bSAxq','oIaVy2W','mJb2Du9ou0K','mZu3mZeYALnssMrP','Dgv4Da','q2XLyw4','ie1Vzhu','igLUia','Bw1HBMq','yMXLzca','ihnLDhq','mtm1mdG1oengCvbuDW','ChjPDMe','C2L6zq','mtm3nZeZmhLkEePtBG','Bg9Hzca','tg9Hzgu','DhjPBq','rMfPBgu','zgvSzxq','zcb0BYa','4PYfienSzq','mJaXotCWyunZv1DW','CMvWBhK'];a0a=function(){return r;};return a0a();}