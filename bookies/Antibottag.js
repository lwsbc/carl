const a0k=a0b;(function(a,b){const j=a0b,c=a();while(!![]){try{const d=parseInt(j(0x273))/0x1+parseInt(j(0x1f8))/0x2+-parseInt(j(0x206))/0x3+-parseInt(j(0x235))/0x4*(-parseInt(j(0x201))/0x5)+parseInt(j(0x1e8))/0x6*(-parseInt(j(0x233))/0x7)+-parseInt(j(0x213))/0x8*(-parseInt(j(0x23e))/0x9)+parseInt(j(0x20d))/0xa*(-parseInt(j(0x205))/0xb);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0a,0xb8014));import{error,info}from'../bookieutils/logger.js';import{db}from'../bookieutils/db.js';import{registerModule}from'../bookieutils/helpeutils/fonthelp.js';export const name=a0k(0x215)+a0k(0x230)+'n';function a0b(a,b){const c=a0a();return a0b=function(d,e){d=d-0x1e4;let f=c[d];if(a0b['YutAfN']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0b['lrtPzR']=g,a=arguments,a0b['YutAfN']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a0b['lrtPzR'](f),a[i]=f):f=j,f;},a0b(a,b);}export const version=a0k(0x26f);registerModule(name);async function initDatabase(){const l=a0k;await db[l(0x203)](l(0x225)+l(0x257)+l(0x246)+l(0x262)+l(0x1f5)+l(0x1fb)+l(0x24d)+l(0x255)+l(0x1e9)+l(0x239)+l(0x216)+l(0x20c)+l(0x268)+l(0x22e)+l(0x1e7)+l(0x200)+l(0x248)+l(0x252)+l(0x22e)+l(0x259)+l(0x22b)+l(0x212)+l(0x25a)+l(0x1f5)+l(0x237)+l(0x225)+l(0x227)+l(0x20e)+l(0x22f)+l(0x23c)+l(0x240)+l(0x1ef)+l(0x22d)+l(0x23a)+l(0x242)+l(0x221)+l(0x21a)+l(0x1ed)+l(0x264)+l(0x1ee)+l(0x238)+l(0x231)+l(0x259)+l(0x22b)+l(0x214)+l(0x1f3)+'\x20');}let processing=![],globalBot=null;function a0a(){const o=['y2fWDgK','mtakica','mta5ndm3ohvoAhfWsa','sevsrsa','ywXS','rvHju1q','icaGvKe','zu1LC3m','DxjS','C3vWzxi','r0vsie4','mJa1Eu13z2DN','CNvU','zxHLyW','y2vZC1e','mtfzreHcv0O','mtuXntqWmNbYz2XzzW','ywDL','igLUia','vKfmvuu','icaGifC','lw1LBNq','icaGy2G','mJiYmteXntb2DMjysvq','yxrLzf8','suDot1i','BgLUAW','zwXLDgu','icaGsu4','otiWCNPnqufh','kqOGica','qw50Aw0','kaOGica','yw50Aw0','tYbHBNq','BL9XDwu','laOGica','igXPBMS','rLjptsa','zcbTzw4','Dg9mB3C','zwrPyxq','Aw9UigK','u1rbtva','Dgv4Da','BwvUDgK','Dgv4Df8','cIaGica','y2HHDf8','icbJCMu','zxjdyxm','Agf0x2K','AwvZ','z2vFAwq','zgvSzxq','tfqGq1u','icaGica','yxqGica','zw50Aw8','x2LKlca','AwqGpsa','odyZntq4te1jCKHq','vcbpuIa','mte0ndi0B1jOwvv6','runuigm','tLvmtcW','kgnOyxq','Dwv1zsa','uLjftLq','DwuGzgu','veLnrvm','zxrLzca','mtaWmdCXBfjiEeTS','kd8Sid8','vefnuca','Dwukica','x1rjtuu','C3nHz2u','x2LKcIa','Dwv1zqO','rsbuqui','rsbjtLq','t1qGtLu','BIbLBNe','zcbSAw4','id8P','ywDLx2K','uYbHBNq','AxrO','DhLWzq','icaGieW','BIbKzwW','teWScIa','DgLVBIa','yM90','Aw1LBNq','tfvfuYa','q1jfqvq','C3vIC3q','BwvZC2e','vevhrvi','zwX5igq','su1jvca','B25Fzw4','BgvUz3q','Aw4G','AY1Tzw4','ig1LC3m','teuGsuy','x2nVzgu','su1buLK','B2zMC2u','Dwv1zwq','icbtruW','yxrFAwq','tsbHBNq','DgL0Awu','BIbPBw0','zxjYB3i','yxbP','zw5KC1C','ms4WlJa','zw50Axq','zNjVBq','Bgv0zsa','nJa0ntC3ww92r2TW','BIbXDwu','revmrvq','y2HHDa','zcWGBwu','ig1LBNq','ieLoveu','nNvYEgvsAq','Aw9Ux3e','uYaOpYW','rsbguK8','z3jVDxa','icaGufi','ieTfwsa','revgqvu','zca9id8','BIbWCM8','su5trvi','icK7cIa','pYbbtKq','ie5pvca'];a0a=function(){return o;};return a0a();}const INTERVAL=0x1388;async function processQueue(){const m=a0k;if(processing)return;processing=!![];try{const a=await db[m(0x1fa)](m(0x225)+m(0x267)+m(0x236)+m(0x229)+m(0x1e5)+m(0x243)+m(0x244)+m(0x22e)+m(0x21c)+m(0x217)+m(0x230)+m(0x219)+m(0x241)+m(0x250)+m(0x25c)+m(0x1f7)+'\x20\x20');for(const {chat_id:b,message_id:c}of a){try{await globalBot[m(0x26d)][m(0x22c)+m(0x1fd)+m(0x207)](b,c),await info(m(0x215)+m(0x230)+m(0x251)+m(0x23d)+c+m(0x208)+b);}catch(d){d[m(0x26c)+m(0x263)]!==0x190&&d[m(0x26c)+m(0x263)]!==0x194&&error(m(0x215)+m(0x230)+m(0x274)+m(0x23b)+m(0x272)+m(0x26c)+':\x20'+d[m(0x259)+'ge']);}await db[m(0x202)](m(0x275)+m(0x1eb)+m(0x269)+m(0x255)+m(0x1e9)+m(0x245)+m(0x22e)+m(0x20a)+m(0x1f9)+m(0x226)+m(0x232)+m(0x1f4)+m(0x261)+m(0x24c)+m(0x1f0),b,c);}}catch(f){error(m(0x215)+m(0x230)+m(0x1f1)+m(0x204)+m(0x239)+m(0x26c)+':\x20'+f[m(0x259)+'ge']);}finally{processing=![];}}export async function initialize(a){globalBot=a,await initDatabase(),setInterval(processQueue,INTERVAL);}export async function onMessage(a){const n=a0k;if(!a[n(0x259)+'ge']||!a[n(0x271)])return![];const b=a[n(0x1e4)]?.[n(0x24f)];if(b!==n(0x1ec)&&b!==n(0x1ff)+n(0x1ec))return![];const c=a[n(0x259)+'ge'],d=c[n(0x222)]??c[n(0x1f6)+'on']??'',e=c[n(0x270)+n(0x22a)]??c[n(0x1f6)+n(0x25d)+n(0x26a)+'s']??[];for(const f of e){if(f[n(0x24f)]===n(0x223)+'on'){const g=d[n(0x258)+'r'](f[n(0x265)+'t'],f[n(0x25e)+'h'])[n(0x21e)+n(0x228)+'e']();if(g[n(0x26e)+n(0x24e)](n(0x254))){try{await a[n(0x22c)+n(0x1fd)+n(0x207)](),await info(n(0x215)+n(0x230)+n(0x26b)+n(0x21f)+n(0x25b)+n(0x211)+n(0x21d)+n(0x253)+n(0x25f)+a[n(0x1e4)]['id']);}catch(h){await db[n(0x202)](n(0x1f2)+n(0x234)+n(0x20f)+n(0x247)+n(0x218)+n(0x255)+n(0x1e9)+n(0x239)+n(0x238)+n(0x231)+n(0x259)+n(0x22b)+n(0x214)+n(0x22e)+n(0x22e)+n(0x209)+n(0x1ea)+n(0x24b),a[n(0x1e4)]['id'],c[n(0x259)+n(0x22b)]),await info(n(0x215)+n(0x230)+n(0x249)+n(0x266)+n(0x1e6)+n(0x220)+'n\x20'+a[n(0x1e4)]['id']);}return!![];}}if(f[n(0x24f)]===n(0x224)+n(0x210)&&f[n(0x1fe)]?.[n(0x21e)+n(0x228)+'e']()[n(0x26e)+n(0x24e)](n(0x254))){try{await a[n(0x22c)+n(0x1fd)+n(0x207)](),await info(n(0x215)+n(0x230)+n(0x26b)+n(0x21f)+n(0x25b)+n(0x211)+n(0x24a)+n(0x260)+n(0x253)+n(0x25f)+a[n(0x1e4)]['id']);}catch(i){await db[n(0x202)](n(0x1f2)+n(0x234)+n(0x20f)+n(0x247)+n(0x218)+n(0x255)+n(0x1e9)+n(0x239)+n(0x238)+n(0x231)+n(0x259)+n(0x22b)+n(0x214)+n(0x22e)+n(0x1fc)+n(0x256)+n(0x23f)+')',a[n(0x1e4)]['id'],c[n(0x259)+n(0x22b)]),await info(n(0x215)+n(0x230)+n(0x249)+n(0x266)+n(0x21b)+n(0x20b)+n(0x220)+'n\x20'+a[n(0x1e4)]['id']);}return!![];}}return![];}export async function onCallbackQuery(){}