const a0v=a0b;(function(a,b){const u=a0b,c=a();while(!![]){try{const d=parseInt(u(0x1b7))/0x1+parseInt(u(0x18d))/0x2+parseInt(u(0x195))/0x3+parseInt(u(0x1b1))/0x4+-parseInt(u(0x1ad))/0x5*(parseInt(u(0x19b))/0x6)+-parseInt(u(0x1a6))/0x7+-parseInt(u(0x1c0))/0x8;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0a,0x92851));import{info,error}from'../bookieutils/logger.js';import{registerModule}from'../bookieutils/helpeutils/fonthelp.js';export const name=a0v(0x18c)+a0v(0x1be)+a0v(0x198);function a0a(){const C=['CYbJB20','xsbPBIa','igLUAxq','Aw4Gy2G','zu1LC3m','BwfUzca','AgfZ','zNjVBq','zgvSzxq','u2vYDMK','mtu5mdeYnMfsBe1ftG','EgvJDxq','Bgv0zwq','l2nSCW','oIbgywK','yw1L','C2L6zq','BwfW','mtm4odi0n09AvLfVCG','ywrK','y2GTzgu','zwfU','C2XPy2u','ywXS','nta0mte0y3bsDgjA','C2v0','zsHZksa','zwnRigu','AM9PBG','zxnZywC','Bgv0zsa','DxnLCM4','ywDLCW','BYbIyxq','z2v0','nJu0otCZmKXtsfPNAG','BgvKihq','ihnLCNy','yw4Gy2G','AwnLig0','y2HHDa','Dgv4Da','mZvIuNvhCgi','zxjYB3i','BgvUz3q','AwfSAxO','mtuXmtK1nK9czw1QAG','oIaLBW','BMv4Dfq','oIbcyxq','y2GGzgu','ChvZAa','nJC4mJyXyuznC0rn','y2HHDca','zwqGyNK','AwnR','DhjPBq','ms4XlJa','yxqG','y2uGq2W','CMvWBhK','mtuYmdG2ngTms1bRzG','z2vFAwq','BwvZC2e','oIaVy2W','oIbdBgu','yxbP'];a0a=function(){return C;};return a0a();}function a0b(a,b){const c=a0a();return a0b=function(d,e){d=d-0x186;let f=c[d];if(a0b['zsZOqE']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0b['jZtGDe']=g,a=arguments,a0b['zsZOqE']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a0b['jZtGDe'](f),a[i]=f):f=j,f;},a0b(a,b);}export const version=a0v(0x1bc);registerModule(name);const pendingDeletes=new Map(),flushScheduled=new Set();function scheduleFlush(a,b){const w=a0v;if(flushScheduled[w(0x189)](a))return;flushScheduled[w(0x196)](a),process[w(0x1b3)+w(0x1ba)](async()=>{const x=w;flushScheduled[x(0x18b)+'e'](a);const c=pendingDeletes[x(0x1a5)](a);if(!c||!c[x(0x193)])return;const d=Array[x(0x18a)](c);pendingDeletes[x(0x18b)+'e'](a);const e=[];for(let f=0x0;f<d[x(0x1af)+'h'];f+=0x64){e[x(0x1b6)](d[x(0x199)](f,f+0x64));}await Promise[x(0x19a)](e[x(0x194)](async g=>{const y=x;try{await b[y(0x18b)+y(0x187)+y(0x1a3)](a,g),info(name+(y(0x1b4)+y(0x1b5)+y(0x18f)+'\x20')+g[y(0x1af)+'h']+(y(0x1a8)+y(0x1aa)+y(0x1a0)+y(0x19d)+y(0x186)+y(0x1bd))+a);}catch(h){error(name+(y(0x191)+y(0x1a7)+y(0x1a4)+y(0x197)+y(0x1a1)+'[')+g[y(0x19f)](',')+(y(0x1c7)+y(0x1b8))+a+y(0x1b2),h);}}));});}function markForDeletion(a){const z=a0v,b=a[z(0x1ab)]['id'],c=a[z(0x1c2)+'ge'][z(0x1c2)+z(0x1c1)];!pendingDeletes[z(0x189)](b)&&pendingDeletes[z(0x19c)](b,new Set()),pendingDeletes[z(0x1a5)](b)[z(0x196)](c),scheduleFlush(b,a[z(0x1c5)]);}export async function initialize(){const A=a0v;info(name+'\x20v'+version+(A(0x1c8)+A(0x1b0)+'ed'));}export async function onMessage(a){const B=a0v,b=a[B(0x1c2)+'ge'];if(!b)return;const c=b[B(0x1ac)]?.[B(0x1bb)]();if(c===B(0x190)){try{await a[B(0x1bf)]('OK');const s=a[B(0x18a)][B(0x1a2)+B(0x192)]||a[B(0x18a)]['id'];info(name+(B(0x1c4)+B(0x1a9)+B(0x19e)+B(0x18e)+B(0x1b9)+'\x20')+s);}catch(t){error(name+(B(0x1c3)+B(0x1c6)+B(0x188)+B(0x1ae)+B(0x1b2)),t);}return;}const {new_chat_members:d,left_chat_member:e,chat_photo:f,message_auto_delete_timer_changed:g,video_chat_started:h,video_chat_scheduled:i,video_chat_ended:j,video_chat_participants_invited:k,chat_title:l,successful_payment:m,proximity_alert_triggered:n,boost_added:o,boost_removed:p,web_app_data:q}=b,r=d||e||f||g||h||i||j||k||l||m||n||o||p||q!==undefined;r&&markForDeletion(a);}