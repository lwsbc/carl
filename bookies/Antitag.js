const a0j=a0b;(function(a,b){const i=a0b,c=a();while(!![]){try{const d=-parseInt(i(0x227))/0x1*(-parseInt(i(0x226))/0x2)+-parseInt(i(0x1bc))/0x3+-parseInt(i(0x1c5))/0x4+-parseInt(i(0x212))/0x5+-parseInt(i(0x1fc))/0x6*(-parseInt(i(0x1a8))/0x7)+parseInt(i(0x220))/0x8*(-parseInt(i(0x1a1))/0x9)+parseInt(i(0x1a4))/0xa;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0a,0x4b7ed));import{error,info}from'../bookieutils/logger.js';function a0b(a,b){const c=a0a();return a0b=function(d,e){d=d-0x19b;let f=c[d];if(a0b['JDOGRn']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0b['aZNzsF']=g,a=arguments,a0b['JDOGRn']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a0b['aZNzsF'](f),a[i]=f):f=j,f;},a0b(a,b);}import{db}from'../bookieutils/db.js';import{registerModule}from'../bookieutils/helpeutils/fonthelp.js';export const name=a0j(0x1d6)+'ag';export const version=a0j(0x1a9);registerModule(name);const ALLOWED=new Set([(a0j(0x1dc)+a0j(0x1bb)+a0j(0x21c)+'up')[a0j(0x21a)+a0j(0x21d)+'e'](),(a0j(0x1dc)+a0j(0x20a)+a0j(0x229)+'er')[a0j(0x21a)+a0j(0x21d)+'e']()]);async function initDatabase(){const k=a0j;await db[k(0x218)](k(0x1f4)+k(0x1dd)+k(0x1ab)+k(0x1bf)+k(0x1f2)+k(0x22f)+k(0x1a0)+k(0x214)+k(0x1d2)+k(0x221)+k(0x1c9)+k(0x1eb)+k(0x1f8)+k(0x1e4)+k(0x215)+k(0x210)+k(0x1b8)+k(0x1ed)+k(0x20c)+k(0x1de)+k(0x20e)+k(0x1b6)+k(0x1ea)+k(0x1aa)+k(0x1e3)+k(0x19d)+k(0x1f3)+k(0x213)+k(0x1bd)+k(0x1a7)+k(0x1d1)+k(0x208)+k(0x224)+k(0x1a3)+k(0x1c2)+k(0x1cd)+k(0x1a2)+k(0x1c7)+k(0x1cc)+k(0x1f5)+k(0x1ad)+k(0x20c)+k(0x1de)+k(0x228)+k(0x230)+'\x20\x20');}let processing=![],botRef=null;function a0a(){const p=['BwvZC2e','ywrTAxm','C3vWzxi','qw50Axq','DhLWzq','tsbHBNq','zw50Axq','Bwf0y2G','revmrvq','qfrOzv8','q1jfqvq','ywDLx2K','yMuGDge','rsbguK8','CJOG','DxjS','laOGica','icbjtLq','Df9Pzca','igvYCM8','zxnZywC','z2DLza','ywCGzgu','uIbot1q','Agf0x2K','B2nLC3m','icaGica','x2LKcIa','ywCGAw0','BwvKAwe','tKqGBwu','ie5pvca','zwf0zwq','cIaGica','icHJAge','AwvZ','ywCGzw4','zcaGica','rLjptsa','igLUia','icaG','ndq5mZr4sMDbrM4','id8P','ywDL','BgLUAW','B25Fzw4','B2zMC2u','zu1LC3m','ignHBIa','B25SEsa','rsbJAge','zwqG','Bgv0zwq','vuXuiem','C2fNzsa','qM9VA2K','zxjYB3i','ig1LC3m','su5trvi','zcaGieK','AgfZ','tK9uie4','ifDirvi','mJq1mdiWDhb6A0LR','x2f0ica','AxrHz18','ruDfuIa','Dgv4Da','BwvUDgK','zxHLyW','ywCGC2u','Dg9mB3C','C3nHz2u','CKjHy2S','zxjdyxm','z2vFAwq','yw50Axq','mJK5otGXnLDHDvD1yq','icGkica','teLnsvq','ywDFCxu','vvjsru4','icbtruW','nKXrDuvWta','mtG2ntm4zfL6sMnm','zcKkica','zujHC2G','DgvSEsa','ideWcIa','runuigm','zcWGBwu','CNvU','rvHju1q','icaPoWO','CMvWBge','x2nVzgu','icaGy3i','psa/iee','rsbjtLq','uYbHBNq','oxfrtxfKwa','icaGifa','vf9usu0','mZG1otK0mgHqr3z5tq','zxvLigq','C2vUze0','u1rbtva','n1LerNjRzG','ms4WlJa','ie5vteW','rsbuqui','y2f0y2G','Df9PzcW','tYbHBNq','suDot1i','DgL0Awu','y2fWDgK','yxbP','ywXS','C3vIC3q','uxvLDwu','tLrfr0u','ywCGCxu','vuXmlaO','zNjVBq','y2HHDa','qMfZAgu','mZCXnJK0AKzSD1DL','ifrjtuu','zxvLcIa','teuGsuy','zgvSzxq','z3jVDxa','rvnuqu0','uYaOpYW','vcbpuIa','mZGZotu2ANLrrvzd','ywCGChi','uKLnqvi','vKfmvuu','icaGigm','Dgv4Df8','BgvUz3q','wsblrvK','ucWkica','x2LKid0','zwXLDgu','BMrnzxm','ierfrKe','CxvLDwu'];a0a=function(){return p;};return a0a();}const INTERVAL=0x1388;async function processQueue(){const l=a0j;if(processing)return;processing=!![];try{const a=await db[l(0x1b3)](l(0x1f4)+l(0x225)+l(0x22c)+l(0x1eb)+l(0x22d)+l(0x21b)+l(0x1ee)+l(0x1ed)+l(0x1f9)+l(0x21f)+l(0x223)+l(0x1be)+l(0x1ed)+l(0x222)+l(0x22b)+l(0x1fb));for(const {chat_id:b,message_id:c}of a){try{await botRef[l(0x1b2)][l(0x1c0)+l(0x202)+l(0x1fe)](b,c),await info(l(0x1d6)+l(0x1e9)+l(0x207)+'\x20'+c+l(0x1fa)+b);}catch(d){d[l(0x20b)+l(0x19c)]!==0x190&&d[l(0x20b)+l(0x19c)]!==0x194&&error(l(0x1d6)+l(0x1b7)+l(0x1a5)+l(0x1cf)+l(0x1e6)+l(0x1e1)+d[l(0x1d3)+'ge']);}await db[l(0x22e)](l(0x1db)+l(0x1e0)+l(0x1d8)+l(0x214)+l(0x1d2)+l(0x211)+l(0x205)+l(0x1e5)+l(0x19e)+l(0x1f1)+l(0x21b)+l(0x1ce)+'\x20?',b,c);}}catch(f){error(l(0x1d6)+l(0x1c6)+l(0x1ec)+l(0x1b5)+l(0x1e6)+l(0x1e1)+f[l(0x1d3)+'ge']);}finally{processing=![];}}export async function initialize(a){botRef=a,await initDatabase(),setInterval(processQueue,INTERVAL);}export async function onMessage(a){const m=a0j,b=a[m(0x1d3)+'ge'];if(!b||!a[m(0x1b9)])return![];if(a[m(0x1ba)]?.[m(0x1d7)]!==m(0x1c1)&&a[m(0x1ba)]?.[m(0x1d7)]!==m(0x1d5)+m(0x1c1))return![];const c=b[m(0x216)]??b[m(0x1b1)+'on']??'',d=b[m(0x1d9)+m(0x1f6)]??b[m(0x1b1)+m(0x200)+m(0x1b0)+'s']??[];for(const e of d){if(e[m(0x1d7)]===m(0x217)+'on'){const f=c[m(0x1b4)+'r'](e[m(0x201)+'t'],e[m(0x1cb)+'h'])[m(0x21a)+m(0x21d)+'e']();if(!ALLOWED[m(0x20f)](f))return await handleViolation(a,b),!![];}if(e[m(0x1d7)]===m(0x1ca)+m(0x1ff)&&e[m(0x1e2)]){const g=e[m(0x1e2)][m(0x1da)](/t(?:elegram)?\.me\/(@?[a-zA-Z0-9_]{5,32})/i);if(g){const h='@'+g[0x1][m(0x19b)+'ce']('@','')[m(0x21a)+m(0x21d)+'e']();if(!ALLOWED[m(0x20f)](h))return await handleViolation(a,b),!![];}}}return![];}export async function onCallbackQuery(){return![];}async function handleViolation(a,b){const n=a0j;try{await a[n(0x1c0)+n(0x202)+n(0x1fe)](),await info(n(0x1d6)+n(0x1ef)+n(0x1f0)+n(0x22a)+n(0x1c0)+n(0x206)+b[n(0x1d3)+n(0x21e)]+n(0x1fa)+a[n(0x1ba)]['id']);}catch{await db[n(0x22e)](n(0x20d)+n(0x1c4)+n(0x1af)+n(0x19f)+n(0x1ae)+n(0x214)+n(0x1d2)+n(0x1f5)+n(0x1ad)+n(0x20c)+n(0x1de)+n(0x228)+n(0x1ed)+n(0x1c8)+n(0x1c3)+n(0x1fd),a[n(0x1ba)]['id'],b[n(0x1d3)+n(0x21e)]),await info(n(0x1d6)+n(0x1f7)+n(0x1d2)+'d\x20'+b[n(0x1d3)+n(0x21e)]+n(0x1fa)+a[n(0x1ba)]['id']);}try{const c=await botRef[n(0x1b2)][n(0x1a6)+n(0x1e7)+'e'](a[n(0x1ba)]['id'],n(0x204)+n(0x1d4)+n(0x203)+n(0x1df)+n(0x1e8));setTimeout(()=>{const o=n;botRef[o(0x1b2)][o(0x1c0)+o(0x202)+o(0x1fe)](a[o(0x1ba)]['id'],c[o(0x1d3)+o(0x21e)])[o(0x1ac)](()=>{});},0x1388);}catch(d){error(n(0x1d6)+n(0x219)+n(0x1d0)+n(0x209)+n(0x20b)+':\x20'+d[n(0x1d3)+'ge']);}}
