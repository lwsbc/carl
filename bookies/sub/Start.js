const a0p=a0b;function a0b(a,b){const c=a0a();return a0b=function(d,e){d=d-0x9b;let f=c[d];if(a0b['moIuDI']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0b['HzahvL']=g,a=arguments,a0b['moIuDI']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a0b['HzahvL'](f),a[i]=f):f=j,f;},a0b(a,b);}(function(a,b){const o=a0b,c=a();while(!![]){try{const d=-parseInt(o(0xff))/0x1*(-parseInt(o(0x119))/0x2)+-parseInt(o(0xda))/0x3+parseInt(o(0xea))/0x4*(-parseInt(o(0xb0))/0x5)+-parseInt(o(0xa8))/0x6*(-parseInt(o(0xa5))/0x7)+parseInt(o(0xa9))/0x8*(-parseInt(o(0x108))/0x9)+-parseInt(o(0x10d))/0xa+-parseInt(o(0xd9))/0xb*(-parseInt(o(0x10e))/0xc);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0a,0x6be73));import{db}from'../../bookieutils/db.js';function a0a(){const w=['vfjbsu4','kdeSici','tYbZDge','C1DPDgG','rxjYB3i','y2HHDa','uYbZDge','mtfqAgjvz3K','mtm2ndC5B2X2yun3','igfYzsa','CNqGBwu','BgvUz3q','CNvU','Aw5JBhu','DcbguK8','BguGzxi','rKfvtfq','q0SGkgK','icaGica','DgHLig4','ideScIa','z2v0','ihrLEhq','Axnbzg0','mtG1mty0ne5WtK5hBG','BM90ige','DhLWzq','tK9uie4','vcbZAw4','lcb0zxG','mI4WlJe','AxnbCNi','AwfSAxO','ifbssu0','BwvZC2e','teuGsuy','C3rHCNq','AM9PBG','Dg8GC2u','l3n0yxi','zsbJB24','CMvWBhK','ie1LC3m','id0Gmq','BM93','ntm3mJi5rwjRzNjt','vcb0zxG','BIbdseu','DxiGC3q','kqOGica','rvHju1q','DaO8Ew8','zca9ide','AwqGsu4','nJKYmw5IwLHtAq','vevhrvi','CYaOAwq','A2LUzYa','DgfYDa','nZCZodiWmevnCNDSCq','mtGZnde2odHPv2Tdwvu','CNrFC2u','ie5pvca','tM8GC3q','Dhn0yxi','CYbtrvq','zgvZ','q1jfqvq','C3bSAxq','vcbjtLq','vvbeqvq','mMPJAej6Aq','ienptLm','qvjzieS','ig1Vzhu','ihn0yxi','4PYfifn0yq','l3nLDhm','oGOVC2u','tfvfuYa','igLKid0','uKuGAwq','ywDL','DcbTzxm','Dgv4Dca','vuXmlaO','C3nHz2u','CM9YoIa','mZvlz0X5EvG','vevyvca','CYaOcIa','mJa1nJK4EgjvA3DJ','ntmZnMvHwwPvyq','u0vmrum','Dgv4Da','rsbuqui','zxHLyW','C2XPy2u','zNjVBq','nuTIBfvfrq','id0GpYa','u3rHCNq','zwqU','Aw5LCZ4','su5trvi','icK7cIa','zsbVBIa','yxj0ig0','zxnZywC','Aw46icu','vxnHz2u','rsbZDge','ihnLDc4','8j+AQYbzB3u','DhrPBMC','z2XLDg8','C2fNzs4','v0HfuKu','zxH0igW','rvKGreu','DhjPBq','AxPLzca','tsbZDge','CYbxseu','Dcb0Agu','DcKGvKe','zMLNDxi','ignOzwm','ChjPDMe','igLUAxq','cIaGica','DxrOB3i','C2v0'];a0a=function(){return w;};return a0a();}import{getConfig}from'../../bookieutils/config.js';import{error,info}from'../../bookieutils/logger.js';import{applyFont,registerModule}from'../../bookieutils/helpeutils/fonthelp.js';export const name=a0p(0xb2)+a0p(0xfc)+a0p(0x9f);export const version=a0p(0xf0);registerModule(name);const COOLDOWN_TIME=0x3c*0x3e8,userCooldowns=new Map();async function initDatabase(){const q=a0p;await db[q(0xad)](q(0xcf)+q(0x115)+q(0xac)+q(0xf5)+q(0x110)+q(0x104)+q(0xd8)+q(0x10f)+q(0xbf)+q(0xa7)+q(0xe4)+q(0x107)+q(0x109)+q(0xf3)+q(0x11b)+q(0xc4)+q(0xe2)+q(0xe6)+q(0xe4)+q(0xa1)+q(0xa6)+q(0xed)+q(0xa2)+q(0xe4)+q(0x11a)+q(0xd2)+q(0xee)+q(0xc0)+q(0x101)+q(0xe3)+q(0x106)+q(0x103)+q(0xb6)+'\x20');const a=await db[q(0xe7)](q(0xaa)+q(0x100)+q(0xe0)+q(0xc7)+q(0x10f)+q(0xbf)+q(0xc8)+q(0x9e)+q(0xfd));!a&&await db[q(0xde)](q(0xb5)+q(0x117)+q(0xd4)+q(0x10f)+q(0xbf)+q(0x10a)+q(0xef)+q(0xca)+q(0x9c)+q(0xd3)+'\x22)');}async function getStartText(){const r=a0p,a=await db[r(0xe7)](r(0xaa)+r(0x100)+r(0xe0)+r(0xc7)+r(0x10f)+r(0xbf)+r(0xc8)+r(0x9e)+r(0xfd));return a?a[r(0xab)]:'';}async function saveStartText(a){const s=a0p;await db[s(0xde)](s(0x118)+s(0xbc)+s(0x10f)+s(0xbf)+s(0x113)+s(0xe8)+s(0xb1)+s(0xc2)+s(0x9d)+'\x201',a);}function isAdmin(a){const t=a0p;try{const {ADMINS:ADMINS=[]}=getConfig();return a[t(0xaf)]&&Array[t(0xf1)+'ay'](ADMINS)&&ADMINS[t(0xdf)+t(0x114)](a[t(0xaf)]['id']);}catch(b){return error(t(0xd6)+t(0xcc)+t(0x10b)+t(0xe9)+t(0xba)+'o',b),![];}}export async function initialize(){const u=a0p;await initDatabase(),info(name+(u(0xce)+u(0xf2)+'ed'));}export async function onMessage(a){const v=a0p;if(a[v(0xd7)][v(0xec)]!==v(0xcd)+'te')return;const b=a[v(0xf4)+'ge']?.[v(0xab)];if(!b)return;try{if(b[v(0xf6)+v(0xd5)](v(0x11f)+v(0x10c))){if(!isAdmin(a)){const g=await applyFont(name,v(0xbe)+v(0xdb)+v(0xeb)+v(0xd0)+v(0xc6)+v(0xf8)+v(0xc9)+v(0x11d)+v(0xa0)+v(0xc1));return a[v(0xfb)](g);}const c=b[v(0x116)]('\x0a');if(c[v(0xdd)+'h']<0x2){const h=await applyFont(name,v(0xbb)+v(0x9b)+v(0x112)+v(0x105)+v(0x102)+v(0xb8)+v(0xb9)+v(0xb7)+v(0xe5)+v(0xc3)+v(0xb4));return a[v(0xfb)](h);}const d=c[v(0xae)](0x1)[v(0xf7)]('\x0a');await saveStartText(d);const f=await applyFont(name,v(0x11e)+v(0xdc)+v(0xa3)+v(0xbd));return a[v(0xfb)](f);}if(b[v(0xc5)]()===v(0xf9)+'t'){const i=a[v(0xaf)]['id'],j=Date[v(0xfe)](),k=userCooldowns[v(0xe7)](i)||0x0;if(isAdmin(a)){const m=await getStartText();return a[v(0xfb)](m||await applyFont(name,v(0x111)+v(0xb8)+v(0xb9)+v(0xfa)+v(0xcb)+v(0xb3)));}if(j-k<COOLDOWN_TIME)return;userCooldowns[v(0xd1)](i,j);const l=await getStartText();if(l)return a[v(0xfb)](await applyFont(name,l));return a[v(0xfb)](await applyFont(name,v(0x111)+v(0xb8)+v(0xb9)+v(0xfa)+v(0xcb)+v(0xb3)));}}catch(n){error(v(0xb2)+v(0x11c)+v(0xe1)+v(0xa4)+'%o',n);}}export async function onCallbackQuery(){}