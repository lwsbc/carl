const a0bI=a0b;(function(a,b){const bH=a0b,c=a();while(!![]){try{const d=-parseInt(bH(0x525))/0x1+parseInt(bH(0x428))/0x2*(parseInt(bH(0x404))/0x3)+-parseInt(bH(0x547))/0x4*(-parseInt(bH(0x2f2))/0x5)+-parseInt(bH(0x541))/0x6*(-parseInt(bH(0x2b0))/0x7)+parseInt(bH(0x3d0))/0x8+-parseInt(bH(0x416))/0x9+-parseInt(bH(0x266))/0xa;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0a,0xe3c6c));import{InlineKeyboard}from'grammy';import{error,info}from'../bookieutils/logger.js';import{getConfig}from'../bookieutils/config.js';import{db}from'../bookieutils/db.js';import{getDefault,getConnection}from'../bookieutils/connection.js';import{applyFont,registerModule}from'../bookieutils/helpeutils/fonthelp.js';function a0a(){const cp=['C2vSzwm','yxj0ihq','DgvYCY4','Bwf4','zxjFy3K','DgLVBNm','BgvHC3q','B25Zzv8','ChjVy2u','BMv3igi','CK5HBwu','4PYfifjLCa','B24XkgG','ywnRx3e','pc9PpGO','zgvMCW','phrNlxm','8j+uMsbcywm','EgvZlG','BMvSigy','AgfZ','u2f2zwq','ugXLyxm','y3rPB24','kaOGica','CM9YoIa','CM9TChq','C2uGmGO','ihrVige','yxzLige','C1DPDgG','oI8VzxG','y3vZDg8','DgrLBgy','BwfW','DdOGrMK','CMvWBge','zcWGy28','mty1rfvgBNvb','BIbyoLK','cGPgAwW','zv9PBMq','zt4IicG','icaGq1i','zhKGzxG','BtO6','B3i6ie4','zsbMAwW','DgL0Bgu','CIbJB20','ig1Lyw4','igXHEw8','zYbIzwy','ieLoveu','DwvYEq','pc9ZpG','nty4mte2mg9uzvPbzq','vcbpuIa','lgzPBhq','qKvhsu4','C2v0','BNn0yw4','qu5eig4','BgL6zwq','ignOB28','ywrKx2i','4P2mievYCG','jMfTCdS','z2v0q2G','Cgf0Ag4','BJO6','zsbMCM8','zxmU','BgvHC2u','mtKZmJrPufjsvKi','DgeGzM8','zM9Yia','svnuuYa','CNjVCJO','z3mGkgm','BNvTyMu','ignOyxq','ifzbtfu','BgvJDgK','Aw5Nigi','CYKGDg8','Dw5KlGO','y29UzMK','icK7cIa','y2HHBMC','x3nLBgu','ignHBgW','zM9YBwe','lMnVBsK','DcbgAwW','wY4UlL0','BgLZDgy','lI4U','y2vS','BYbKzwW','igfUzc8','BMCGzgu','Aw5Nihi','icaGy2G','t1qGrvG','u2vUzca','BMzPz18','zgvZ','zxi+','igLUieK','x21Vzgu','vuXmcIa','B25Jzq','B3jLihm','pgK+qNu','ufjbr00','yJ4k','B20PcJ8','zxiG','C3nLzc4','yMvPBMC','lY9LEge','CgL0zsa','C3vIC3q','BNnLide','vevyvca','4O+X77IpiefJDa','Dgu+','4PYfierLBa','B25Zihy','8j+tLIbmAxm','zxHLCYK','twLNCMe','igzVDw4','Dhj5ige','r0vsifa','CNm6cG','AMLFAwq','igLUzgu','yxLVDxq','CgXLlMm','AwzPzwq','zsbIDxq','D2L0Aca','u0fdveK','DgLVBIa','y29Kzt4','ywrK','BhjLC3a','lcbKzxm','CMvWBhK','CMLUzW','tg9Hzca','AxrLx20','BhqGz3i','BgvKihq','Aw5KzxG','zwXMyNu','Bwukw08','C3bVBNm','icaGy28','BML0Awe','Aw4GzM8','B3DUigu','Dg9Ux3a','CM93','DgLVBI4','CMvHDgu','kgzPBhq','rufursa','zxiGCM8','cKzVCIa','rdOG','ugfNzsa','BNnLlG','DgfYDca','oJWVyJ4','B25Ziha','rvHuifa','zxrLzdO','phrNlwu','vefcteu','ugfYC2u','zxmGkgm','yw55igy','B25Z','4P2mifvUzq','zw50CMK','igXPC3q','yxnLigK','zwy9iG','zguGzMK','AxqGzxi','ywn0Aw8','DhrVBIa','C2uG','zxjdyxm','BMfTzq','Esb3Axq','mI4YlJa','B24Gzge','ywnRigu','u0Lhsu4','Dxn0igG','yNv0Dg8','y2fSBgi','y2HHDeK','tfqGmaO','y29TBwe','BMq6cG','jMX0oW','zMX0oJO','y2TXDw8','DgvYihi','At4k','BNnLx2K','AwDZlG','ihjLC3a','tLvmtca','C2vFChi','DdOGl2y','BNqGBwK','mqOHifi','Dg9UmIG','lwLKpsi','ihnLBgu','DhrVBNm','BwfPBG','BwfUzca','icHSAxm','suqGpgi','zsbMB3i','Bgv0zwq','BgLUzq','ywW6igi','Dgv4Dca','lIWGmtO','AcbMB3u','CgfYC2u','zgf0zwq','zgvZy3i','DgfKzgi','zxGPify','uMvZDwW','zt0NDge','zxm6pc8','cLjLCgW','zw1VAMK','zsbYzxm','uMvHzhK','4PYfiej1Da','oJWVAt4','yw1LcIe','DcbVCIa','ifbssu0','B3vWigm','rfjpuca','B25ZzsG','q0uGsu4','lcaR','pgjSB2m','zgv4zxm','BhrLCIa','ig1HEsa','idik','D24UlI4','rM9YieK','AwqGyNu','Chq6ia','igvYCM8','zxrOCM8','tsbMAwW','pc9JB2q','yxbP','D24Gq2G','B3jPEMu','iokaOIaUlG','AxbSzsa','4P2mierPCW','su5uruC','zvjLCgW','CM1HDdO','zsbHDca','BwLSyxi','yw1LcLS','yxKGywW','Dg9Ux3m','B24GrLi','ChrPB24','l2rLBgy','ieLeoIa','ifrsqu4','ywn0ihi','zwf0Aw4','Dg9mB3C','qNv0Dg8','Bgv0Aw8','BwLZCYa','CYaOcIa','AwqGC2u','Agv5ig0','AguGzgu','igrLBgu','tg9Hzgu','EhbLy3q','tK9uie4','zw5K','BMqUifa','isbszxm','ihrYEsa','ifG6wsa','maOGica','DgvYig4','rM9YBwe','DgvKigy','BIbKzwy','Ahv0zg8','ifrOzxK','iej1Dhq','DgvYigm','phbYzt4','Dg9UmsG','yxzLigm','zwqPlG','DMfSAwq','BIbUyw0','pc9HpG','mtu3nZa4ngLkqMn2DG','4P2mie5VDa','AwnOig8','BMfTzxm','C3mGD2K','Agf2zsa','AwvK','BNnLihq','zxrLlG','zxrLifi','4P2mienHBG','BweGC2u','qM90igK','Axb0Aw8','tM8GC2K','cIeGuMu','rwfJAca','DgvYoGO','A2v5lca','CIbMAwW','DgvYtMe','yxn0zxi','tcbPBIa','BgzPBhq','iokaOIa','u2f2Aw4','CgXL','B21WDa','mZuZmta5mfHyq3nmEa','t3b0Aw8','zwqG','icaGica','Dg9Uig4','zcbMCM8','ng93uK1rza','BgLKoIa','yxqGsuq','zMLNCYa','CM92Awq','DgvYoIa','x3jLC3a','igzPBhq','Dgv4Da','icbMAwW','ihjLC3u','BM9VCa','z2v0','C3vNz2u','tdOG','zxrLigi','zxrPB24','BMfSoIa','4PYfiezPBa','4P2mieLUDG','C2vFAw4','DdOG','iokaOIa8Aq','4PYfien1CG','B3iGy3i','BgfZDeK','mL0kpYa','DgvYx3a','laOGica','C21HDgm','rMLSDgu','C3rHy2S','yxrJAgu','oJjDcJ8','zMLSDgu','BM90x2y','pc9IpG','zv9IDxq','Dhj1BMm','DhrWCZO','ve8GzMK','y2uGCMu','CMvHzhK','twvUDsa','pc9IpIi','qKXfihu','ihrOzsa','BIaXoJe','BYb2ywW','ywXS','Ag9ZDg4','z2vFAwq','BMrFzgu','BhrLCJe','reiGAw4','DcbcDxq','C3rPB24','BwfZDgu','BM93','uKvqtee','l2zPBhq','CdO6','DxaGjW','Cg9PBgu','CNvU','zY4Side','AxrHBgK','x19PC0e','zwXLy3q','CgfYyxq','DgrLBhi','ihLVDsa','zxGGsu4','CKnHBgW','zw50','BMnHDgu','zxH0xs4','tM8GzMK','zdOG','8j+sOsbeAwq','ihnWzwm','BgLUAW','Aw4GzMK','C3rHDhu','zwfZzsa','sw5PDca','thmSig8','Bw9KAwy','CIbbzg0','Bwf0y2G','DgvYx2m','zgv4iey','uK9nihu','ignOzwm','DgvYCW','rviGtK8','uKLnqvi','Dg9U','t00GzMK','Dg9UCW','B25Zzxm','ihnLDc4','DxjS','ywDHAw4','CI4GugW','BK5HBwu','EhqU','pc9IBg8','uhj1BMu','u2H1Dgq','8j+uMca8yJ4','lIbvC2K','icHJB20','l2rLBhi','Bw9Kzq','DwDO','zw50Axq','CgvUzgK','twvUDq','C2vYp2K','CIbSyxK','pgK+','jNf1B3q','4P2mie5Via','C2fNzsa','C3qGB24','yM9Sza','CMvZCg8','w25HBwu','zgvSzxq','q2fSBgi','ANnVBIa','igLUigW','qsb0ywi','y2HHDf8','pgi+','pc9IpI8','qvjzieS','jMD0oW','C2XPy2u','zgvKigy','tMv4Dca','ywXYzwe','y2vPBa','B25Zzsa','rxHHy3q','phm+','DxqGzM8','lI4UkqO','rsb0Exa','4P2miej1Da','l2nHBMm','Bgj0BNa','yxrFAwq','B3qGzM8','igj1Dhq','C3bVAwW','B3vUzc4','C2vYx3i','zM9YigW','vxnHz2u','zgv4','zsbHy3q','yw1WBgu','BhrLCK4','yMfJAYa','pYbcDxq','Bwukisa','q09ntuK','zwXLDgK','icGkica','yw1L','ihvZzxi','Dgv4Df8','Dcb0CNu','ywnRuxu','Bgf5B3u','BwvHBJO','B21WBgu','zcb5B3u','CYKU','4PYfiefKza','B3i6ia','zv9RzxK','C29YDa','zxHLyW','zYbPBMq','CZO6','oIaVzgu','mZaZodCXmgnYEwv1DW','zZOVl3u','AYbLCNi','zxj5','Dxr0B24','tM8GyNu','BMfTzs4','Aw9Uihq','CYbxseu','igLUDMe','A2v5CW','Bvvvsuq','Aw9Uigu','ihrLEhq','ChjPDMe','zgvMyxu','BIbWCM8','pc90zY0','Aw4Guge','icbduKu','jImWmZK','zxHHy3q','sfrnta','y2XLx2S','ywXPzca','Dw5KlIa','BgfJzwq','icaPoWO','DgeU','B3vWlG','AwqGy2G','u2f2zsa','Aw5JBhu','zvrLEhq','yMXVy2S','8j+uLYa8y28','C2vWyxi','zsbguK8','igLUAxq','ieLeia','BxbSzs4','y2vZCYa','pgeGAhi','C3rYAwS','BMrLEe8','B3v0ihC','zxnZywC','DcbSzwe','B2nLC3m','BhrLCL8','C3nPBMC','ChvZAa','yw5ZD2u','DhLWzq','zxm7','igv4Axm','vcbMAwW','cIaGici','zgf0yq','CL9JEwm','oGOkiJW','lca/kq','igf1DgG','BhrLCNm','zgqGCMu','zwy9iNq','Dg9Uigq','B3iG','y3vYCMu','zv9MAwW','rxjYB3i','C3vSDca','BMrLEgu','C3rYAw4','mtrSz2PmzNi','veuGvee','BIbMB3u','y29Kzq','DgfKzhi','zxiGB2y','CYb0ywi','igzVCIa','zxn0yxi','C2uGC2u','y2XLyxi','CIbUyw0','Ahr0Chm','DxqU','x3bYB20','zwqU','CxvVDgu','yxmGDw4','twf4idG','su5trvi','BNnLCW','BhqGzM8','zw50x2K','DgHPCYa','C3m6oG','B24GChi','zgLZBwK','y2HHCKe','BwfPBJO','CYC7','ie5pvca','zwrPDe0','CYbHzgq','suqG','zwqGzxi','qunl','B2zMC2u','B24YkgG','zguGyNu','BMqU','DxjLzc4','Axn0lG','suqGBwK','uKuGy2G','BwLU','BgzIDxq','C2L6zq','icG/lca','lIbgAwW','Bv9LBw8','zenVBNq','zxjYB3i','Acb0Agu','y2vSBgu','DcbMB3i','A2v5ifq','BYbJyw4','x21HCMS','DguU','u0Lhveu','rsbguK8','AwX0zxi','CNmGzxi','y29TkqO','zgqGyNu','zxiGiG','ndK4nZCYnwvZBefkvG','CNmGzgu','BguUlI4','DxjYzw4','Dw5Kzxi','wsblrvK','8j+AQYboB3q','vcbJAge','zxrLiei','y2vSlG','4P2mierLzG','ChjL','zxKSigm','uMvZCg8','B25Zigy','zMX0B3a','BMrLEca','B24GCMu','DgGGl2q','AwDFANm','C29Tzq','BMqGAw4','Ac4GrgK','yMfJA1e','zcbPBIa','yxrLzcK','DxbZ','zwXLDgu','DhbZoI8','tMfTzq','C2vZige','vcbUyw0','4PYfifjLCW','u0vmrum','rvKScIa','zguGzxG','Dcb0Agu','Df9PzcW','BgvFA2u','BMv3ihi','AxjLzca','BgvFAw4','ignVBMy','BM90rM8','zxmGzxi','zxjFCMu','DgvZDa','ifDirvi','ifrfwfq','yw1LpsC','DhjPBq','cIaGica','DgvYihy','4P2tie5Via','l2XPC2y','A3f1B3q','BwvUDgK','qvvmvca','Eu1HCMS','z3jVDxa','BMCGywm','phu+','B3DUihm','zxiXlgy','DxnLCG','DgvYici','CIbMB3i','zv9Hzgq','yw1LCY4','icvVcIu','B25MAwC','uhjVDMK','EhbPCMu','CM93ig0','4P2mifbSzq','pc9IpJO','tsbZCwW','icaGigm','BIbJB3u','rgf0ywi','ifjLC3a','EwnSzv8','AM9PBG','CIb0BYa','x2n5y2W','B3vUza','AwqGvvi','BJeOAhq','ChjVBxa','qvrfifq','pc9IpGO','yMXLjYa','z2LMEq','zM8ODxm','ywn0Axy','ign1CNi','4P6viefKza','C2uGDgu','ANnVBIK','pgnVzgu','CxvPCMu','id0GpW','DxnLCL8','Dgu6','revgqvu','CM9Tigy','CL9JB24','sw52ywW','ig1HDgm','C3bSAxq','vevhrvi','y2XVC2u','tcberuy','BNnLsw4','AdOG','yxnLihi','4P2miezHAq','BxvSDgK','pgi+rMK','icaGigy','zMfPBgu','zwqUifq','pc91pG','zxrLiey','l2v4yw0','4P2mieDYBW','zNjVBq','pgK+uMu','Cg9UC2u','zxHLCY4','Df9PBMq','zsaYcGO','ig5VDca','B21Tysa','ig11Bhq','iensrue','Bw9QAsa','BMuGDg8','AwqGzge','icHTzxm','ieLgie4','zM9Yrwe','z2uGAxm','BgvUz3q','BIbUB3q','zv9Yzxm','z2fPBI4','zxbSywm','zM9YieK','WQSGuhjL','4Os577Ipie5Via','Agf0x2K','qwrTAw4','zxiY','CIbKzwW','zwqGDg8','D24Gywm','B24OCYK','CMvUDca','yxvSDca','Dw5K','lcbLlMC','uK9mtei','CIbhCM8','zxnWB24','vw5RBM8','lIbqBgu','DgLUzYa','quXvrvm','AwqGBge','ihrVigq','AwvZ','pc9WCMu','ihbLBMq','zgrLzc4','C2uGD2G','jYbUB3q','BIbJyw4','B3iGDxa','Dg9Uiei','CMv2zxi','Ew91Dca','zgu+','BgLZDgi','BgLHC08','vcbovuW','BwvZC2e','z19QC28','DgHLigq','zt4k8j+tGsa','B24Uifa','revmrvq','C2u6oG','ig51Bwi','txvSDgK','C2uGw3q','ig1VCMu','ve8GDxm','rvmGkd8','AwfSAxO','B3iGzMK','zcbLEha','8j+xKE+4JYbezwW','Aw52ywW','yxnLiha','CMvKDwm','8j+tIYbmAxm','vxnLCIa','BNnLvgu','zMX0ywq','BNrFAw4','qujmrsa','l2XPC3q','zxHLCYa','BNnLigq','AxnbCNi','zYbMAwW','DcWGzs4','ywrKx3i','C3bSAwm','CYbMB3u','C3rHCNq','ntKXmZq1nNjerLrMwG','lMfUzca','CMfUzg8','BsbMAwW','ChjVDMK','zxiGzMK','y2HHDa','pgi+uMu','CgXLig0','ihjLC3q','idek','zMf1Bhq','ig9Uzsa','iJXIpG'];a0a=function(){return cp;};return a0a();}import a0c from'crypto';export const name=a0bI(0x1c7)+'r';export const version=a0bI(0x4a5);registerModule(name);const CALLBACK_PREFIX=a0bI(0x4b1),ADMIN_CALLBACK_PREFIX=a0bI(0x3c3)+a0bI(0x40b),PENDING_ACTION_TTL_MS=0x14*0x3c*0x3e8,FILTER_SAVE_DEBOUNCE_MS=0x1388,USER_INDEX_SAVE_DEBOUNCE_MS=0x7d0,LEVENSHTEIN_DISTANCE_THRESHOLD=0x5,FILTERS_PER_PAGE=0x5,BUTTONS_PER_PAGE=0x5,MAX_MESSAGE_LENGTH=0xfa0,filters=new Map(),userResponseIndex=new Map(),pendingActions=new Map(),pendingAdminActions=new Map();let filterSaveTimer=null,userIndexSaveTimer=null,prunePendingInterval=null,botApi=null;function escapeHtml(a){const bJ=a0bI;return a[bJ(0x402)+'ce'](/&/g,bJ(0x421))[bJ(0x402)+'ce'](/</g,bJ(0x4b0))[bJ(0x402)+'ce'](/>/g,bJ(0x233))[bJ(0x402)+'ce'](/"/g,bJ(0x223)+';')[bJ(0x402)+'ce'](/'/g,bJ(0x27a)+';');}function generateUniqueToken(){const bK=a0bI;let a;do{a=a0c[bK(0x3d2)+bK(0x271)]();}while(pendingActions[bK(0x3f2)](a));return a;}function isAdmin(a){const bL=a0bI;try{const {ADMINS:ADMINS=[]}=getConfig();return!!a[bL(0x370)]?.['id']&&Array[bL(0x3c9)+'ay'](ADMINS)&&ADMINS[bL(0x286)+bL(0x449)](a[bL(0x370)]['id']);}catch(b){return error(bL(0x38a)+bL(0x206)+bL(0x268)+bL(0x25f)+b[bL(0x3ac)+'ge']),![];}}function getChatFilters(a){const bM=a0bI;return!filters[bM(0x3f2)](a)&&filters[bM(0x41a)](a,new Map()),filters[bM(0x553)](a);}function prunePendingTokens(){const bN=a0bI,a=Date[bN(0x1e3)]();for(const [b,c]of pendingActions){c['ts']&&a-c['ts']>PENDING_ACTION_TTL_MS&&pendingActions[bN(0x22a)+'e'](b);}for(const [d,e]of pendingAdminActions){e['ts']&&a-e['ts']>PENDING_ACTION_TTL_MS&&pendingAdminActions[bN(0x22a)+'e'](d);}info(bN(0x215)+bN(0x3bb)+bN(0x31a)+bN(0x21e)+bN(0x32e)+bN(0x3e3)+'.');}async function initDatabase(){const bO=a0bI;try{await db[bO(0x262)](bO(0x325)+bO(0x544)+bO(0x409)+bO(0x487)+bO(0x493)+bO(0x37e)+bO(0x446)+bO(0x42b)+bO(0x1cb)+bO(0x35c)+bO(0x54a)+bO(0x3f6)+bO(0x544)+bO(0x544)+bO(0x445)+bO(0x242)+bO(0x413)+bO(0x465)+bO(0x209)+bO(0x2f7)+bO(0x1c5)+bO(0x544)+bO(0x544)+bO(0x47e)+bO(0x448)+bO(0x22c)+bO(0x45b)+bO(0x50f)+bO(0x44d)+bO(0x544)+bO(0x544)+bO(0x436)+bO(0x544)+'\x20\x20');const a=await db[bO(0x553)](bO(0x313)+bO(0x311)+bO(0x28b)+bO(0x33e)+bO(0x477)+bO(0x53a)+bO(0x321)+bO(0x23e)+bO(0x4d2)+bO(0x34d)+bO(0x41c)+bO(0x323)+bO(0x358)+bO(0x228)+bO(0x4b5)+bO(0x2ae)+bO(0x2cd));if(a){const b=await db[bO(0x1da)](bO(0x451)+bO(0x22e)+bO(0x31b)+bO(0x34f)+bO(0x31f)+bO(0x47d)+bO(0x407)+bO(0x461)+';'),c=b[bO(0x306)](d=>d[bO(0x4a3)]===bO(0x1cb)+bO(0x2a1)+bO(0x318)+'y');!c&&(info(bO(0x462)+bO(0x399)+bO(0x358)+bO(0x228)+bO(0x4b5)+bO(0x2ae)+bO(0x2b6)+bO(0x2f4)),await db[bO(0x262)](bO(0x4de)+bO(0x493)+bO(0x255)+bO(0x54d)+bO(0x3e5)+bO(0x47a)+bO(0x29c)),await db[bO(0x262)](bO(0x325)+bO(0x544)+bO(0x544)+bO(0x544)+bO(0x379)+bO(0x2b1)+bO(0x1d6)+bO(0x247)+bO(0x396)+bO(0x55b)+bO(0x4e3)+bO(0x253)+bO(0x544)+bO(0x544)+bO(0x544)+bO(0x544)+bO(0x550)+bO(0x203)+bO(0x343)+bO(0x2e7)+bO(0x490)+bO(0x209)+bO(0x2f7)+bO(0x1c5)+bO(0x544)+bO(0x544)+bO(0x544)+bO(0x544)+bO(0x351)+bO(0x2c6)+bO(0x302)+bO(0x4f5)+bO(0x208)+bO(0x3ab)+bO(0x362)+bO(0x32b)+bO(0x515)+bO(0x544)+bO(0x544)+bO(0x544)+bO(0x281)+bO(0x544)+bO(0x544)+bO(0x544)+'\x20'));}else await db[bO(0x262)](bO(0x325)+bO(0x544)+bO(0x544)+bO(0x279)+bO(0x34b)+bO(0x3c5)+bO(0x358)+bO(0x228)+bO(0x4b5)+bO(0x2ae)+bO(0x508)+bO(0x544)+bO(0x544)+bO(0x544)+bO(0x369)+bO(0x2ed)+bO(0x346)+bO(0x260)+bO(0x322)+bO(0x4dc)+bO(0x232)+bO(0x314)+bO(0x544)+bO(0x544)+bO(0x544)+bO(0x33f)+bO(0x2f5)+bO(0x374)+bO(0x1f1)+bO(0x360)+bO(0x2ce)+bO(0x4b8)+bO(0x35a)+bO(0x4ad)+bO(0x544)+bO(0x544)+bO(0x544)+bO(0x436)+bO(0x544)+bO(0x544)+'\x20');info(bO(0x341)+bO(0x49b)+bO(0x47f)+bO(0x41d)+'.');}catch(d){error(bO(0x1df)+bO(0x49e)+bO(0x3f7)+d[bO(0x3ac)+'ge']);throw d;}}function rehydrateChatFilters(a){const bP=a0bI,b=new Map();for(const c in a){const d=a[c];if(d){d[bP(0x228)+bP(0x2c4)]?d[bP(0x228)+bP(0x2c4)]=d[bP(0x228)+bP(0x2c4)][bP(0x400)](e=>{const bQ=bP;if(typeof e===bQ(0x2af)+'g')return{'text':e,'entities':[]};if(!Array[bQ(0x3c9)+'ay'](e[bQ(0x21d)+bQ(0x39d)]))e[bQ(0x21d)+bQ(0x39d)]=[];return e;}):d[bP(0x228)+bP(0x2c4)]=[];if(!d[bP(0x4aa)+'ns'])d[bP(0x4aa)+'ns']=[];if(!d[bP(0x259)+'t'])d[bP(0x259)+'t']=[];}else d={'responses':[],'buttons':[],'layout':[]};b[bP(0x41a)](c,d);}return b;}async function loadFiltersFromDB(){const bR=a0bI;try{const a=await db[bR(0x1da)](bR(0x313)+bR(0x2f9)+bR(0x317)+bR(0x31c)+bR(0x305)+bR(0x4fd)+bR(0x20b)+bR(0x297)+bR(0x435)+'gs');filters[bR(0x2ba)]();for(const b of a){try{const c=JSON[bR(0x4cc)](b[bR(0x435)+bR(0x3ad)+'n']);filters[bR(0x41a)](b[bR(0x22f)+'id'],rehydrateChatFilters(c));}catch(d){error(bR(0x494)+bR(0x4eb)+bR(0x334)+bR(0x42f)+'\x20'+b[bR(0x22f)+'id']+':\x20'+d[bR(0x3ac)+'ge']),await db[bR(0x1e9)](bR(0x3b1)+bR(0x2ec)+bR(0x4ed)+bR(0x203)+bR(0x338)+bR(0x26e)+bR(0x2db)+bR(0x242)+bR(0x357),b[bR(0x22f)+'id']);}}info(bR(0x50d)+'d\x20'+filters[bR(0x2de)]+(bR(0x42f)+bR(0x31c)+bR(0x4b6)));}catch(f){error(bR(0x476)+bR(0x1cb)+bR(0x2ee)+bR(0x3f7)+f[bR(0x3ac)+'ge']);}}function dehydrateChatFilters(a){const bS=a0bI,b={};for(const [c,d]of a[bS(0x499)+'es']()){b[c]={...d};}return b;}function markFiltersChanged(){clearTimeout(filterSaveTimer),filterSaveTimer=setTimeout(saveAllFiltersToDB,FILTER_SAVE_DEBOUNCE_MS);}async function saveAllFiltersToDB(){const bT=a0bI;info(bT(0x53e)+bT(0x3ca)+bT(0x3e0)+'..');let a=0x0;await db[bT(0x1e9)](bT(0x419)+bT(0x501)+bT(0x46e)+'ON');try{for(const [b,c]of filters[bT(0x499)+'es']()){const d=JSON[bT(0x2af)+bT(0x34e)](dehydrateChatFilters(c));await db[bT(0x1e9)](bT(0x2c3)+bT(0x417)+bT(0x1e4)+bT(0x4e0)+bT(0x1d1)+bT(0x297)+bT(0x435)+bT(0x42d)+bT(0x389)+bT(0x403)+bT(0x448)+bT(0x354)+bT(0x430)+bT(0x3b8)+bT(0x2a3),b,d),a++;}await db[bT(0x1e9)](bT(0x251)+'T'),info(bT(0x3f3)+'\x20'+a+(bT(0x42f)+'s.'));}catch(f){await db[bT(0x1e9)](bT(0x394)+bT(0x2d3)),error(bT(0x285)+bT(0x2e3)+':\x20'+f[bT(0x3ac)+'ge']);}}async function loadUserResponseIndexesFromDB(){const bU=a0bI;try{const a=await db[bU(0x1da)](bU(0x313)+bU(0x29e)+bU(0x203)+bU(0x343)+bU(0x537)+bU(0x2aa)+bU(0x3c4)+bU(0x204)+bU(0x205)+bU(0x247)+bU(0x396)+bU(0x55b)+bU(0x4e3));userResponseIndex[bU(0x2ba)]();for(const b of a){userResponseIndex[bU(0x41a)](b[bU(0x1cb)+bU(0x2a1)+bU(0x318)+'y'],b[bU(0x2aa)+bU(0x3c4)+bU(0x24a)]);}info(bU(0x50d)+'d\x20'+userResponseIndex[bU(0x2de)]+(bU(0x468)+bU(0x3f0)));}catch(c){error(bU(0x476)+bU(0x47a)+bU(0x31e)+bU(0x3f7)+c[bU(0x3ac)+'ge']);}}function markUserIndexChanged(){clearTimeout(userIndexSaveTimer),userIndexSaveTimer=setTimeout(saveUserResponseIndexesToDB,USER_INDEX_SAVE_DEBOUNCE_MS);}async function saveUserResponseIndexesToDB(){const bV=a0bI;info(bV(0x53e)+bV(0x263)+bV(0x373)+'..');let a=0x0;await db[bV(0x1e9)](bV(0x419)+bV(0x501)+bV(0x46e)+'ON');try{for(const [b,c]of userResponseIndex[bV(0x499)+'es']()){await db[bV(0x1e9)](bV(0x2c3)+bV(0x417)+bV(0x1e4)+bV(0x4e0)+bV(0x3b7)+bV(0x31f)+bV(0x47d)+bV(0x407)+bV(0x3c7)+bV(0x486)+bV(0x3e2)+bV(0x27d)+bV(0x2fe)+bV(0x2f5)+bV(0x374)+bV(0x4d0)+bV(0x39a)+bV(0x2df)+'?)',b,c),a++;}await db[bV(0x1e9)](bV(0x251)+'T'),info(bV(0x3f3)+'\x20'+a+(bV(0x468)+bV(0x3f0)));}catch(d){await db[bV(0x1e9)](bV(0x394)+bV(0x2d3)),error(bV(0x285)+bV(0x2e3)+':\x20'+d[bV(0x3ac)+'ge']);}}function formatTextWithEntities(a,b){const bW=a0bI;if(!b||b[bW(0x381)+'h']===0x0)return escapeHtml(a);const c=[];b[bW(0x37f)+'ch'](g=>{const bX=bW,h=g[bX(0x2d4)+'t'],i=g[bX(0x2d4)+'t']+g[bX(0x381)+'h'];c[bX(0x299)]({'offset':h,'type':g[bX(0x29b)],'action':bX(0x3cf),'entity':g}),c[bX(0x299)]({'offset':i,'type':g[bX(0x29b)],'action':bX(0x510),'entity':g});}),c[bW(0x261)]((g,h)=>{const bY=bW;if(g[bY(0x2d4)+'t']!==h[bY(0x2d4)+'t'])return g[bY(0x2d4)+'t']-h[bY(0x2d4)+'t'];return g[bY(0x49f)+'n']===bY(0x510)?-0x1:0x1;});let d='',e=0x0;const f=[];return c[bW(0x37f)+'ch'](g=>{const bZ=bW;g[bZ(0x2d4)+'t']>e&&(d+=escapeHtml(a[bZ(0x234)](e,g[bZ(0x2d4)+'t'])),e=g[bZ(0x2d4)+'t']);if(g[bZ(0x49f)+'n']===bZ(0x3cf)){let h='';switch(g[bZ(0x29b)]){case bZ(0x227):h=bZ(0x230);break;case bZ(0x1eb)+'c':h=bZ(0x222);break;case bZ(0x2f6)+bZ(0x4c7):h=bZ(0x32f);break;case bZ(0x291)+bZ(0x4ec)+bZ(0x21c):h=bZ(0x23b);break;case bZ(0x2b3):h=bZ(0x355)+'>';break;case bZ(0x2fd):h=bZ(0x51e);break;case bZ(0x288)+bZ(0x2c0):h=bZ(0x4e2)+bZ(0x329)+'e>';break;case bZ(0x256)+bZ(0x1fa):h=bZ(0x290)+bZ(0x49c)+escapeHtml(g[bZ(0x21d)+'y'][bZ(0x20f)])+'\x22>';break;case bZ(0x256)+bZ(0x32a)+'on':h=bZ(0x290)+bZ(0x2a7)+bZ(0x267)+bZ(0x220)+'d='+g[bZ(0x21d)+'y'][bZ(0x332)]['id']+'\x22>';break;case bZ(0x245)+'er':h=bZ(0x3ee)+bZ(0x1e8)+'r>';break;case bZ(0x3fe)+bZ(0x2e1)+'ji':h=bZ(0x492)+bZ(0x37a)+bZ(0x4d5)+bZ(0x4be)+g[bZ(0x21d)+'y'][bZ(0x3fe)+bZ(0x2e1)+bZ(0x467)]+'\x22>';break;default:h='';}d+=h,f[bZ(0x299)](g[bZ(0x29b)]);}else{if(g[bZ(0x49f)+'n']===bZ(0x510)){const i=f[bZ(0x1c2)+bZ(0x292)+'f'](g[bZ(0x29b)]);if(i!==-0x1){const j=f[bZ(0x3cd)+'e'](i);j[bZ(0x3a6)+'se']()[bZ(0x37f)+'ch'](k=>{d+=getClosingTag(k);});}}}}),e<a[bW(0x381)+'h']&&(d+=escapeHtml(a[bW(0x234)](e))),f[bW(0x3a6)+'se']()[bW(0x37f)+'ch'](g=>{d+=getClosingTag(g);}),d;}function getClosingTag(a){const c0=a0bI;switch(a){case c0(0x227):return c0(0x1cd);case c0(0x1eb)+'c':return c0(0x222);case c0(0x2f6)+c0(0x4c7):return c0(0x36c);case c0(0x291)+c0(0x4ec)+c0(0x21c):return c0(0x415);case c0(0x2b3):return c0(0x4ee)+'e>';case c0(0x2fd):return c0(0x39e)+'>';case c0(0x288)+c0(0x2c0):return c0(0x214)+c0(0x4b2)+c0(0x45d);case c0(0x256)+c0(0x1fa):return c0(0x524);case c0(0x256)+c0(0x32a)+'on':return c0(0x524);case c0(0x245)+'er':return c0(0x277)+c0(0x245)+c0(0x44a);case c0(0x3fe)+c0(0x2e1)+'ji':return c0(0x277)+c0(0x4d5)+'>';default:return'';}}function parseFilterCommandAndContent(a,b){const c1=a0bI,c=a[c1(0x35f)]('\x0a'),d=c[0x0],e=d[c1(0x504)+c1(0x4a2)+'e']()[c1(0x3cf)+c1(0x3fc)](c1(0x1e5)+c1(0x454))?d[c1(0x234)](0x8)[c1(0x35f)](',')[c1(0x400)](o=>o[c1(0x324)]())[c1(0x1cb)+'r'](Boolean):[],f=[],g=[];let h=-0x1,j=-0x1,k=![];const l=a[c1(0x47a)+'Of'](d)+d[c1(0x381)+'h'];let n=l;for(let o=0x1;o<c[c1(0x381)+'h'];o++){const p=c[o],q=p[c1(0x324)](),r=a[c1(0x47a)+'Of'](p,n),s=r+p[c1(0x381)+'h'];n=s+(o<c[c1(0x381)+'h']-0x1?0x1:0x0);if(q[c1(0x202)](/^button\s/i)||q[c1(0x3cf)+c1(0x3fc)]('?')||q[c1(0x3cf)+c1(0x3fc)](c1(0x4aa)+'n:')){if(h!==-0x1){const t=a[c1(0x459)+c1(0x475)](h,j);f[c1(0x299)]({'text':t,'entities':b[c1(0x1cb)+'r'](u=>u[c1(0x2d4)+'t']>=h&&u[c1(0x2d4)+'t']+u[c1(0x381)+'h']<=j)[c1(0x400)](u=>({...u,'offset':u[c1(0x2d4)+'t']-h}))}),h=-0x1,j=-0x1;}k=!![];}if(!k){if(q[c1(0x3cf)+c1(0x3fc)]('!')){if(h!==-0x1){const w=a[c1(0x459)+c1(0x475)](h,j);f[c1(0x299)]({'text':w,'entities':b[c1(0x1cb)+'r'](x=>x[c1(0x2d4)+'t']>=h&&x[c1(0x2d4)+'t']+x[c1(0x381)+'h']<=j)[c1(0x400)](x=>({...x,'offset':x[c1(0x2d4)+'t']-h}))});}const u=p[c1(0x47a)+'Of']('!'),v=u+0x1;h=r+v,j=s;if(p[c1(0x459)+c1(0x475)](v)[c1(0x324)]()===''&&o+0x1<c[c1(0x381)+'h']){let x=o+0x1,y=c[x],z=y[c1(0x324)](),A=a[c1(0x47a)+'Of'](y,n);while(x<c[c1(0x381)+'h']&&(z===''||z[c1(0x202)](/^button\s/i)||z[c1(0x3cf)+c1(0x3fc)]('?')||z[c1(0x3cf)+c1(0x3fc)](c1(0x4aa)+'n:'))){n=A+y[c1(0x381)+'h']+(x<c[c1(0x381)+'h']-0x1?0x1:0x0),x++;if(x<c[c1(0x381)+'h'])y=c[x],z=y[c1(0x324)](),A=a[c1(0x47a)+'Of'](y,n);else break;}x<c[c1(0x381)+'h']&&z!==''&&(p[c1(0x459)+c1(0x475)](v)[c1(0x324)]()===''&&(h=A),j=A+y[c1(0x381)+'h'],o=x,n=j+(o<c[c1(0x381)+'h']-0x1?0x1:0x0));}}else h!==-0x1&&(j=s);}else{if(q[c1(0x202)](/^button\s/i)||q[c1(0x3cf)+c1(0x3fc)](c1(0x4aa)+'n:')){const B=q[c1(0x202)](/^button:?\s*([0-9:]+)?\s*(.*)$/i);if(!B)throw new Error(c1(0x35d)+c1(0x4e9)+c1(0x4a0)+c1(0x43a)+c1(0x1be)+q);const C=B[0x1],D=B[0x2];let E=null;if(C)E=C[c1(0x35f)](':')[c1(0x400)](Number);const F=D?D[c1(0x35f)](',')[c1(0x400)](G=>G[c1(0x324)]())[c1(0x1cb)+'r'](Boolean):[];g[c1(0x299)]({'targets':F,'layout':E,'defs':[]});}else{if(q[c1(0x3cf)+c1(0x3fc)]('?')){const G=q[c1(0x202)](/^\?([^\(]+)\(([^)]+)\)/);if(!G)throw new Error(c1(0x505)+c1(0x519)+c1(0x26f)+c1(0x548)+q);const H=G[0x1][c1(0x324)](),I=G[0x2][c1(0x324)]();if(!I||!/^https?:\/\//[c1(0x320)](I))throw new Error(c1(0x35d)+c1(0x348)+c1(0x555)+I);!g[c1(0x381)+'h']&&g[c1(0x299)]({'targets':[],'layout':null,'defs':[]}),g[g[c1(0x381)+'h']-0x1][c1(0x3ed)][c1(0x299)]({'name':H,'url':I});}}}}if(h!==-0x1){const J=a[c1(0x459)+c1(0x475)](h,j);f[c1(0x299)]({'text':J,'entities':b[c1(0x1cb)+'r'](K=>K[c1(0x2d4)+'t']>=h&&K[c1(0x2d4)+'t']+K[c1(0x381)+'h']<=j)[c1(0x400)](K=>({...K,'offset':K[c1(0x2d4)+'t']-h}))});}return{'filterNames':e,'responses':f,'buttons':g};}function ensureButtonLayout(a,b){const c2=a0bI;if(!a||a[c2(0x381)+'h']===0x0){if(b[c2(0x381)+'h']>0x8)throw new Error(c2(0x2c2)+c2(0x244)+c2(0x48f)+c2(0x488)+'w');return[b[c2(0x381)+'h']];}const c=a[c2(0x3bf)+'e']((d,e)=>d+e,0x0);if(c!==b[c2(0x381)+'h'])throw new Error(c2(0x505)+c2(0x340)+c2(0x4bb)+c2(0x1c6)+c2(0x364)+b[c2(0x381)+'h']+(c2(0x244)+c2(0x45f)+'s\x20')+c+(c2(0x1f9)+c2(0x46b)+c2(0x22d)+c2(0x469)+'.'));if(a[c2(0x306)](d=>d<0x1))throw new Error(c2(0x535)+c2(0x33b)+c2(0x4a9)+c2(0x3fb)+c2(0x295)+c2(0x226)+c2(0x46c)+c2(0x20a));if(Math[c2(0x3e1)](...a)>0x8)throw new Error(c2(0x2c2)+c2(0x244)+c2(0x48f)+c2(0x488)+'w');return a;}function addFilter(a,b,c,d){const c3=a0bI,e=getChatFilters(a);if(!b[c3(0x381)+'h'])return;const f=b[0x0][c3(0x504)+c3(0x4a2)+'e']();let g=e[c3(0x553)](f);(!g||g[c3(0x1ec)+c3(0x3aa)+'f'])&&(g={'responses':[],'buttons':[],'layout':[]});const h=new Set(g[c3(0x228)+c3(0x2c4)][c3(0x400)](j=>JSON[c3(0x2af)+c3(0x34e)](j)));let i=![];for(const j of c){!h[c3(0x3f2)](JSON[c3(0x2af)+c3(0x34e)](j))&&(g[c3(0x228)+c3(0x2c4)][c3(0x299)](j),i=!![]);}if(d[c3(0x381)+'h']>0x0){const k=d[d[c3(0x381)+'h']-0x1];g[c3(0x4aa)+'ns']=k[c3(0x3ed)][c3(0x400)](l=>({...l})),g[c3(0x259)+'t']=ensureButtonLayout(k[c3(0x259)+'t'],k[c3(0x3ed)])[c3(0x234)]();}else{if(!g[c3(0x4aa)+'ns'])g[c3(0x4aa)+'ns']=[];if(!g[c3(0x259)+'t'])g[c3(0x259)+'t']=[];}e[c3(0x41a)](f,g);for(const l of b){const m=l[c3(0x504)+c3(0x4a2)+'e']();m!==f&&e[c3(0x41a)](m,{'__isAliasOf':f});}if(i){const n=a+'_'+f;userResponseIndex[c3(0x22a)+'e'](n),markUserIndexChanged();}markFiltersChanged();}function setFilter(a,b,c,d){const c4=a0bI,e=getChatFilters(a);if(!b[c4(0x381)+'h'])return;const f=b[0x0][c4(0x504)+c4(0x4a2)+'e'](),g=new Set(b[c4(0x400)](j=>j[c4(0x504)+c4(0x4a2)+'e']()));for(const [j,k]of e[c4(0x499)+'es']()){(k[c4(0x1ec)+c4(0x3aa)+'f']===f||g[c4(0x3f2)](j))&&e[c4(0x22a)+'e'](j);}const h={'responses':[...c],'buttons':[],'layout':[]};if(d[c4(0x381)+'h']){const l=d[d[c4(0x381)+'h']-0x1];h[c4(0x4aa)+'ns']=l[c4(0x3ed)][c4(0x400)](m=>({...m})),h[c4(0x259)+'t']=ensureButtonLayout(l[c4(0x259)+'t'],l[c4(0x3ed)])[c4(0x234)]();}e[c4(0x41a)](f,h);for(const m of b){const n=m[c4(0x504)+c4(0x4a2)+'e']();n!==f&&e[c4(0x41a)](n,{'__isAliasOf':f});}const i=a+'_'+f;userResponseIndex[c4(0x22a)+'e'](i),markFiltersChanged(),markUserIndexChanged();}function addResponsesOnly(a,b,c){const c5=a0bI,d=getChatFilters(a),e=b[c5(0x504)+c5(0x4a2)+'e']();let f=e;const g=d[c5(0x553)](e);g&&g[c5(0x1ec)+c5(0x3aa)+'f']&&(f=g[c5(0x1ec)+c5(0x3aa)+'f']);const h=d[c5(0x553)](f);if(!h||h[c5(0x1ec)+c5(0x3aa)+'f'])return 0x0;const i=h[c5(0x228)+c5(0x2c4)]||[],j=new Set(i[c5(0x400)](l=>JSON[c5(0x2af)+c5(0x34e)](l)));let k=0x0;for(const l of c){!j[c5(0x3f2)](JSON[c5(0x2af)+c5(0x34e)](l))&&(i[c5(0x299)](l),k++);}h[c5(0x228)+c5(0x2c4)]=i;if(k>0x0){d[c5(0x41a)](f,h);const m=a+'_'+f;userResponseIndex[c5(0x22a)+'e'](m),markUserIndexChanged();}return k;}function addButtonsToFilter(a,b,c,d=[]){const c6=a0bI,f=getChatFilters(a),g=b[c6(0x504)+c6(0x4a2)+'e']();let h=g;const i=f[c6(0x553)](g);i&&i[c6(0x1ec)+c6(0x3aa)+'f']&&(h=i[c6(0x1ec)+c6(0x3aa)+'f']);const j=f[c6(0x553)](h);if(!j||j[c6(0x1ec)+c6(0x3aa)+'f'])return 0x0;const k=j[c6(0x4aa)+'ns']||[],l=new Set(k[c6(0x400)](n=>JSON[c6(0x2af)+c6(0x34e)](n)));let m=0x0;for(const n of c){!l[c6(0x3f2)](JSON[c6(0x2af)+c6(0x34e)](n))&&(k[c6(0x299)](n),m++);}j[c6(0x4aa)+'ns']=k;if(d[c6(0x381)+'h']>0x0)try{j[c6(0x259)+'t']=ensureButtonLayout(d,k)[c6(0x234)]();}catch(o){error(c6(0x35d)+c6(0x39b)+c6(0x3a7)+c6(0x3d4)+c6(0x235)+c6(0x3ba)+c6(0x4e4)+b+':\x20'+o[c6(0x3ac)+'ge']+(c6(0x218)+c6(0x443)+c6(0x3db)+c6(0x411)+c6(0x2bd))),j[c6(0x259)+'t']=[k[c6(0x381)+'h']];}else j[c6(0x259)+'t']=[k[c6(0x381)+'h']];return(m>0x0||d[c6(0x381)+'h']>0x0)&&(f[c6(0x41a)](h,j),markFiltersChanged()),m;}function listFiltersWithResponses(a){const c7=a0bI,b=getChatFilters(a);if(!b||b[c7(0x2de)]===0x0)return[];const c=[],d=new Set();for(const [e,f]of b[c7(0x499)+'es']()){const g=e[c7(0x504)+c7(0x4a2)+'e']();if(f&&!f[c7(0x1ec)+c7(0x3aa)+'f']&&!d[c7(0x3f2)](g)){const h=f,i=h[c7(0x228)+c7(0x2c4)]||[],j=[];for(const [l,m]of b[c7(0x499)+'es']()){m[c7(0x1ec)+c7(0x3aa)+'f']===g&&j[c7(0x299)](l);}let k=g;j[c7(0x381)+'h']>0x0&&(k=g+',\x20'+j[c7(0x261)]()[c7(0x344)](',\x20')),c[c7(0x299)]({'filter':k,'responses':i,'buttons':h[c7(0x4aa)+'ns']||[],'layout':h[c7(0x259)+'t']||[]}),d[c7(0x471)](g);}}return c;}function listButtons(a){const c8=a0bI,b=getChatFilters(a),c=new Map();for(const [e,g]of b[c8(0x499)+'es']()){if(g&&!g[c8(0x1ec)+c8(0x3aa)+'f']&&g[c8(0x4aa)+'ns']&&g[c8(0x4aa)+'ns'][c8(0x381)+'h']>0x0){const h=e,i=new Set([h]);for(const [j,k]of b[c8(0x499)+'es']()){k[c8(0x1ec)+c8(0x3aa)+'f']===h&&i[c8(0x471)](j);}for(const l of g[c8(0x4aa)+'ns']){!c[c8(0x3f2)](l[c8(0x4a3)])&&c[c8(0x41a)](l[c8(0x4a3)],{'url':l[c8(0x20f)],'filters':new Set()});const m=c[c8(0x553)](l[c8(0x4a3)]);for(const n of i){m[c8(0x1cb)+'rs'][c8(0x471)](n);}}}}const d=[];for(const [o,p]of c[c8(0x499)+'es']()){d[c8(0x299)]({'name':o,'url':p[c8(0x20f)],'filters':Array[c8(0x370)](p[c8(0x1cb)+'rs'])[c8(0x261)]()});}return d;}function delFilter(a,b){const c9=a0bI,c=getChatFilters(a),d=[],e=[],f=new Map();for(const g of b){const h=g[c9(0x504)+c9(0x4a2)+'e'](),i=c[c9(0x553)](h);if(i){if(i[c9(0x1ec)+c9(0x3aa)+'f'])c[c9(0x22a)+'e'](h),d[c9(0x299)](h);else{const j=[];for(const [l,m]of c[c9(0x499)+'es']()){m[c9(0x1ec)+c9(0x3aa)+'f']===h&&(j[c9(0x299)](l),c[c9(0x22a)+'e'](l));}c[c9(0x22a)+'e'](h),d[c9(0x299)](h,...j);const k=a+'_'+h;userResponseIndex[c9(0x22a)+'e'](k);}}else{e[c9(0x299)](h);let n=Infinity,o=null;for(const p of c[c9(0x270)]()){const q=levenshteinDistance(h,p);q<n&&q>0x0&&(n=q,o=p);}o&&n<=LEVENSHTEIN_DISTANCE_THRESHOLD&&f[c9(0x41a)](h,o);}}return(d[c9(0x381)+'h']>0x0||e[c9(0x381)+'h']>0x0)&&(markFiltersChanged(),markUserIndexChanged()),{'deleted':d,'notFound':e,'suggestions':f};}function normalizeText(a){const ca=a0bI;return(a||'')[ca(0x504)+ca(0x4a2)+'e']()[ca(0x402)+'ce'](/\s+/g,'\x20')[ca(0x324)]();}function levenshteinDistance(c,d){const cb=a0bI;if(c[cb(0x381)+'h']===0x0)return d[cb(0x381)+'h'];if(d[cb(0x381)+'h']===0x0)return c[cb(0x381)+'h'];const e=[];for(let f=0x0;f<=d[cb(0x381)+'h'];f++)e[f]=[f];for(let g=0x0;g<=c[cb(0x381)+'h'];g++)e[0x0][g]=g;for(let h=0x1;h<=d[cb(0x381)+'h'];h++){for(let k=0x1;k<=c[cb(0x381)+'h'];k++){d[cb(0x2cb)+'t'](h-0x1)===c[cb(0x2cb)+'t'](k-0x1)?e[h][k]=e[h-0x1][k-0x1]:e[h][k]=Math[cb(0x2dc)](e[h-0x1][k-0x1]+0x1,e[h][k-0x1]+0x1,e[h-0x1][k]+0x1);}}return e[d[cb(0x381)+'h']][c[cb(0x381)+'h']];}function delResponse(a,b){const cc=a0bI,c=getChatFilters(a),d=normalizeText(b),e=[];for(const [f,g]of c[cc(0x499)+'es']()){if(g&&!g[cc(0x1ec)+cc(0x3aa)+'f']){const h=g[cc(0x228)+cc(0x2c4)]||[];for(let j=0x0;j<h[cc(0x381)+'h'];j++){normalizeText(h[j][cc(0x54f)])===d&&e[cc(0x299)]({'filterName':f,'responseIndex':j,'responseText':h[j][cc(0x54f)]});}}}if(e[cc(0x381)+'h']===0x0){let k=null,l=Infinity,m=null;for(const [n,o]of c[cc(0x499)+'es']()){if(o&&!o[cc(0x1ec)+cc(0x3aa)+'f']){const p=o[cc(0x228)+cc(0x2c4)]||[];for(const q of p){const r=levenshteinDistance(normalizeText(q[cc(0x54f)]),d);r<l&&r>0x0&&(l=r,k=q[cc(0x54f)],m=n);}}}return k&&l<=LEVENSHTEIN_DISTANCE_THRESHOLD?{'status':cc(0x554)+cc(0x1e1),'message':cc(0x327)+cc(0x27b)+cc(0x35e)+cc(0x308)+cc(0x25c)+cc(0x410)+cc(0x2a2)+cc(0x470)+escapeHtml(k)+(cc(0x4ee)+cc(0x408)+cc(0x1fb)+cc(0x4e4)+cc(0x3dd))+escapeHtml(m)+(cc(0x1d5)+')?'),'parse_mode':cc(0x27c)}:{'status':cc(0x1cc)+cc(0x347),'message':cc(0x224)+cc(0x361)+cc(0x35e)+cc(0x4cb)+cc(0x2d7)};}else{if(e[cc(0x381)+'h']===0x1){const s=e[0x0],t=c[cc(0x553)](s[cc(0x1cb)+cc(0x3e8)]);t[cc(0x228)+cc(0x2c4)][cc(0x3cd)+'e'](s[cc(0x228)+cc(0x363)+cc(0x24a)],0x1),c[cc(0x41a)](s[cc(0x1cb)+cc(0x3e8)],t);const u=a+'_'+s[cc(0x1cb)+cc(0x3e8)];return userResponseIndex[cc(0x22a)+'e'](u),markFiltersChanged(),markUserIndexChanged(),{'status':cc(0x22a)+'ed','message':cc(0x312)+cc(0x372)+cc(0x50c)+cc(0x518)+cc(0x35b)+cc(0x2ed)+'\x20\x22'+s[cc(0x1cb)+cc(0x3e8)]+'\x22.','filter':s[cc(0x1cb)+cc(0x3e8)]};}else return{'status':cc(0x367)+cc(0x53f),'message':cc(0x3b4)+cc(0x3d8)+cc(0x1c9)+cc(0x3ce)+cc(0x511)+cc(0x427)+cc(0x41e)+cc(0x3a1)+cc(0x527)+cc(0x37b)+cc(0x50c)+cc(0x359),'matches':e};}}function delButton(a,b,c=null){const cd=a0bI,d=getChatFilters(a),e=[],f=[];for(const [g,h]of d[cd(0x499)+'es']()){if(h&&!h[cd(0x1ec)+cd(0x3aa)+'f']){if(c&&g!==c)continue;const i=h[cd(0x4aa)+'ns']||[],j=i[cd(0x381)+'h'];h[cd(0x4aa)+'ns']=i[cd(0x1cb)+'r'](k=>k[cd(0x4a3)]!==b),h[cd(0x4aa)+'ns'][cd(0x381)+'h']<j&&(h[cd(0x259)+'t']=[h[cd(0x4aa)+'ns'][cd(0x381)+'h']],d[cd(0x41a)](g,h),e[cd(0x299)](g));}}return e[cd(0x381)+'h']>0x0?(markFiltersChanged(),{'deleted':!![],'from':e}):{'deleted':![],'notFound':!![]};}function generateAdminPanelKeyboard(a){const ce=a0bI;return new InlineKeyboard()[ce(0x54f)](ce(0x460)+ce(0x43c)+ce(0x207),ADMIN_CALLBACK_PREFIX+(ce(0x43e)+ce(0x2ed)+ce(0x264))+a)[ce(0x54f)](ce(0x3c0)+ce(0x1e0)+ce(0x20c),ADMIN_CALLBACK_PREFIX+(ce(0x3a9)+ce(0x26a)+ce(0x264))+a)[ce(0x483)]()[ce(0x54f)](ce(0x3bc)+ce(0x36d)+ce(0x2ed),ADMIN_CALLBACK_PREFIX+(ce(0x34a)+ce(0x3ff)+ce(0x2ed)+'::')+a)[ce(0x54f)](ce(0x3bc)+ce(0x52e)+ce(0x396)+'se',ADMIN_CALLBACK_PREFIX+(ce(0x34a)+ce(0x1ef)+ce(0x396)+ce(0x3b2))+a)[ce(0x54f)](ce(0x3bc)+ce(0x2fa)+ce(0x26a),ADMIN_CALLBACK_PREFIX+(ce(0x34a)+ce(0x3ff)+ce(0x4aa)+ce(0x424))+a)[ce(0x483)]()[ce(0x54f)](ce(0x352)+ce(0x342)+ce(0x20d),ADMIN_CALLBACK_PREFIX+(ce(0x34a)+ce(0x2b4)+ce(0x396)+ce(0x3b2))+a)[ce(0x54f)](ce(0x352)+ce(0x51c)+ce(0x497),ADMIN_CALLBACK_PREFIX+(ce(0x34a)+ce(0x4cf)+ce(0x26a)+'::')+a)[ce(0x483)]()[ce(0x54f)](ce(0x4f4)+ce(0x507)+ce(0x21f),ADMIN_CALLBACK_PREFIX+(ce(0x2ca)+ce(0x2c8))+a);}function generateCancelKeyboard(a){const cf=a0bI;return new InlineKeyboard()[cf(0x54f)](cf(0x52f)+cf(0x440),ADMIN_CALLBACK_PREFIX+(cf(0x2cc)+':')+a);}async function generateFilterListPage(a,b=0x1){const cg=a0bI,c=listFiltersWithResponses(a);if(!c[cg(0x381)+'h'])return{'text':await applyFont(name,cg(0x1f6)+cg(0x2a5)+cg(0x20e)),'reply_markup':generateAdminPanelKeyboard(a),'parse_mode':cg(0x27c),'disable_web_page_preview':!![]};const d=c[cg(0x381)+'h'],e=Math[cg(0x238)](d/FILTERS_PER_PAGE),f=Math[cg(0x3e1)](0x1,Math[cg(0x2dc)](b,e)),g=(f-0x1)*FILTERS_PER_PAGE,h=c[cg(0x234)](g,g+FILTERS_PER_PAGE);let i=cg(0x230)+await applyFont(name,cg(0x1c7)+cg(0x395)+cg(0x30c))+(cg(0x34c)+cg(0x48b)+cg(0x230))+f+(cg(0x231)+cg(0x230))+e+(cg(0x34c)+'\x0a'),j=i[cg(0x381)+'h'];for(const m of h){let n=cg(0x230)+await applyFont(name,escapeHtml(m[cg(0x1cb)+'r']))+(cg(0x33d)+'\x0a');n+=cg(0x371)+cg(0x47d)+cg(0x4d3)+cg(0x4b4);const o=m[cg(0x228)+cg(0x2c4)][cg(0x234)](0x0,0x3);for(const p of o){const q=formatTextWithEntities(p[cg(0x54f)],p[cg(0x21d)+cg(0x39d)]),r=q[cg(0x381)+'h']>0x64?q[cg(0x459)+cg(0x475)](0x0,0x64)+cg(0x43f):q;n+=cg(0x1bf)+'>'+r+cg(0x3ec);}m[cg(0x228)+cg(0x2c4)][cg(0x381)+'h']>0x3&&(n+=cg(0x4f2)+'.'+(m[cg(0x228)+cg(0x2c4)][cg(0x381)+'h']-0x3)+(cg(0x3b6)+'\x0a'));if(m[cg(0x4aa)+'ns'][cg(0x381)+'h']>0x0){n+=cg(0x450)+cg(0x4c0)+cg(0x4d9)+'\x0a';for(const s of m[cg(0x4aa)+'ns'][cg(0x234)](0x0,0x3)){n+=cg(0x53d)+s[cg(0x4a3)]+'\x20('+s[cg(0x20f)][cg(0x459)+cg(0x475)](0x0,0x14)+cg(0x23d);}m[cg(0x4aa)+'ns'][cg(0x381)+'h']>0x3&&(n+=cg(0x4f2)+'.'+(m[cg(0x4aa)+'ns'][cg(0x381)+'h']-0x3)+(cg(0x3b6)+'\x0a'));}n+='\x0a';if(j+n[cg(0x381)+'h']>MAX_MESSAGE_LENGTH){i+=cg(0x43d)+cg(0x37d)+cg(0x225)+cg(0x1cf)+cg(0x30b);break;}i+=n,j+=n[cg(0x381)+'h'];}const k=new InlineKeyboard(),l=[];return f>0x1&&l[cg(0x299)](InlineKeyboard[cg(0x54f)](cg(0x387)+'v',CALLBACK_PREFIX+(cg(0x53c)+cg(0x1e6))+a+'::'+(f-0x1))),l[cg(0x299)](InlineKeyboard[cg(0x54f)](f+'/'+e,CALLBACK_PREFIX+cg(0x552))),f<e&&l[cg(0x299)](InlineKeyboard[cg(0x54f)](cg(0x236)+'»',CALLBACK_PREFIX+(cg(0x53c)+cg(0x1e6))+a+'::'+(f+0x1))),l[cg(0x381)+'h']>0x0&&k[cg(0x483)](...l),k[cg(0x483)](InlineKeyboard[cg(0x54f)](cg(0x3ef)+'k',ADMIN_CALLBACK_PREFIX+(cg(0x2cc)+':')+a)),{'text':i[cg(0x324)](),'reply_markup':k,'parse_mode':cg(0x27c),'disable_web_page_preview':!![]};}async function generateButtonListPage(a,b=0x1){const ch=a0bI,c=listButtons(a);if(!c[ch(0x381)+'h'])return{'text':await applyFont(name,ch(0x26b)+ch(0x4c0)+ch(0x20e)),'reply_markup':generateAdminPanelKeyboard(a),'parse_mode':ch(0x27c),'disable_web_page_preview':!![]};const d=c[ch(0x381)+'h'],f=Math[ch(0x238)](d/BUTTONS_PER_PAGE),g=Math[ch(0x3e1)](0x1,Math[ch(0x2dc)](b,f)),h=(g-0x1)*BUTTONS_PER_PAGE,i=c[ch(0x234)](h,h+BUTTONS_PER_PAGE);let j=ch(0x230)+await applyFont(name,ch(0x505)+'ns')+(ch(0x34c)+ch(0x48b)+ch(0x230))+g+(ch(0x231)+ch(0x230))+f+(ch(0x34c)+'\x0a'),k=j[ch(0x381)+'h'];for(const n of i){const o=escapeHtml(n[ch(0x4a3)]);let p;try{const v=new URL(n[ch(0x20f)]);p=v[ch(0x1db)+ch(0x254)]+(v[ch(0x423)+ch(0x254)]!=='/'?v[ch(0x423)+ch(0x254)][ch(0x459)+ch(0x475)](0x0,0xf)+ch(0x43f):'');}catch(w){p=n[ch(0x20f)][ch(0x381)+'h']>0x1e?n[ch(0x20f)][ch(0x459)+ch(0x475)](0x0,0x1b)+ch(0x43f):n[ch(0x20f)];}const q=escapeHtml(p),r=0x3;let s;n[ch(0x1cb)+'rs'][ch(0x381)+'h']<=r?s=n[ch(0x1cb)+'rs'][ch(0x344)](',\x20'):s=n[ch(0x1cb)+'rs'][ch(0x234)](0x0,r)[ch(0x344)](',\x20')+(ch(0x4e1)+(n[ch(0x1cb)+'rs'][ch(0x381)+'h']-r)+ch(0x3b6));const t=escapeHtml(s),u=ch(0x217)+await applyFont(name,o)+(ch(0x34c)+ch(0x289)+ch(0x3a8))+q+(ch(0x4ee)+ch(0x3af))+t+'\x0a\x0a';if(k+u[ch(0x381)+'h']>MAX_MESSAGE_LENGTH){j+=ch(0x43d)+ch(0x4c3)+ch(0x257)+ch(0x1f4)+'d)';break;}j+=u,k+=u[ch(0x381)+'h'];}const l=new InlineKeyboard(),m=[];return g>0x1&&m[ch(0x299)](InlineKeyboard[ch(0x54f)](ch(0x387)+'v',CALLBACK_PREFIX+(ch(0x241)+'::')+a+'::'+(g-0x1))),m[ch(0x299)](InlineKeyboard[ch(0x54f)](g+'/'+f,CALLBACK_PREFIX+ch(0x552))),g<f&&m[ch(0x299)](InlineKeyboard[ch(0x54f)](ch(0x236)+'»',CALLBACK_PREFIX+(ch(0x241)+'::')+a+'::'+(g+0x1))),m[ch(0x381)+'h']>0x0&&l[ch(0x483)](...m),l[ch(0x483)](InlineKeyboard[ch(0x54f)](ch(0x3ef)+'k',ADMIN_CALLBACK_PREFIX+(ch(0x2cc)+':')+a)),{'text':j[ch(0x324)](),'reply_markup':l,'parse_mode':ch(0x27c),'disable_web_page_preview':!![]};}function matchFilter(a,b){const ci=a0bI,c=b[ci(0x504)+ci(0x4a2)+'e'](),d=new Map();for(const [i,j]of a[ci(0x499)+'es']()){const k=i[ci(0x504)+ci(0x4a2)+'e']();let l=j[ci(0x1ec)+ci(0x3aa)+'f']?j[ci(0x1ec)+ci(0x3aa)+'f']:k;d[ci(0x41a)](k,l);}const e=/[\p{L}\p{N}_]+/gu;let f,g=null,h=Infinity;while((f=e[ci(0x262)](c))!==null){const m=f[0x0],n=f[ci(0x47a)];d[ci(0x3f2)](m)&&n<h&&(h=n,g={'word':m,'master':d[ci(0x553)](m)});}return g?g[ci(0x1e2)+'r']:null;}function a0b(a,b){const c=a0a();return a0b=function(d,e){d=d-0x1be;let f=c[d];if(a0b['FwJUFv']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0b['DJCtHJ']=g,a=arguments,a0b['FwJUFv']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a0b['DJCtHJ'](f),a[i]=f):f=j,f;},a0b(a,b);}export async function onMessage(a){const cj=a0bI;if(!botApi)botApi=a[cj(0x4ef)];const b=a[cj(0x3ac)+'ge']?.[cj(0x54f)]||'',c=a[cj(0x3d6)][cj(0x29b)],d=a[cj(0x3d6)]['id'],f=a[cj(0x370)]?.['id'],g=a[cj(0x3ac)+'ge']?.[cj(0x21d)+cj(0x39d)]||[],h=b[cj(0x504)+cj(0x4a2)+'e']()[cj(0x35f)]('\x20')[0x0],j=new Set([cj(0x1e5)+'er',cj(0x4ff)+cj(0x2ed),cj(0x3c6)+cj(0x1cb)+'r',cj(0x21a)+cj(0x396)+'se',cj(0x4ff)+cj(0x4aa)+'n',cj(0x328)+cj(0x4aa)+'ns',cj(0x240)+'el']);if(j[cj(0x3f2)](h)&&!isAdmin(a))return a[cj(0x474)](await applyFont(name,cj(0x2f8)+cj(0x2a4)+cj(0x4f1)+'d.'));if(h===cj(0x240)+'el')return f&&pendingAdminActions[cj(0x3f2)](f)?(pendingAdminActions[cj(0x22a)+'e'](f),a[cj(0x474)](await applyFont(name,cj(0x1c0)+cj(0x390)+cj(0x49f)+cj(0x3a3)+cj(0x2e5)+'d.'))):a[cj(0x474)](await applyFont(name,cj(0x388)+cj(0x350)+cj(0x24b)+cj(0x26d)+cj(0x2e8)+cj(0x2fb)));if(f&&pendingAdminActions[cj(0x3f2)](f)){const k=pendingAdminActions[cj(0x553)](f);if(Date[cj(0x1e3)]()-k['ts']>PENDING_ACTION_TTL_MS)return pendingAdminActions[cj(0x22a)+'e'](f),a[cj(0x474)](await applyFont(name,cj(0x45c)+cj(0x272)+cj(0x33a)+'d.'));const l=k[cj(0x4ac)+'d'];switch(k[cj(0x29b)]){case cj(0x22a)+cj(0x2ab)+cj(0x1c4)+cj(0x3f8):{const m=b[cj(0x324)]()[cj(0x35f)](',')[cj(0x400)](q=>q[cj(0x324)]())[cj(0x1cb)+'r'](Boolean);if(!m[cj(0x381)+'h'])return a[cj(0x474)](await applyFont(name,cj(0x339)+cj(0x49d)+cj(0x4e4)+cj(0x528)+cj(0x219)+cj(0x530)+cj(0x1ee)+cj(0x521)),{'reply_markup':generateCancelKeyboard(l)});const n=delFilter(l,m);let o='';n[cj(0x22a)+'ed'][cj(0x381)+'h']>0x0&&(o+=cj(0x45e)+cj(0x491)+'\x20'+n[cj(0x22a)+'ed'][cj(0x344)](',\x20')+'\x0a');if(n[cj(0x31d)+cj(0x392)][cj(0x381)+'h']>0x0){o+=cj(0x526)+cj(0x463)+cj(0x1f7)+n[cj(0x31d)+cj(0x392)][cj(0x344)](',\x20')+'\x0a';for(const q of n[cj(0x31d)+cj(0x392)]){n[cj(0x554)+cj(0x1e1)+'s'][cj(0x3f2)](q)&&(o+=cj(0x1f8)+cj(0x1f0)+cj(0x25a)+'\x20'+n[cj(0x554)+cj(0x1e1)+'s'][cj(0x553)](q)+'?\x0a');}}let p=cj(0x2d1)+l;try{if(l!==d){const r=await botApi[cj(0x422)+'at'](l);p=cj(0x230)+escapeHtml(r[cj(0x40e)]||cj(0x397)+'wn')+cj(0x1cd);}}catch(s){}await a[cj(0x474)](''+await applyFont(name,cj(0x1c7)+cj(0x38c)+cj(0x557)+cj(0x551)+cj(0x2c5)+'r\x20')+p+await applyFont(name,':\x0a')+o,{'parse_mode':cj(0x27c)}),pendingAdminActions[cj(0x22a)+'e'](f);break;}case cj(0x22a)+cj(0x383)+cj(0x372)+cj(0x2be)+'pt':{const t=b[cj(0x324)]();if(!t)return a[cj(0x474)](await applyFont(name,cj(0x339)+cj(0x315)+cj(0x502)+cj(0x396)+cj(0x353)+cj(0x213)),{'reply_markup':generateCancelKeyboard(l)});const u=delResponse(l,t);if(u[cj(0x1fc)+'s']===cj(0x367)+cj(0x53f)){pendingAdminActions[cj(0x41a)](f,{'type':cj(0x22a)+cj(0x383)+cj(0x372)+cj(0x438)+'ct','chatId':l,'matches':u[cj(0x202)+'es'],'ts':Date[cj(0x1e3)]()});let w=cj(0x3b4)+cj(0x3d8)+cj(0x1c9)+cj(0x3ce)+cj(0x4af);return u[cj(0x202)+'es'][cj(0x37f)+'ch']((x,y)=>{const ck=cj,z=x[ck(0x228)+ck(0x3c2)+'xt'][ck(0x381)+'h']>0x32?x[ck(0x228)+ck(0x3c2)+'xt'][ck(0x459)+ck(0x475)](0x0,0x2f)+ck(0x43f):x[ck(0x228)+ck(0x3c2)+'xt'];w+=y+0x1+(ck(0x2e0)+ck(0x54c))+x[ck(0x1cb)+ck(0x3e8)]+ck(0x29f)+z+'\x22\x0a';}),w+=cj(0x4d4)+cj(0x4a4)+cj(0x2e4)+cj(0x3b3)+cj(0x2b5)+cj(0x1d7)+cj(0x228)+cj(0x52c)+cj(0x441)+cj(0x52d),a[cj(0x474)](w,{'reply_markup':generateCancelKeyboard(l)});}let v=cj(0x2d1)+l;try{if(l!==d){const x=await botApi[cj(0x422)+'at'](l);v=cj(0x230)+escapeHtml(x[cj(0x40e)]||cj(0x397)+'wn')+cj(0x1cd);}}catch(y){}await a[cj(0x474)](''+await applyFont(name,cj(0x2ff)+cj(0x3c8)+cj(0x252)+cj(0x303)+cj(0x2ad)+cj(0x42a))+v+await applyFont(name,':\x0a')+u[cj(0x3ac)+'ge'],{'parse_mode':u[cj(0x4cc)+cj(0x44c)]||cj(0x27c)}),pendingAdminActions[cj(0x22a)+'e'](f);break;}case cj(0x22a)+cj(0x383)+cj(0x372)+cj(0x438)+'ct':{if(!k[cj(0x202)+'es']||!Array[cj(0x3c9)+'ay'](k[cj(0x202)+'es']))return pendingAdminActions[cj(0x22a)+'e'](f),a[cj(0x474)](cj(0x420)+cj(0x40c)+cj(0x1d9)+cj(0x509)+cj(0x431)+cj(0x4a6)+cj(0x429)+cj(0x27f)+cj(0x3f4)+cj(0x4d6)+cj(0x48d)+cj(0x3ae)+cj(0x252)+cj(0x2c9)+cj(0x296)+'.',{'reply_markup':generateCancelKeyboard(l)});const z=parseInt(b[cj(0x324)]());if(isNaN(z)||z<0x1||z>k[cj(0x202)+'es'][cj(0x381)+'h'])return a[cj(0x474)](cj(0x35d)+cj(0x509)+cj(0x431)+cj(0x3b0)+cj(0x427)+cj(0x513)+cj(0x210)+'.',{'reply_markup':generateCancelKeyboard(l)});const A=k[cj(0x202)+'es'][z-0x1],B=getChatFilters(l)[cj(0x553)](A[cj(0x1cb)+cj(0x3e8)]);B[cj(0x228)+cj(0x2c4)][cj(0x3cd)+'e'](A[cj(0x228)+cj(0x363)+cj(0x24a)],0x1);const C=l+'_'+A[cj(0x1cb)+cj(0x3e8)];userResponseIndex[cj(0x22a)+'e'](C),markFiltersChanged(),markUserIndexChanged(),await a[cj(0x474)](cj(0x312)+cj(0x372)+cj(0x50c)+cj(0x518)+cj(0x35b)+cj(0x2ed)+'\x20\x22'+A[cj(0x1cb)+cj(0x3e8)]+'\x22.'),pendingAdminActions[cj(0x22a)+'e'](f);break;}case cj(0x22a)+cj(0x1ce)+cj(0x482)+cj(0x3f8):{const D=b[cj(0x324)]();if(!D)return a[cj(0x474)](await applyFont(name,cj(0x339)+cj(0x2d6)+cj(0x4a0)+cj(0x26c)),{'reply_markup':generateCancelKeyboard(l)});const E=listButtons(l),F=E[cj(0x306)](I=>I[cj(0x4a3)]===D);if(!F){let I='';for(const J of E){const K=levenshteinDistance(D,J[cj(0x4a3)]);K<=LEVENSHTEIN_DISTANCE_THRESHOLD&&(I+=cj(0x1f8)+cj(0x1f0)+cj(0x25a)+'\x20'+J[cj(0x4a3)]+'?\x0a');}return a[cj(0x474)](cj(0x23f)+cj(0x545)+cj(0x243)+cj(0x434)+(I||cj(0x533)+cj(0x4f9)+cj(0x244)+cj(0x300)+cj(0x246)),{'reply_markup':generateCancelKeyboard(l)});}const G=[],H=getChatFilters(l);for(const [L,M]of H[cj(0x499)+'es']()){if(M&&!M[cj(0x1ec)+cj(0x3aa)+'f']){const N=M[cj(0x4aa)+'ns']?.[cj(0x306)](O=>O[cj(0x4a3)]===D);N&&G[cj(0x299)](L);}}pendingAdminActions[cj(0x41a)](f,{'type':cj(0x22a)+cj(0x1ce)+cj(0x4fc)+cj(0x1ed),'chatId':l,'buttonName':D,'matches':G,'ts':Date[cj(0x1e3)]()});if(G[cj(0x381)+'h']===0x0)return pendingAdminActions[cj(0x22a)+'e'](f),a[cj(0x474)](cj(0x498)+cj(0x50e)+cj(0x2d2)+cj(0x3f7)+cj(0x505)+cj(0x382)+cj(0x463)+cj(0x30a)+cj(0x496)+cj(0x2ed)+cj(0x473)+cj(0x458)+cj(0x456)+cj(0x49a)+cj(0x2bf),{'reply_markup':generateCancelKeyboard(l)});else{if(G[cj(0x381)+'h']===0x1){const O=delButton(l,D,G[0x0]);O[cj(0x22a)+'ed']?await a[cj(0x474)](cj(0x4d8)+cj(0x2a8)+cj(0x30d)+cj(0x546)+cj(0x3d3)+cj(0x333)+G[0x0]+'\x22.'):await a[cj(0x474)](cj(0x366)+cj(0x479)+cj(0x441)+cj(0x556)+cj(0x26a)+'.'),pendingAdminActions[cj(0x22a)+'e'](f);}else{let P=cj(0x505)+cj(0x2b2)+cj(0x307)+cj(0x378)+cj(0x4f3)+cj(0x1cb)+cj(0x466);G[cj(0x37f)+'ch']((Q,R)=>{P+=R+0x1+'.\x20'+Q+'\x0a';}),P+=cj(0x4d4)+cj(0x4a4)+cj(0x2e4)+cj(0x3b3)+cj(0x2b5)+cj(0x1d7)+cj(0x1cb)+cj(0x345)+cj(0x22a)+cj(0x425)+'m.',await a[cj(0x474)](P,{'reply_markup':generateCancelKeyboard(l)});}}break;}case cj(0x22a)+cj(0x1ce)+cj(0x4fc)+cj(0x1ed):{if(!k[cj(0x202)+'es']||!Array[cj(0x3c9)+'ay'](k[cj(0x202)+'es']))return pendingAdminActions[cj(0x22a)+'e'](f),a[cj(0x474)](cj(0x420)+cj(0x40c)+cj(0x1d9)+cj(0x509)+cj(0x431)+cj(0x4a6)+cj(0x429)+cj(0x27f)+cj(0x3f4)+cj(0x4d6)+cj(0x48d)+cj(0x3ae)+cj(0x252)+cj(0x2c9)+cj(0x296)+'.',{'reply_markup':generateCancelKeyboard(l)});const Q=parseInt(b[cj(0x324)]());if(isNaN(Q)||Q<0x1||Q>k[cj(0x202)+'es'][cj(0x381)+'h'])return a[cj(0x474)](cj(0x35d)+cj(0x509)+cj(0x431)+cj(0x3b0)+cj(0x427)+cj(0x513)+cj(0x210)+'.',{'reply_markup':generateCancelKeyboard(l)});const R=k[cj(0x202)+'es'][Q-0x1],S=delButton(l,k[cj(0x4aa)+cj(0x212)],R);S[cj(0x22a)+'ed']?await a[cj(0x474)](cj(0x4d8)+cj(0x2a8)+cj(0x30d)+cj(0x546)+cj(0x3d3)+cj(0x333)+R+'\x22.'):await a[cj(0x474)](cj(0x366)+cj(0x479)+cj(0x441)+cj(0x556)+cj(0x26a)+'.');pendingAdminActions[cj(0x22a)+'e'](f);break;}case cj(0x3cc)+cj(0x396)+cj(0x4b9)+cj(0x540):{const T=b[cj(0x35f)]('\x0a'),U=T[0x0][cj(0x324)](),V=T[cj(0x234)](0x1)[cj(0x1cb)+'r'](X=>X[cj(0x3cf)+cj(0x3fc)]('!'))[cj(0x400)](X=>X[cj(0x234)](0x1)[cj(0x324)]());if(!U||V[cj(0x381)+'h']===0x0)return a[cj(0x474)](cj(0x517)+cj(0x401)+cj(0x24d)+cj(0x4da)+cj(0x342)+cj(0x239)+cj(0x4bc)+cj(0x396)+cj(0x3f9)+cj(0x43f),{'reply_markup':generateCancelKeyboard(l)});const W=addResponsesOnly(l,U,V[cj(0x400)](X=>({'text':X,'entities':[]})));W>0x0?await a[cj(0x474)](cj(0x25e)+cj(0x543)+W+(cj(0x4b7)+cj(0x4df)+cj(0x433)+cj(0x54e)+cj(0x2f1))+U+'\x22.'):await a[cj(0x474)](cj(0x224)+cj(0x319)+cj(0x396)+cj(0x310)+cj(0x3a0)+cj(0x51b)+cj(0x4e5)+cj(0x237)+cj(0x40a)+cj(0x2d9));pendingAdminActions[cj(0x22a)+'e'](f);break;}case cj(0x41f)+cj(0x26a)+cj(0x2be)+'pt':{const X=b[cj(0x35f)]('\x0a')[cj(0x400)](a3=>a3[cj(0x324)]()),Y=X[0x0];let Z=[],a0=[],a1=0x1;if(X[cj(0x381)+'h']>0x1){const a3=X[0x1][cj(0x504)+cj(0x4a2)+'e'](),a4=a3[cj(0x202)](/^(?:button\s*)?([0-9:]+)$/);a4&&(a0=a4[0x1][cj(0x35f)](':')[cj(0x400)](Number),a1=0x2);}for(let a5=a1;a5<X[cj(0x381)+'h'];a5++){const a6=X[a5];if(a6[cj(0x3cf)+cj(0x3fc)]('?')){const a7=a6[cj(0x202)](/^\?([^\(]+)\(([^)]+)\)/);if(a7){const a8=a7[0x1][cj(0x324)](),a9=a7[0x2][cj(0x324)]();a9&&/^https?:\/\//[cj(0x320)](a9)?Z[cj(0x299)]({'name':a8,'url':a9}):error(cj(0x35d)+cj(0x348)+cj(0x53b)+cj(0x41f)+cj(0x26a)+cj(0x2be)+cj(0x4ea)+a9);}}}if(!Y||Z[cj(0x381)+'h']===0x0)return a[cj(0x474)](cj(0x517)+cj(0x401)+cj(0x24d)+cj(0x4fa)+cj(0x542)+cj(0x558)+cj(0x4aa)+cj(0x405)+cj(0x2b7)+cj(0x259)+cj(0x3cb)+cj(0x1ea)+cj(0x1ca)+cj(0x51c)+cj(0x3ea)+cj(0x1d0)+cj(0x457)+cj(0x28e)+cj(0x2ef)+cj(0x24f)+cj(0x4bd)+cj(0x2bc)+cj(0x3fd)+cj(0x24c)+cj(0x43b),{'reply_markup':generateCancelKeyboard(l)});const a2=addButtonsToFilter(l,Y,Z,a0);a2>0x0||a0[cj(0x381)+'h']>0x0?await a[cj(0x474)](cj(0x25e)+cj(0x543)+a2+(cj(0x244)+cj(0x38f)+cj(0x442)+cj(0x3a4)+cj(0x4cd)+cj(0x411)+cj(0x23c)+cj(0x538)+cj(0x333))+Y+'\x22.'):await a[cj(0x474)](cj(0x224)+cj(0x3e7)+cj(0x26a)+cj(0x2d0)+cj(0x36b)+cj(0x50a)+cj(0x4fb)+cj(0x1d3)+cj(0x29d)+cj(0x4db)+cj(0x52a)+cj(0x3bd)+cj(0x348)+cj(0x1ff)+cj(0x221)+cj(0x293)+cj(0x2c1)+cj(0x437)+cj(0x2bf));pendingAdminActions[cj(0x22a)+'e'](f);break;}}return;}if(h===cj(0x1e5)+'er'){if(b[cj(0x324)]()===cj(0x1e5)+'er'){let aa=d,ab=cj(0x2c7)+cj(0x32d);if(c===cj(0x274)+'te'){const ae=await getDefault();if(!ae)return a[cj(0x474)](await applyFont(name,cj(0x224)+cj(0x275)+cj(0x478)+cj(0x4dd)+cj(0x338)+cj(0x2d8)));const af=await getConnection(ae);if(!af)return a[cj(0x474)](await applyFont(name,cj(0x2fc)+cj(0x391)+cj(0x32d)+'\x20\x27'+ae+(cj(0x3a2)+cj(0x463)+'d.')));aa=af;try{const ag=await botApi[cj(0x422)+'at'](aa);ab=cj(0x230)+escapeHtml(ag[cj(0x40e)]||cj(0x397)+cj(0x4f0)+'at')+cj(0x1cd);}catch(ah){ab=cj(0x4c4)+'>'+aa+cj(0x1cd);}}else try{const ai=await botApi[cj(0x422)+'at'](aa);ab=cj(0x230)+escapeHtml(ai[cj(0x40e)]||cj(0x397)+cj(0x4f0)+'at')+cj(0x1cd);}catch(aj){}const ac=generateAdminPanelKeyboard(aa),ad=''+await applyFont(name,cj(0x1c7)+cj(0x201)+cj(0x278)+cj(0x3f1)+cj(0x2a9))+ab;return a[cj(0x474)](ad,{'reply_markup':ac,'parse_mode':cj(0x27c)});}try{const ak=parseFilterCommandAndContent(b,g);if(!ak[cj(0x1cb)+cj(0x3e8)+'s'][cj(0x381)+'h'])return a[cj(0x474)](await applyFont(name,cj(0x33c)+cj(0x3be)+cj(0x54b)+cj(0x40d)+cj(0x516)+cj(0x336)));if(!ak[cj(0x228)+cj(0x2c4)][cj(0x381)+'h'])return a[cj(0x474)](await applyFont(name,cj(0x33c)+cj(0x3be)+cj(0x54b)+cj(0x4f8)+cj(0x3e4)+cj(0x3dc)+cj(0x228)+cj(0x48c)));let al=d,am=cj(0x2c7)+cj(0x32d);if(c===cj(0x274)+'te'){const aq=await getDefault();if(!aq)return a[cj(0x474)](await applyFont(name,cj(0x224)+cj(0x275)+cj(0x478)+cj(0x4dd)+cj(0x338)+cj(0x2d8)));const ar=await getConnection(aq);if(!ar)return a[cj(0x474)](await applyFont(name,cj(0x2fc)+cj(0x391)+cj(0x32d)+'\x20\x27'+aq+(cj(0x3a2)+cj(0x463)+'d.')));al=ar;try{const as=await botApi[cj(0x422)+'at'](al);am=cj(0x230)+escapeHtml(as[cj(0x40e)]||cj(0x397)+cj(0x4f0)+'at')+cj(0x1cd);}catch(at){am=cj(0x4c4)+'>'+al+cj(0x1cd);}}else try{const au=await botApi[cj(0x422)+'at'](al);am=cj(0x230)+escapeHtml(au[cj(0x40e)]||cj(0x397)+cj(0x4f0)+'at')+cj(0x1cd);}catch(av){}addFilter(al,ak[cj(0x1cb)+cj(0x3e8)+'s'],ak[cj(0x228)+cj(0x2c4)],ak[cj(0x4aa)+'ns']);let an='';for(let aw=0x0;aw<Math[cj(0x2dc)](0x2,ak[cj(0x228)+cj(0x2c4)][cj(0x381)+'h']);aw++){const ax=ak[cj(0x228)+cj(0x2c4)][aw][cj(0x54f)][cj(0x381)+'h']>0x32?ak[cj(0x228)+cj(0x2c4)][aw][cj(0x54f)][cj(0x459)+cj(0x475)](0x0,0x2f)+cj(0x43f):ak[cj(0x228)+cj(0x2c4)][aw][cj(0x54f)];an+=cj(0x53d)+ax+'\x0a';}ak[cj(0x228)+cj(0x2c4)][cj(0x381)+'h']>0x2&&(an+=cj(0x4f2)+cj(0x3d1)+(ak[cj(0x228)+cj(0x2c4)][cj(0x381)+'h']-0x2)+(cj(0x3b6)+'\x0a'));const ao=ak[cj(0x1cb)+cj(0x3e8)+'s'][cj(0x344)](',\x20'),ap=ak[cj(0x4aa)+'ns'][cj(0x381)+'h']>0x0?cj(0x46d)+ak[cj(0x4aa)+'ns'][cj(0x381)+'h']+(cj(0x244)+cj(0x38f)):'';return a[cj(0x474)](''+await applyFont(name,cj(0x559)+cj(0x51d)+cj(0x485)+cj(0x30a))+am+'\x20'+ap+'\x0a\x0a'+(cj(0x368)+cj(0x2a5)+cj(0x48e)+'\x20'+escapeHtml(ao)+'\x0a\x0a')+(cj(0x3d7)+cj(0x47d)+cj(0x4d3)+cj(0x452)+escapeHtml(an)),{'parse_mode':cj(0x27c),'disable_web_page_preview':!![]});}catch(ay){return error(cj(0x1c7)+cj(0x40f)+cj(0x4c2)+cj(0x2e3)+':\x20'+ay[cj(0x3ac)+'ge'],ay),a[cj(0x474)](await applyFont(name,cj(0x420)+cj(0x1c1)+cj(0x503)+cj(0x3ca)+cj(0x536)+ay[cj(0x3ac)+'ge']+'\x0a\x0a'+(cj(0x517)+cj(0x4ba)+cj(0x2ed)+cj(0x54e)+cj(0x331)+cj(0x2ed)+'2\x0a')+(cj(0x512)+cj(0x372)+cj(0x3da))+(cj(0x512)+cj(0x372)+cj(0x4e6))+(cj(0x4aa)+cj(0x1d8)+'\x0a')+(cj(0x24f)+cj(0x51f)+cj(0x2bc)+cj(0x3fd)+cj(0x24c)+cj(0x43b))),{'parse_mode':cj(0x27c)});}}if(h===cj(0x4ff)+cj(0x2ed)){const az=b[cj(0x234)](h[cj(0x381)+'h'])[cj(0x324)]()[cj(0x35f)](',')[cj(0x400)](aB=>aB[cj(0x324)]())[cj(0x1cb)+'r'](Boolean);if(!az[cj(0x381)+'h'])return a[cj(0x474)](await applyFont(name,cj(0x249)+cj(0x265)+cj(0x53c)+cj(0x3d5)+cj(0x1de)+cj(0x418)+cj(0x38b)));let aA=d;if(c===cj(0x274)+'te'){const aB=await getDefault();if(!aB)return a[cj(0x474)](await applyFont(name,cj(0x224)+cj(0x275)+cj(0x478)+cj(0x283)));const aC=await getConnection(aB);if(!aC)return a[cj(0x474)](await applyFont(name,cj(0x36f)+cj(0x1e7)+aB+(cj(0x3a2)+cj(0x463)+'d.')));const aD=delFilter(aA,az);let aE='';aD[cj(0x22a)+'ed'][cj(0x381)+'h']>0x0&&(aE+=cj(0x45e)+cj(0x491)+'\x20'+aD[cj(0x22a)+'ed'][cj(0x344)](',\x20')+'\x0a');if(aD[cj(0x31d)+cj(0x392)][cj(0x381)+'h']>0x0){aE+=cj(0x526)+cj(0x463)+cj(0x1f7)+aD[cj(0x31d)+cj(0x392)][cj(0x344)](',\x20')+'\x0a';for(const aG of aD[cj(0x31d)+cj(0x392)]){aD[cj(0x554)+cj(0x1e1)+'s'][cj(0x3f2)](aG)&&(aE+=cj(0x1f8)+cj(0x1f0)+cj(0x25a)+'\x20'+aD[cj(0x554)+cj(0x1e1)+'s'][cj(0x553)](aG)+'?\x0a');}}let aF=cj(0x2d1)+aA;try{const aH=await botApi[cj(0x422)+'at'](aA);aF=cj(0x230)+escapeHtml(aH[cj(0x40e)])+cj(0x1cd);}catch(aI){}return a[cj(0x474)](''+await applyFont(name,cj(0x1c7)+cj(0x38c)+cj(0x557)+cj(0x551)+cj(0x2c5)+'r\x20')+aF+await applyFont(name,':\x0a')+aE,{'parse_mode':cj(0x27c)});}else{const aJ=delFilter(d,az);let aK='';aJ[cj(0x22a)+'ed'][cj(0x381)+'h']>0x0&&(aK+=cj(0x45e)+cj(0x491)+'\x20'+aJ[cj(0x22a)+'ed'][cj(0x344)](',\x20')+'\x0a');if(aJ[cj(0x31d)+cj(0x392)][cj(0x381)+'h']>0x0){aK+=cj(0x526)+cj(0x463)+cj(0x1f7)+aJ[cj(0x31d)+cj(0x392)][cj(0x344)](',\x20')+'\x0a';for(const aL of aJ[cj(0x31d)+cj(0x392)]){aJ[cj(0x554)+cj(0x1e1)+'s'][cj(0x3f2)](aL)&&(aK+=cj(0x1f8)+cj(0x1f0)+cj(0x25a)+'\x20'+aJ[cj(0x554)+cj(0x1e1)+'s'][cj(0x553)](aL)+'?\x0a');}}return a[cj(0x474)](aK||cj(0x224)+cj(0x1cb)+cj(0x2f3)+cj(0x4c6)+'.');}}if(h===cj(0x3c6)+cj(0x1cb)+'r'){let aM=d;if(c===cj(0x274)+'te'){const aO=await getDefault();if(!aO)return a[cj(0x474)](await applyFont(name,cj(0x224)+cj(0x275)+cj(0x478)+cj(0x283)));const aP=await getConnection(aO);if(!aP)return a[cj(0x474)](await applyFont(name,cj(0x36f)+cj(0x1e7)+aO+(cj(0x3a2)+cj(0x463)+'d.')));aM=aP;}const aN=await generateFilterListPage(aM,0x1);return a[cj(0x474)](aN[cj(0x54f)],{...aN});}if(h===cj(0x328)+cj(0x4aa)+'ns'){let aQ=d;if(c===cj(0x274)+'te'){const aS=await getDefault();if(!aS)return a[cj(0x474)](await applyFont(name,cj(0x224)+cj(0x275)+cj(0x478)+cj(0x283)));const aT=await getConnection(aS);if(!aT)return a[cj(0x474)](await applyFont(name,cj(0x36f)+cj(0x1e7)+aS+(cj(0x3a2)+cj(0x463)+'d.')));aQ=aT;}const aR=await generateButtonListPage(aQ,0x1);return a[cj(0x474)](aR[cj(0x54f)],{...aR});}if(h===cj(0x21a)+cj(0x396)+'se'){const aU=b[cj(0x234)](h[cj(0x381)+'h'])[cj(0x324)]();if(!aU)return a[cj(0x474)](await applyFont(name,cj(0x249)+cj(0x265)+cj(0x472)+cj(0x239)+cj(0x23a)+cj(0x273)));let aV=d;if(c===cj(0x274)+'te'){const aY=await getDefault();if(!aY)return a[cj(0x474)](await applyFont(name,cj(0x224)+cj(0x275)+cj(0x478)+cj(0x283)));const aZ=await getConnection(aY);if(!aZ)return a[cj(0x474)](await applyFont(name,cj(0x36f)+cj(0x1e7)+aY+(cj(0x3a2)+cj(0x463)+'d.')));aV=aZ;}const aW=delResponse(aV,aU);let aX=cj(0x2d1)+aV;try{if(aV!==d){const b0=await botApi[cj(0x422)+'at'](aV);aX=cj(0x230)+escapeHtml(b0[cj(0x40e)]||cj(0x397)+'wn')+cj(0x1cd);}else aX=cj(0x2c7)+cj(0x32d);}catch(b1){}if(aW[cj(0x1fc)+'s']===cj(0x367)+cj(0x53f)){let b2=cj(0x3b4)+cj(0x3d8)+cj(0x1c9)+cj(0x3ce)+cj(0x4af);return aW[cj(0x202)+'es'][cj(0x37f)+'ch']((b3,b4)=>{const cl=cj,b5=b3[cl(0x228)+cl(0x3c2)+'xt'][cl(0x381)+'h']>0x32?b3[cl(0x228)+cl(0x3c2)+'xt'][cl(0x459)+cl(0x475)](0x0,0x2f)+cl(0x43f):b3[cl(0x228)+cl(0x3c2)+'xt'];b2+=b4+0x1+(cl(0x2e0)+cl(0x54c))+b3[cl(0x1cb)+cl(0x3e8)]+cl(0x29f)+b5+'\x22\x0a';}),b2+=cj(0x4d4)+cj(0x4a4)+cj(0x2e4)+cj(0x3b3)+cj(0x2b5)+cj(0x1d7)+cj(0x228)+cj(0x52c)+cj(0x441)+cj(0x52d),pendingAdminActions[cj(0x41a)](f,{'type':cj(0x4ae)+cj(0x1dd)+cj(0x472)+cj(0x3e5)+cj(0x3de)+'t','chatId':aV,'matches':aW[cj(0x202)+'es'],'ts':Date[cj(0x1e3)]()}),a[cj(0x474)](b2,{'reply_markup':generateCancelKeyboard(aV)});}return a[cj(0x474)](''+await applyFont(name,cj(0x4d1)+cj(0x2e6)+'\x20')+aX+await applyFont(name,':\x0a')+aW[cj(0x3ac)+'ge'],{'parse_mode':aW[cj(0x4cc)+cj(0x44c)]||cj(0x27c)});}if(h[cj(0x3cf)+cj(0x3fc)](cj(0x21a)+cj(0x396)+cj(0x4a1))&&!isNaN(parseInt(b[cj(0x35f)]('\x20')[0x1]))){const b3=parseInt(b[cj(0x35f)]('\x20')[0x1]),b4=pendingAdminActions[cj(0x553)](f);if(!b4||b4[cj(0x29b)]!==cj(0x4ae)+cj(0x1dd)+cj(0x472)+cj(0x3e5)+cj(0x3de)+'t'||!b4[cj(0x202)+'es']||!Array[cj(0x3c9)+'ay'](b4[cj(0x202)+'es']))return pendingAdminActions[cj(0x22a)+'e'](f),a[cj(0x474)](cj(0x224)+cj(0x522)+cj(0x39f)+cj(0x444)+cj(0x396)+cj(0x2b9)+cj(0x431)+cj(0x3b0)+cj(0x427)+cj(0x3d9)+cj(0x3df)+cj(0x50b)+cj(0x506)+cj(0x276)+cj(0x28f)+cj(0x46d)+cj(0x21a)+cj(0x396)+cj(0x3b5)+cj(0x1f5),{'reply_markup':generateCancelKeyboard(b4?.[cj(0x4ac)+'d']||d)});if(b3<0x1||b3>b4[cj(0x202)+'es'][cj(0x381)+'h'])return a[cj(0x474)](cj(0x55a)+cj(0x27e)+cj(0x3de)+cj(0x46f)+cj(0x42e)+cj(0x211)+cj(0x1fd)+cj(0x464)+cj(0x384),{'reply_markup':generateCancelKeyboard(b4[cj(0x4ac)+'d'])});const b5=b4[cj(0x202)+'es'][b3-0x1],b6=getChatFilters(b4[cj(0x4ac)+'d'])[cj(0x553)](b5[cj(0x1cb)+cj(0x3e8)]);b6[cj(0x228)+cj(0x2c4)][cj(0x3cd)+'e'](b5[cj(0x228)+cj(0x363)+cj(0x24a)],0x1);const b7=b4[cj(0x4ac)+'d']+'_'+b5[cj(0x1cb)+cj(0x3e8)];return userResponseIndex[cj(0x22a)+'e'](b7),markFiltersChanged(),markUserIndexChanged(),pendingAdminActions[cj(0x22a)+'e'](f),a[cj(0x474)](cj(0x312)+cj(0x372)+cj(0x50c)+cj(0x518)+cj(0x35b)+cj(0x2ed)+'\x20\x22'+b5[cj(0x1cb)+cj(0x3e8)]+'\x22.');}if(h===cj(0x4ff)+cj(0x4aa)+'n'){const b8=b[cj(0x234)](h[cj(0x381)+'h'])[cj(0x324)]();if(!b8)return a[cj(0x474)](await applyFont(name,cj(0x249)+cj(0x265)+cj(0x2dd)+cj(0x3a5)+cj(0x26a)+cj(0x30f)));let b9=d;if(c===cj(0x274)+'te'){const be=await getDefault();if(!be)return a[cj(0x474)](await applyFont(name,cj(0x224)+cj(0x275)+cj(0x478)+cj(0x283)));const bf=await getConnection(be);if(!bf)return a[cj(0x474)](await applyFont(name,cj(0x36f)+cj(0x1e7)+be+(cj(0x3a2)+cj(0x463)+'d.')));b9=bf;}const ba=listButtons(b9),bb=ba[cj(0x306)](bg=>bg[cj(0x4a3)]===b8);if(!bb){let bg='';for(const bh of ba){const bi=levenshteinDistance(b8,bh[cj(0x4a3)]);bi<=LEVENSHTEIN_DISTANCE_THRESHOLD&&(bg+=cj(0x1f8)+cj(0x1f0)+cj(0x25a)+'\x20'+bh[cj(0x4a3)]+'?\x0a');}return a[cj(0x474)](cj(0x23f)+cj(0x545)+cj(0x243)+cj(0x434)+(bg||cj(0x533)+cj(0x4f9)+cj(0x244)+cj(0x300)+cj(0x246)),{'reply_markup':generateCancelKeyboard(b9)});}const bc=[],bd=getChatFilters(b9);for(const [bj,bk]of bd[cj(0x499)+'es']()){if(bk&&!bk[cj(0x1ec)+cj(0x3aa)+'f']){const bl=bk[cj(0x4aa)+'ns']?.[cj(0x306)](bm=>bm[cj(0x4a3)]===b8);bl&&bc[cj(0x299)](bj);}}pendingAdminActions[cj(0x41a)](f,{'type':cj(0x4ae)+cj(0x1dd)+cj(0x2dd)+cj(0x4fc)+cj(0x1ed),'chatId':b9,'buttonName':b8,'matches':bc,'ts':Date[cj(0x1e3)]()});if(bc[cj(0x381)+'h']===0x0)return pendingAdminActions[cj(0x22a)+'e'](f),a[cj(0x474)](cj(0x498)+cj(0x50e)+cj(0x2d2)+cj(0x3f7)+cj(0x505)+cj(0x382)+cj(0x463)+cj(0x30a)+cj(0x496)+cj(0x2ed)+cj(0x473)+cj(0x458)+cj(0x456)+cj(0x49a)+cj(0x2bf),{'reply_markup':generateCancelKeyboard(b9)});else{if(bc[cj(0x381)+'h']===0x1){const bm=delButton(b9,b8,bc[0x0]);bm[cj(0x22a)+'ed']?await a[cj(0x474)](cj(0x4d8)+cj(0x2a8)+cj(0x30d)+cj(0x546)+cj(0x3d3)+cj(0x333)+bc[0x0]+'\x22.'):await a[cj(0x474)](cj(0x366)+cj(0x479)+cj(0x441)+cj(0x556)+cj(0x26a)+'.'),pendingAdminActions[cj(0x22a)+'e'](f);}else{let bn=cj(0x505)+cj(0x2b2)+cj(0x307)+cj(0x378)+cj(0x4f3)+cj(0x1cb)+cj(0x466);bc[cj(0x37f)+'ch']((bo,bp)=>{bn+=bp+0x1+'.\x20'+bo+'\x0a';}),bn+=cj(0x4d4)+cj(0x4a4)+cj(0x2e4)+cj(0x3b3)+cj(0x2b5)+cj(0x1d7)+cj(0x1cb)+cj(0x345)+cj(0x22a)+cj(0x425)+'m.',await a[cj(0x474)](bn,{'reply_markup':generateCancelKeyboard(b9)});}}}if(h[cj(0x3cf)+cj(0x3fc)](cj(0x4ff)+cj(0x4aa)+'n\x20')&&!isNaN(parseInt(b[cj(0x35f)]('\x20')[0x1]))){const bo=parseInt(b[cj(0x35f)]('\x20')[0x1]),bp=pendingAdminActions[cj(0x553)](f);if(!bp||bp[cj(0x29b)]!==cj(0x4ae)+cj(0x1dd)+cj(0x2dd)+cj(0x4fc)+cj(0x1ed)||!bp[cj(0x202)+'es']||!Array[cj(0x3c9)+'ay'](bp[cj(0x202)+'es']))return pendingAdminActions[cj(0x22a)+'e'](f),a[cj(0x474)](cj(0x224)+cj(0x522)+cj(0x39f)+cj(0x432)+cj(0x26a)+cj(0x4bf)+cj(0x3f5)+cj(0x398)+cj(0x365)+cj(0x2b8)+cj(0x316)+cj(0x50c)+cj(0x46f)+cj(0x3e6)+cj(0x529)+cj(0x304)+cj(0x47b)+cj(0x4a0)+cj(0x229)+'].',{'reply_markup':generateCancelKeyboard(bp?.[cj(0x4ac)+'d']||d)});if(bo<0x1||bo>bp[cj(0x202)+'es'][cj(0x381)+'h'])return a[cj(0x474)](cj(0x55a)+cj(0x27e)+cj(0x3de)+cj(0x46f)+cj(0x42e)+cj(0x211)+cj(0x1fd)+cj(0x464)+cj(0x384),{'reply_markup':generateCancelKeyboard(bp[cj(0x4ac)+'d'])});const bq=bp[cj(0x202)+'es'][bo-0x1],br=delButton(bp[cj(0x4ac)+'d'],bp[cj(0x4aa)+cj(0x212)],bq);return pendingAdminActions[cj(0x22a)+'e'](f),br[cj(0x22a)+'ed']?a[cj(0x474)](cj(0x4d8)+cj(0x2a8)+cj(0x30d)+cj(0x546)+cj(0x3d3)+cj(0x333)+bq+'\x22.'):a[cj(0x474)](cj(0x366)+cj(0x479)+cj(0x441)+cj(0x556)+cj(0x26a)+'.');}if(c!==cj(0x274)+'te'&&b){const bs=getChatFilters(d),bt=matchFilter(bs,b);if(bt){const bu=bs[cj(0x553)](bt);if(bu?.[cj(0x228)+cj(0x2c4)]?.[cj(0x381)+'h']>0x0){const bv=d+'_'+bt;let bw=userResponseIndex[cj(0x553)](bv)||0x0;const bx=bu[cj(0x228)+cj(0x2c4)][bw];if(bx){const by=formatTextWithEntities(bx[cj(0x54f)],bx[cj(0x21d)+cj(0x39d)]),bz={'reply_parameters':{'message_id':a[cj(0x3ac)+'ge'][cj(0x3ac)+cj(0x1dc)]},'parse_mode':cj(0x27c),'disable_web_page_preview':!![]};if(bu[cj(0x4aa)+'ns']?.[cj(0x381)+'h']>0x0){const bA=new InlineKeyboard();let bB=0x0;if(bu[cj(0x259)+'t']&&bu[cj(0x259)+'t'][cj(0x381)+'h']>0x0)for(const bC of bu[cj(0x259)+'t']){const bD=[];for(let bE=0x0;bE<bC;bE++){if(bB<bu[cj(0x4aa)+'ns'][cj(0x381)+'h']){const bF=bu[cj(0x4aa)+'ns'][bB];bD[cj(0x299)](InlineKeyboard[cj(0x20f)](bF[cj(0x4a3)],bF[cj(0x20f)])),bB++;}}bD[cj(0x381)+'h']>0x0&&bA[cj(0x483)](...bD);}else for(const bG of bu[cj(0x4aa)+'ns']){bA[cj(0x20f)](bG[cj(0x4a3)],bG[cj(0x20f)]),bB++;if(bB%0x8===0x0)bA[cj(0x483)]();}bz[cj(0x474)+cj(0x2e9)+'up']=bA;}await a[cj(0x474)](by,bz),userResponseIndex[cj(0x41a)](bv,(bw+0x1)%bu[cj(0x228)+cj(0x2c4)][cj(0x381)+'h']),markUserIndexChanged();}}}}}export async function onCallbackQuery(a){const cm=a0bI,b=a[cm(0x4ab)+cm(0x258)+cm(0x269)]?.[cm(0x2a0)],c=a[cm(0x370)]?.['id'];if(b?.[cm(0x3cf)+cm(0x3fc)](CALLBACK_PREFIX)){const d=b[cm(0x35f)]('::'),f=d[0x1],g=Number(d[0x2]),h=Number(d[0x3]);if(isNaN(g)||isNaN(h)){await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]({'text':cm(0x35d)+cm(0x37c)+cm(0x282),'show_alert':!![]});return;}if(!isAdmin(a)){await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]({'text':cm(0x2f8)+cm(0x2a4)+cm(0x4f1)+'d.','show_alert':!![]});return;}if(f===cm(0x53c)+'p'||f===cm(0x241)){const m=f===cm(0x53c)+'p'?await generateFilterListPage(g,h):await generateButtonListPage(g,h);try{await a[cm(0x2cf)+cm(0x294)+cm(0x287)](m[cm(0x54f)],{...m}),await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]();}catch(n){!n[cm(0x4ce)+cm(0x532)+'n']?.[cm(0x286)+cm(0x449)](cm(0x3ac)+cm(0x380)+cm(0x376)+cm(0x200)+cm(0x52b))?(error(cm(0x22b)+cm(0x4a7)+cm(0x42c)+'\x20'+n[cm(0x3ac)+'ge'],n),await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]({'text':cm(0x2ac)+':\x20'+n[cm(0x3ac)+'ge'],'show_alert':!![]})):await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]();}return;}if(f===cm(0x552)){await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]();return;}const i=d[0x2],j=pendingActions[cm(0x553)](i);if(!j||j['ts']+PENDING_ACTION_TTL_MS<Date[cm(0x1e3)]()){await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]({'text':cm(0x45c)+cm(0x272)+cm(0x33a)+'d.','show_alert':!![]});return;}if(!isAdmin(a)){await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]({'text':cm(0x2f8)+cm(0x2a4)+cm(0x4f1)+'d.','show_alert':!![]});return;}pendingActions[cm(0x22a)+'e'](i);const {payload:k}=j,l=k[cm(0x4ac)+'d'];try{switch(f){case cm(0x301)+'t':{if(k[cm(0x21b)]===cm(0x22a)+cm(0x335))setFilter(l,k[cm(0x4cc)+cm(0x2e2)+cm(0x1f3)][cm(0x1cb)+cm(0x3e8)+'s'],k[cm(0x4cc)+cm(0x2e2)+cm(0x1f3)][cm(0x228)+cm(0x2c4)],k[cm(0x4cc)+cm(0x2e2)+cm(0x1f3)][cm(0x4aa)+'ns']),await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]({'text':cm(0x559)+cm(0x4b3)+cm(0x385)+cm(0x2bf)}),await a[cm(0x2cf)+cm(0x294)+cm(0x287)](await applyFont(name,cm(0x3e9)+cm(0x280)+cm(0x44b)+cm(0x48a)+l));else{if(k[cm(0x21b)]===cm(0x3cc)+cm(0x396)+'se'){let o=addResponsesOnly(l,k[cm(0x4cc)+cm(0x2e2)+cm(0x1f3)][cm(0x1cb)+cm(0x3e8)+'s'][0x0],k[cm(0x4cc)+cm(0x2e2)+cm(0x1f3)][cm(0x228)+cm(0x2c4)]);await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]({'text':cm(0x25e)+cm(0x543)+o+(cm(0x4b7)+cm(0x4df)+cm(0x25d))}),await a[cm(0x2cf)+cm(0x294)+cm(0x287)](await applyFont(name,cm(0x25e)+cm(0x38d)+cm(0x500)+l));}}break;}default:await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]({'text':cm(0x397)+cm(0x38e)+cm(0x484),'show_alert':!![]});}}catch(p){error(cm(0x22b)+cm(0x4a7)+cm(0x42c)+'\x20'+p[cm(0x3ac)+'ge'],p),await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]({'text':cm(0x2ac)+':\x20'+p[cm(0x3ac)+'ge'],'show_alert':!![]});}return;}if(b?.[cm(0x3cf)+cm(0x3fc)](ADMIN_CALLBACK_PREFIX)){const q=b[cm(0x35f)]('::'),r=q[0x1],s=Number(q[0x2]);if(isNaN(s)){await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]({'text':cm(0x35d)+cm(0x284)+cm(0x549)+'.','show_alert':!![]});return;}if(!isAdmin(a)){await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]({'text':cm(0x2f8)+cm(0x2a4)+cm(0x4f1)+'d.','show_alert':!![]});return;}try{switch(r){case cm(0x4c1):{c&&pendingAdminActions[cm(0x22a)+'e'](c);const t=generateAdminPanelKeyboard(s);let u=cm(0x2d1)+s;try{const w=await botApi[cm(0x422)+'at'](s);u=cm(0x230)+escapeHtml(w[cm(0x40e)]||cm(0x397)+'wn')+cm(0x1cd);}catch(x){}const v=''+await applyFont(name,cm(0x38a)+cm(0x2b7))+u;await a[cm(0x2cf)+cm(0x294)+cm(0x287)](v,{'reply_markup':t,'parse_mode':cm(0x27c)}),await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]();break;}case cm(0x43e)+cm(0x2ed)+'s':{const y=await generateFilterListPage(s,0x1);await a[cm(0x2cf)+cm(0x294)+cm(0x287)](y[cm(0x54f)],{...y}),await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]();break;}case cm(0x3a9)+cm(0x26a)+'s':{const z=await generateButtonListPage(s,0x1);await a[cm(0x2cf)+cm(0x294)+cm(0x287)](z[cm(0x54f)],{...z}),await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]();break;}case cm(0x34a)+cm(0x3ff)+cm(0x2ed):{if(!c){await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]({'text':cm(0x3c1)+cm(0x2da)+cm(0x298)+'.','show_alert':!![]});return;}pendingAdminActions[cm(0x41a)](c,{'type':cm(0x22a)+cm(0x2ab)+cm(0x1c4)+cm(0x3f8),'chatId':s,'ts':Date[cm(0x1e3)]()}),await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]({'text':cm(0x4d7)+cm(0x39c)+cm(0x30d)+'.','show_alert':!![]}),await a[cm(0x474)](''+await applyFont(name,cm(0x447)+cm(0x1cb)+cm(0x2bb)+cm(0x495)+cm(0x377)+cm(0x28a)+cm(0x30b)+cm(0x2b7)+cm(0x2d1))+s,{'reply_markup':generateCancelKeyboard(s)});break;}case cm(0x34a)+cm(0x1ef)+cm(0x396)+'se':{if(!c){await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]({'text':cm(0x3c1)+cm(0x2da)+cm(0x298)+'.','show_alert':!![]});return;}pendingAdminActions[cm(0x41a)](c,{'type':cm(0x22a)+cm(0x383)+cm(0x372)+cm(0x2be)+'pt','chatId':s,'ts':Date[cm(0x1e3)]()}),await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]({'text':cm(0x4d7)+cm(0x39c)+cm(0x30d)+'.','show_alert':!![]}),await a[cm(0x474)](''+await applyFont(name,cm(0x447)+cm(0x27b)+cm(0x4b7)+cm(0x239)+cm(0x4c9)+cm(0x386)+'D\x20')+s,{'reply_markup':generateCancelKeyboard(s)});break;}case cm(0x34a)+cm(0x3ff)+cm(0x4aa)+'n':{if(!c){await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]({'text':cm(0x3c1)+cm(0x2da)+cm(0x298)+'.','show_alert':!![]});return;}pendingAdminActions[cm(0x41a)](c,{'type':cm(0x22a)+cm(0x1ce)+cm(0x482)+cm(0x3f8),'chatId':s,'ts':Date[cm(0x1e3)]()}),await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]({'text':cm(0x4d7)+cm(0x39c)+cm(0x30d)+'.','show_alert':!![]}),await a[cm(0x474)](''+await applyFont(name,cm(0x447)+cm(0x4aa)+cm(0x523)+cm(0x4c5)+cm(0x28d))+s,{'reply_markup':generateCancelKeyboard(s)});break;}case cm(0x34a)+cm(0x2b4)+cm(0x396)+'se':{if(!c){await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]({'text':cm(0x3c1)+cm(0x2da)+cm(0x298)+'.','show_alert':!![]});return;}pendingAdminActions[cm(0x41a)](c,{'type':cm(0x3cc)+cm(0x396)+cm(0x4b9)+cm(0x540),'chatId':s,'ts':Date[cm(0x1e3)]()}),await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]({'text':cm(0x4d7)+cm(0x3fa)+cm(0x2a6)+cm(0x47d)+cm(0x426),'show_alert':!![]}),await a[cm(0x474)](''+await applyFont(name,cm(0x447)+cm(0x480)+cm(0x4f7)+cm(0x406)+cm(0x539)+cm(0x250)+cm(0x2ff)+cm(0x45a)+cm(0x534)+cm(0x47d)+cm(0x375)+cm(0x4e8)+'D\x20')+s,{'reply_markup':generateCancelKeyboard(s)});break;}case cm(0x34a)+cm(0x4cf)+cm(0x26a):{if(!c){await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]({'text':cm(0x3c1)+cm(0x2da)+cm(0x298)+'.','show_alert':!![]});return;}pendingAdminActions[cm(0x41a)](c,{'type':cm(0x41f)+cm(0x26a)+cm(0x2be)+'pt','chatId':s,'ts':Date[cm(0x1e3)]()}),await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]({'text':cm(0x4d7)+cm(0x3fa)+cm(0x2f0)+cm(0x4c0)+'.','show_alert':!![]}),await a[cm(0x474)](''+await applyFont(name,cm(0x447)+cm(0x480)+cm(0x4f7)+cm(0x406)+cm(0x539)+cm(0x47c)+cm(0x4fe)+cm(0x4c8)+cm(0x26a)+cm(0x514)+cm(0x248)+cm(0x469)+cm(0x393)+cm(0x4ca)+cm(0x1c3)+cm(0x505)+cm(0x349)+cm(0x30e)+cm(0x36e)+cm(0x46a)+cm(0x453)+cm(0x51c)+cm(0x2d5)+cm(0x1d0)+cm(0x457)+cm(0x28e)+cm(0x2ef)+cm(0x489)+cm(0x2d1))+s,{'reply_markup':generateCancelKeyboard(s)});break;}case cm(0x2ca)+'ss':{await a[cm(0x2cf)+cm(0x294)+cm(0x4f6)+cm(0x32c)+'up']({}),await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]({'text':cm(0x1d4)+cm(0x2ca)+cm(0x455)});c&&pendingAdminActions[cm(0x22a)+'e'](c);break;}default:await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]({'text':cm(0x397)+cm(0x38e)+cm(0x484),'show_alert':!![]});}}catch(A){error(cm(0x38a)+cm(0x439)+cm(0x24e)+cm(0x2e3)+':\x20'+A[cm(0x3ac)+'ge'],A),await a[cm(0x29a)+cm(0x1f2)+cm(0x309)+cm(0x414)]({'text':cm(0x2ac)+':\x20'+A[cm(0x3ac)+'ge'],'show_alert':!![]});}}}async function onShutdown(){const cn=a0bI;info(cn(0x53e)+cn(0x412)+cn(0x44f)+cn(0x51a)+cn(0x4e7)),clearTimeout(filterSaveTimer),clearTimeout(userIndexSaveTimer);try{await Promise[cn(0x1da)]([saveAllFiltersToDB(),saveUserResponseIndexesToDB()]),info(cn(0x216)+cn(0x330)+cn(0x520)+cn(0x25b)+cn(0x2ea));}catch(a){error(cn(0x216)+cn(0x481)+cn(0x42c)+cn(0x337)+'s',a,a?.[cn(0x1c8)]);}}export async function initialize(a){const co=a0bI;try{if(!a?.[co(0x4ef)])throw new Error(co(0x531)+co(0x41b)+co(0x1d2)+co(0x356)+'d.');botApi=a[co(0x4ef)],await initDatabase(),await loadFiltersFromDB(),await loadUserResponseIndexesFromDB(),prunePendingInterval=setInterval(prunePendingTokens,0x3c*0x3c*0x3e8),a['on'](co(0x3ac)+'ge',onMessage),a['on'](co(0x4ab)+co(0x3eb)+co(0x414),onCallbackQuery),process[co(0x44e)](co(0x4a8)+'T',onShutdown),process[co(0x44e)](co(0x2eb)+'RM',onShutdown),info(co(0x559)+co(0x326)+version+(co(0x28c)+co(0x3b9)+co(0x2bf)));}catch(b){error(co(0x1fe)+co(0x36a)+co(0x1f7)+b[co(0x3ac)+'ge']);throw b;}}