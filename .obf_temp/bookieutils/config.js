(function(a,b){const G=a0i,c=a();while(!![]){try{const d=parseInt(G(0x143))/0x1+-parseInt(G(0x1b7))/0x2+parseInt(G(0x165))/0x3+parseInt(G(0x1a5))/0x4*(parseInt(G(0x190))/0x5)+parseInt(G(0x1c8))/0x6*(-parseInt(G(0x179))/0x7)+-parseInt(G(0x1b6))/0x8*(-parseInt(G(0x1b5))/0x9)+parseInt(G(0x1ab))/0xa*(parseInt(G(0x1bf))/0xb);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0g,0x21e73));const a0h=a0b;(function(f,h){const H=a0i,i=a0b,j=f();while(!![]){try{const k=-parseInt(i(0x18e))/0x1*(parseInt(i(0x195))/0x2)+-parseInt(i(0x1ab))/0x3+-parseInt(i(0x188))/0x4+parseInt(i(0x16c))/0x5*(-parseInt(i(0x150))/0x6)+parseInt(i(0x165))/0x7*(parseInt(i(0x1ac))/0x8)+parseInt(i(0x1a4))/0x9+parseInt(i(0x1a1))/0xa*(parseInt(i(0x179))/0xb);if(k===h)break;else j[H(0x18f)](j[H(0x197)]());}catch(l){j[H(0x18f)](j[H(0x197)]());}}}(a0a,0xcfd7f));import a0j from'dotenv';function a0i(a,b){const c=a0g();return a0i=function(d,e){d=d-0x10a;let f=c[d];if(a0i['xCEMdw']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0i['YeQFVt']=g,a=arguments,a0i['xCEMdw']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a0i['YeQFVt'](f),a[i]=f):f=j,f;},a0i(a,b);}import a0k from'fs';import a0l from'path';import a0m from'chokidar';import{z}from'zod';import{info,error}from'./logger.js';const envPath=a0l[a0h(0x163)+'ve'](process[a0h(0x15d)](),a0h(0x1ad));a0k[a0h(0x187)+a0h(0x1a6)](envPath)?a0j[a0h(0x184)+'g']({'path':envPath}):(error(a0h(0x15b)+a0h(0x174)+a0h(0x1b1)+a0h(0x155)),process[a0h(0x149)](0x1));const CONFIG_PATH=a0l[a0h(0x163)+'ve'](process[a0h(0x15d)](),a0h(0x184)+a0h(0x144)+'n'),watcher=a0m[a0h(0x190)](CONFIG_PATH,{'persistent':!![],'ignoreInitial':!![]}),ConfigSchema=z[a0h(0x1a5)+'t']({'ADMINS':z[a0h(0x1a3)](z[a0h(0x1b2)+'r']())[a0h(0x1a8)](0x1),'LOG_STACK':z[a0h(0x18a)+'an']()[a0h(0x17c)+'lt'](![]),'UFW_PORTS':z[a0h(0x1a3)](z[a0h(0x1b2)+'r']()[a0h(0x1a8)](0x1)[a0h(0x19c)](0xffff))[a0h(0x1a8)](0x1),'RATE_LIMIT':z[a0h(0x1a3)](z[a0h(0x1a5)+'t']({'timeFrame':z[a0h(0x1b2)+'r']()[a0h(0x1a8)](0x64),'limit':z[a0h(0x1b2)+'r']()[a0h(0x1a8)](0x1)}))[a0h(0x1a8)](0x1),'TIMEZONE':z[a0h(0x146)+'g']()[a0h(0x17c)+'lt'](a0h(0x15f)),'LOG_LEVEL':z[a0h(0x15c)]([a0h(0x161),a0h(0x13f),a0h(0x148),a0h(0x19d)])[a0h(0x17c)+'lt'](a0h(0x148)),'DB_BATCH_SIZE':z[a0h(0x1b2)+'r']()[a0h(0x1a8)](0x1)[a0h(0x19c)](0x3e8)[a0h(0x17c)+'lt'](0x32),'DB_PATH':z[a0h(0x146)+'g']()[a0h(0x17c)+'lt'](a0h(0x181)+a0h(0x14b)),'DB_DURABILITY':z[a0h(0x15c)]([a0h(0x145),a0h(0x168)+'l'])[a0h(0x17c)+'lt'](a0h(0x168)+'l'),'BOT_TOKEN':z[a0h(0x146)+'g']()[a0h(0x1a8)](0x28),'VALIDATION_SECRET':z[a0h(0x146)+'g']()[a0h(0x1a8)](0x10),'ANTILINK':z[a0h(0x1a5)+'t']({'ENABLED_BY_DEFAULT':z[a0h(0x18a)+'an']()[a0h(0x17c)+'lt'](!![]),'WARNING_MESSAGE':z[a0h(0x146)+'g']()[a0h(0x17c)+'lt'](a0h(0x141)+a0h(0x185)+a0h(0x19a)+a0h(0x154)+a0h(0x13b)),'EXPRESSIONS':z[a0h(0x1a3)](z[a0h(0x146)+'g']())[a0h(0x1a8)](0x1)[a0h(0x17c)+'lt']([a0h(0x19e)+a0h(0x159)+a0h(0x1b3)+a0h(0x156)+a0h(0x180)+a0h(0x151),a0h(0x166)+a0h(0x16d)+a0h(0x13c)+a0h(0x142)+'e!',a0h(0x1b5)+a0h(0x1a9)+a0h(0x13a)+a0h(0x16a)]),'WARNING_TTL_MS':z[a0h(0x1b2)+'r']()[a0h(0x1a8)](0x0)[a0h(0x17c)+'lt'](0x493e0),'EXPRESSION_TTL_MS':z[a0h(0x1b2)+'r']()[a0h(0x1a8)](0x0)[a0h(0x17c)+'lt'](0x1388),'DELETE_RETRY_DELAY_MS':z[a0h(0x1b2)+'r']()[a0h(0x1a8)](0x0)[a0h(0x17c)+'lt'](0x7d0),'DELETION_QUEUE_INTERVAL_MS':z[a0h(0x1b2)+'r']()[a0h(0x1a8)](0x0)[a0h(0x17c)+'lt'](0x1388),'MAX_DELETE_ATTEMPTS':z[a0h(0x1b2)+'r']()[a0h(0x1a8)](0x1)[a0h(0x17c)+'lt'](0x5),'MUTE_DURATION_MS':z[a0h(0x1b2)+'r']()[a0h(0x1a8)](0x0)[a0h(0x17c)+'lt'](0x0)}),'BLOCKER':z[a0h(0x1a5)+'t']({'MAX_MSG_CHARS':z[a0h(0x1b2)+'r']()[a0h(0x1a8)](0x64)[a0h(0x17c)+'lt'](0xffa),'SAVE_DELAY_MS':z[a0h(0x1b2)+'r']()[a0h(0x1a8)](0x0)[a0h(0x17c)+'lt'](0x1388)}),'ANTICONTACT':z[a0h(0x1a5)+'t']({'GMAIL_ENABLED':z[a0h(0x18a)+'an']()[a0h(0x17c)+'lt'](!![]),'CONTACT_ENABLED':z[a0h(0x18a)+'an']()[a0h(0x17c)+'lt'](!![]),'WARNING_PREFIX':z[a0h(0x146)+'g']()[a0h(0x17c)+'lt'](a0h(0x19b)+a0h(0x197)+a0h(0x17d)+a0h(0x18c)+a0h(0x175)+a0h(0x1b4)+a0h(0x191)+a0h(0x18b)+a0h(0x162)+a0h(0x14e)+a0h(0x182)+a0h(0x186)+a0h(0x178)+a0h(0x176)+a0h(0x19f)+a0h(0x143)+a0h(0x14d)+a0h(0x1aa)+a0h(0x17f)+a0h(0x15a)+a0h(0x160)+a0h(0x152)+a0h(0x189)+'\x20('),'WARNING_SUFFIX':z[a0h(0x146)+'g']()[a0h(0x17c)+'lt'](a0h(0x157)+a0h(0x169)+a0h(0x16e)+a0h(0x196)+a0h(0x18d)+'d)'),'INFRACTION_THRESHOLD':z[a0h(0x1b2)+'r']()[a0h(0x1a8)](0x1)[a0h(0x17c)+'lt'](0x2),'INFRACTION_EXPIRY_MS':z[a0h(0x1b2)+'r']()[a0h(0x1a8)](0x0)[a0h(0x17c)+'lt'](0x36ee80),'WARNING_TTL_MS':z[a0h(0x1b2)+'r']()[a0h(0x1a8)](0x0)[a0h(0x17c)+'lt'](0x493e0),'QUEUE_COOLDOWN_MS':z[a0h(0x1b2)+'r']()[a0h(0x1a8)](0x0)[a0h(0x17c)+'lt'](0xbb8)}),'ANTIPOLL':z[a0h(0x1a5)+'t']({'SEND_WARNING':z[a0h(0x18a)+'an']()[a0h(0x17c)+'lt'](!![]),'WARNING_TEXT':z[a0h(0x146)+'g']()[a0h(0x17c)+'lt'](a0h(0x172)+a0h(0x13e)+a0h(0x167)+a0h(0x199)+a0h(0x177)+a0h(0x193)+a0h(0x1b0)+a0h(0x198)),'WARNING_TTL_MS':z[a0h(0x1b2)+'r']()[a0h(0x1a8)](0x0)[a0h(0x17c)+'lt'](0x1388)})});function a0a(){const I=a0i,a=[I(0x12e)+'3q',I(0x1c4)+'we',I(0x19f)+'wu',I(0x116)+'Ie',I(0x135)+'hy',I(0x16d)+I(0x162)+'0',I(0x141)+'gK',I(0x192)+'sC',I(0x122),I(0x17f)+'gK',I(0x11b)+'xi',I(0x1a6)+I(0x113)+I(0x1ac),I(0x1a2)+'G',I(0x196)+'sa',I(0x169)+'gy',I(0x168)+'gK',I(0x124)+'gK',I(0x191)+'wq',I(0x166)+I(0x181)+'i',I(0x136)+'Me',I(0x1af)+'1i',I(0x193)+'xu',I(0x144)+'xi',I(0x188)+'ey',I(0x12a)+'xq',I(0x1a1)+'g4',I(0x152)+'xm',I(0x112)+'2u',I(0x155)+'dO',I(0x16c)+'MK',I(0x13a)+'xi',I(0x127)+'w0',I(0x1b9)+'3q',I(0x19d)+I(0x182)+I(0x159)+'A',I(0x129)+'s4',I(0x120)+'gu',I(0x163)+'ca',I(0x17a)+'wi',I(0x19b)+'gu',I(0x15c)+I(0x156),I(0x17b)+'04',I(0x128)+'2G',I(0x13c)+'hu',I(0x158)+'ge',I(0x114)+'gK',I(0x1a7)+'2u',I(0x199)+I(0x1b1)+I(0x12d)+'A',I(0x12b)+'Mu',I(0x171)+'wm',I(0x17d),I(0x17c)+'g8',I(0x167)+I(0x151),I(0x1a6)+I(0x10b)+I(0x185),I(0x1c0),I(0x178)+'wC',I(0x14c)+'gC',I(0x1c2)+'Ya',I(0x180)+'xq',I(0x11c)+I(0x1a8)+I(0x11e)+I(0x146),I(0x1c6)+'Ia',I(0x19e)+'xK',I(0x126)+I(0x173)+I(0x18b)+I(0x170),I(0x1bd)+'wm',I(0x14b)+'Mm',I(0x11f),I(0x110),I(0x1b0)+'wq',I(0x121)+'M8',I(0x132)+I(0x15b)+I(0x145)+I(0x1c5),I(0x13d)+I(0x12f)+I(0x1a3),I(0x150)+'G',I(0x131)+'2e',I(0x11a)+'3K',I(0x15d)+'M8',I(0x1a0)+'gy',I(0x140)+'Mu',I(0x148)+'hm',I(0x195)+'gy',I(0x142)+'Ya',I(0x186)+'1q',I(0x16a)+I(0x1ba),I(0x133),I(0x19c)+'ca',I(0x18d)+'w4',I(0x17e)+'xi',I(0x1bb)+'G',I(0x1c3)+'a',I(0x183)+I(0x138)+'4',I(0x176)+'xm',I(0x187)+'3q',I(0x14a)+'28',I(0x14f)+'a',I(0x123)+'w4',I(0x137)+'uq',I(0x119)+'W',I(0x12c)+'a',I(0x11d)+'2G',I(0x125)+'ge',I(0x13b)+I(0x177),I(0x18c)+'gW',I(0x161)+'xm',I(0x16f)+'wW',I(0x19a)+I(0x1b4)+I(0x15a)+'6',I(0x160),I(0x1aa)+'xq',I(0x189)+'ca',I(0x117)+'3C',I(0x13e)+'ce',I(0x194)+'2G',I(0x1b3)+'hq',I(0x1b8)+'MK',I(0x18e)+'ca',I(0x1ad)+'24',I(0x150)+'Ia',I(0x10e)+'q',I(0x134),I(0x10d)+'ge',I(0x10f),I(0x1ae)+'xm',I(0x174)+'3i',I(0x130)+'xy',I(0x1a9)+'2W',I(0x10c)+'MC',I(0x153)+I(0x16b)+I(0x18a),I(0x10a)+'w8'];return a0a=function(){return a;},a0a();}function a0g(){const L=['ruzhseK','ELLIsKe','uefXm24','zKP5s1a','zguXBuW','BuXQyNO','q1LItKm','Aw9btLq','y2HHCKm','qJndsa','qxHYuhO','zw5jqxC','qMD2vuq','zNjVBum','odmYmZaYB1fSsKvH','BxrMtNu','ENC3suC','re12wuq','ENHQwMK','ne9JDxK','sKrmCK0','Eti5vxO','BNrIzhq','EKfcq0q','ELLImNK','sNv1na','q005mhO','vfvwv1G','sNKXBuO','ENHQwui','Dg9tDhi','q2DythK','AgPmqMe','EMD2suq','odi5mdaZBMr1qLLt','AwCXtei','CxzYANq','AwDMu0i','rhHHvq','qMHTr3K','qxDYseq','EJn2wxK','z0HYrxG','Denzru0','ogORqve','odKRlZ0','oeDdyq','CuS5DxG','qxHTr0m','q012shO','qK1ethO','ugL5DuS','BMDYDNi','q01msKq','qJjMs0e','q005mum','ChvZAa','nda5mdqWsxjfuwrK','q1Lxr3K','AwHmvKq','EMD2txK','AwDyuhO','q005vgK','EK1mu3O','C2HPzNq','t1bruLm','BMrdmw0','BLP5m20','AwCXmuq','qK1uwMW','BKPPwg4','ExHQwxK','AwHYuei','qK05mgK','rgD2wwK','DdbuzNq','CMzerW','BgvUz3q','nhnJwxbXzW','nfbrrZC','q2DMwum','zgKWBNq','q012wKi','AwHIu3K','mZKZmfzYvuD4Aq','yLzcyq','ENDXr0i','AwHYt0e','EdfUzNe','qNH2mhO','wMKYEJe','y2HHCKe','AwC1teu','sMe0DuS','ouLUtufuwG','ndG4nZyWsuHHreDm','mJm2mJG2wffNtKjJ','Cti5vxO','ENHiuem','mMzzq0C','rdjMwui','Aw5KzxG','qJjQuxO','mZq1nJC','mZC0u1HLAgTs','qNDMna','B2rLqxq','qZjmvxO','rhHYtw8','qK05wui','D3rH','q005ww8','wvOWmti','mtjdwurtBg8','De04r0i','n0LWDMC','Etjisei','ExDyuhO','ENC1mui','DNzYza','qNDmvq','zMDOAwO','AwDyuee','n0LWAwy','qKLImee','ywjJzgu','rxnIvKi','ExDyu0i','Aw5N','qxC1tui','qxDythu','ENHPr3O','BxrLm20','DJjMmhK','yMTfsZe','ENC1mG','Eu05vKi','rxnIv0m','rgD2sW','qZnYwue','rdj2s2K','BdjYseq','BxrHmg4','AwHUsNK','rdjMmhK','EK05wui','qwDmsue','qMDxr3K','ENHiueq','AJvZztK','ENnIvui','z1rZCNG','ExDUmee','qND2wKm','Bxrlmw4','ENDXsa','EtnesW','qxC5vwK','qJi0r3O','DKTMBxm','wwjTqxC','AgfYq28','qtnTr3K','ne9bC2K','q01MmxO','BuPPww4','qJn2vxO','wNndwui','qK52vhK','q011r0i','DgDmvue','nJaXnJLpy01zuu8','rgnIvKq','udfXmgy','mxr3qW','A2XTBM8','EK12tei','sKTmtu4','ELK1uum','qZfUnui','DMDitgK','C2XPy2u','ChfYC3q','qwDmtKe','Be12vuq','AKWWAwe','BeK5wxO','BuPdwg4','Dxz3EhK','qxDythO','D0HkD0C'];a0g=function(){return L;};return a0g();}let config={};function a0b(d,e){const f=a0a();return a0b=function(k,l){const J=a0i;k=k-0x139;let m=f[k];if(a0b[J(0x13f)+'F']===undefined){var n=function(v){const K=J,w=K(0x115)+K(0x111)+K(0x147)+K(0x14e)+K(0x154)+K(0x16e)+K(0x157)+K(0x149)+K(0x198)+K(0x172)+K(0x1c7)+K(0x1be)+K(0x184);let x='',y='';for(let A=0x0,B,C,D=0x0;C=v[K(0x1b2)+'t'](D++);~C&&(B=A%0x4?B*0x40+C:C,A++%0x4)?x+=String[K(0x164)+K(0x139)+'de'](0xff&B>>(-0x2*A&0x6)):0x0){C=w[K(0x1bc)+'Of'](C);}for(let E=0x0,F=x[K(0x1a4)+'h'];E<F;E++){y+='%'+('00'+x[K(0x15f)+K(0x1c1)](E)[K(0x175)+K(0x118)](0x10))[K(0x14d)](-0x2);}return decodeURIComponent(y);};a0b[J(0x15e)+'I']=n,d=arguments,a0b[J(0x13f)+'F']=!![];}const o=f[0x0],p=k+o,q=d[p];return!q?(m=a0b[J(0x15e)+'I'](m),d[p]=m):m=q,m;},a0b(d,e);}function loadConfig(){const e=a0h;try{const f=a0k[e(0x187)+e(0x1a6)](CONFIG_PATH)?a0k[e(0x17e)+e(0x1af)+'nc'](CONFIG_PATH,e(0x140)):'{}',g=JSON[e(0x194)](f),h={...g,'BOT_TOKEN':process[e(0x1a7)][e(0x139)+e(0x173)],'VALIDATION_SECRET':process[e(0x1a7)][e(0x147)+e(0x18f)+e(0x17b)+'ET']};config=ConfigSchema[e(0x194)](h),info(e(0x158)+e(0x1a0)+e(0x16b)+e(0x15e)+e(0x16f));}catch(j){error(e(0x158)+e(0x14f)+e(0x170)+e(0x17a)+e(0x183)+'\x20'+j[e(0x1ae)+'ge'],j),process[e(0x149)](0x1);}}loadConfig(),watcher['on'](a0h(0x164)+'e',()=>{const a=a0h;info(a(0x158)+a(0x192)+a(0x153)+a(0x14c)+a(0x13d)+'g'),loadConfig();})['on'](a0h(0x161),b=>error(a0h(0x14a)+a0h(0x171)+a0h(0x1a2)+b[a0h(0x1ae)+'ge'],b));export function getConfig(){return config;}export function hotReloadConfig(b){const c=a0h;watcher['on'](c(0x164)+'e',b);}