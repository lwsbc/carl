(function(a,b){const ee=a0e,c=a();while(!![]){try{const d=-parseInt(ee(0x313))/0x1+-parseInt(ee(0x1d4))/0x2*(parseInt(ee(0x164))/0x3)+-parseInt(ee(0x1ad))/0x4*(-parseInt(ee(0x4af))/0x5)+parseInt(ee(0x21a))/0x6*(parseInt(ee(0x2dd))/0x7)+parseInt(ee(0x344))/0x8*(parseInt(ee(0x452))/0x9)+parseInt(ee(0x19a))/0xa*(parseInt(ee(0x16f))/0xb)+-parseInt(ee(0x303))/0xc;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0d,0x30dec));const a0bI=a0b;(function(f,g){const ef=a0e,h=a0b,i=f();while(!![]){try{const j=-parseInt(h(0x327))/0x1*(parseInt(h(0x397))/0x2)+-parseInt(h(0x29b))/0x3+parseInt(h(0x242))/0x4+parseInt(h(0x49e))/0x5+-parseInt(h(0x454))/0x6*(parseInt(h(0x2e2))/0x7)+-parseInt(h(0x3d9))/0x8*(-parseInt(h(0x4f5))/0x9)+parseInt(h(0x484))/0xa;if(j===g)break;else i[ef(0x3be)](i[ef(0x2fa)]());}catch(k){i[ef(0x3be)](i[ef(0x2fa)]());}}}(a0a,0x2efbf));import{InlineKeyboard}from'grammy';import{error,info}from'../bookieutils/logger.js';function a0e(a,b){const c=a0d();return a0e=function(d,e){d=d-0x15e;let f=c[d];if(a0e['NuaYZW']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0e['ZqLPFq']=g,a=arguments,a0e['NuaYZW']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a0e['ZqLPFq'](f),a[i]=f):f=j,f;},a0e(a,b);}import{getConfig}from'../bookieutils/config.js';function a0d(){const ej=['qZnIu0e','q2DMwxK','qZfeueq','Dxz3EhK','qK5UtgK','AwDUt3O','qZnYwue','rgHYvKi','DgnIuei','AwCXseu','CxvUBa','EK05wui','rgy5uei','EK1ymhK','q0LItui','q01MvxO','qxHYsei','Bgfpr2K','rhHXr3O','zMjtENe','DgrprW','EJj2rKe','qK52vhK','vfvwv1G','EtjyvKm','rhHXvq','ENC1mhG','AwHYvMK','BfK5teu','zMHbmwy','qZjMtNO','qKLHwg8','qZjyuhK','CNzTr2S','C2XPy2u','ENqWtKq','EdnUtei','BgniswS','q0LIsKi','CgDlk3u','ztvwAwe','A2D6uei','AwnhA2K','re93Egi','qZj1r3C','rdi0vwW','BdjYtei','Eu1ytgO','qKLIEw8','AK1emg8','EMHlr3O','qK5Uthm','qZnYuei','CxzQEMK','wwjTqxG','rgD2neq','qJi0r3i','qu05uei','qtj2nwK','ENHUv0i','rgHYv0m','DtjMmNO','qK05mhG','Cgm5mhO','ENy5suq','qK12m2K','ChvZAa','swjTqxG','rhHUtem','rhHIwG','qNDMvW','BMrmDxu','DhD2vuq','Etj2uW','ENDXvq','rxDUu3O','ExHmvKq','ENHTnW','qwDMmhG','qZj2u3O','EK1Muei','rgy5uhO','EJjMuei','qMDms28','ENnItum','Awniu0e','Etjuweq','ENDMmee','AwDUvKi','qxHXr3O','EMnItum','ELLIuei','rgDMwuq','q2DmmhO','B0LHvNO','qZnYseq','DtbmAhy','q012vuq','ENHIu3K','AwvQmuq','De12neq','DtbMzhy','qK5Uthy','DgC5shO','ChfYC3q','CK05wwK','ELK0u2K','rgDmvKi','ExCXtgm','ExDUmee','rgnIvKm','ExHUmhO','qMDQmei','qK1XvwK','ENC1sW','ENHQzhK','qLLIsNK','DuT2Cxq','q1Llvq','q005vem','q2DMwum','AwHYt3O','wwjVqJm','rwHIthK','C3vXr0i','y0XQtem','qJi1sNO','rhD2wuu','qK11r0q','qKPpnG','CgDUvNO','CMvPr0e','AwvmzwK','CNHishK','qwnItui','CMDMmhK','qwm0r3i','qNDMwKq','qxD2sW','qMD2mhO','qvLItem','qxDXr0i','sKTmtu4','swe4qxe','BuPdwM8','ENq0AZG','rdi0r3e','rgD2wum','rgDmvxO','Dtj2vxO','CxzYzMK','rgD1kW','EJnTr2S','ExDUuNu','qKS1sei','DhnIwKm','ENq0swK','EK1ymg8','Cta5BNq','ENHYtgW','ne9ZntC','rgrprW','rgD2wxG','Eti5vgS','Dg9tDhi','EK1Mmui','DwzQyNi','zMDOAwO','ENHPr2K','ExHTr0q','DMnIChu','EJjmtuu','qxD6uhO','qJi0wwS','qJi1tue','ENnItue','ogORqve','CK1mu0q','q0W5sKi','AIT0r3m','qMDmnNO','ENHimhG','qJiWugm','qZjmnNO','DMnItue','AwC1vKq','qxHQthO','y2HHCKm','DgHTu2K','rhHHr2O','DeS5DwK','ENHQwui','rxnIm0e','qMD2mee','ENC1mee','DuT1r3K','zuXvreC','qKPLt0e','EMnIuei','ztfjDeW','ExDyuW','Bwfpr2K','Cu52meq','DgzXr20','ogORDeW','qK12u2K','AwnHr2K','ogORC08','AwH2wNO','rwD2wMW','AgPm','rgDiuem','Awnln2m','qK05mhi','mtC2mZGXmxfPr3DRwG','qwrprW','BxfpsgK','q005ww8','EtnYuei','q012shO','rhHQwxO','rgnIu3O','AwDYtei','rgDLr3O','q2HQta','qMD6uei','qxDXr3K','qNz2DNm','CMzQChu','qZj2ma','q052vq','ogORDuW','CNHQwui','qwC5wKq','ENHUwNK','Eti5vxO','qZnYshK','AwnIzhu','BgnHuG','qJi0vwK','CgDQu0i','EJnQvKq','rgC5vum','Be1UvKi','CMv2z3e','ExC1nwK','CNziDwK','DeX2Bxq','qZnIvKi','AwHYteu','ENHlu2K','ExDywxO','zw5iqKC','rgDmmei','DtbmAhm','CNnIz3u','ExHXr3m','qJnPr3K','CNzPr3q','qLLImNK','ywjJzgu','qJi0t0m','Awn2vMm','mZq1nJC','EK05wwK','CuTyzMK','Eu12uei','qZj1r0q','qwD1r3O','AwDMvxO','oxf2D0m','qZnYsem','qNDmu3K','ENHPwgW','Bdj2nhK','qMD2rKe','qxHUmgW','qKLIvui','CMrprW','EK1ymei','y2e4EuO','nfbzzMK','qZnUthO','ugv3tgy','Cu05mgK','qK1Mu28','zNjVBum','DwHQvKq','zuXJqxy','q2C5uei','q012s0q','ENzQtem','qZj2v3K','CtjMu0i','qK1dr3O','qZnIvKe','CNnImeu','Awu1Chy','ENDXvwK','qNnItue','DuTmBNe','Du12wKm','C3u1Dhi','AgfYq28','zgKYEuW','ENHTr3O','qZnUuei','mZmWmhvJwuLHvq','AKLTv20','CgDLr0e','ENHTvq','qZn2u0q','ENy5shO','qJi0wgS','BeLIDKm','ExDUuMK','Cgm5mxa','EMnIteu','qMDMnui','DMvMy3q','rgD2wxq','sMKWD2y','C3vXrW','AwrPAW','ENDYueq','EMD2u3O','DZi1sei','CgDPk3u','Bdjyuem','BhDms3a','rgDLvq','qNDmvq','Ctb1r3m','rgDitgK','qxHImee','q0K0r3u','rdi0r3K','Awvmz2K','qxDXr3y','qZn2sum','qKLIsKi','ENHUmhK','AwzIC3m','qNDMvxO','Ede5uem','rdjmmee','rgC5vxG','BvPLwg0','CNfctvG','nfaYDgK','AwHUv3O','Etj2uei','ExCXta','qwDMmNO','rgD2wKq','qK5Xr0i','ELPpvMW','De1MvhO','qxC5vwK','rgD2ww8','rgrpr3i','AwnHug8','EtjythK','qK05mW','Awz6yNq','ENDMwNO','ExHIua','ENCXvKe','mtq3Egnht3rK','qMD2sem','ExDYsW','Dtjimuq','CxnImhK','ENDythK','EMD2na','EtjMu0i','EMvUvKi','wM0YCJm','qND2sei','mZnrBMvJDLm','qLLIs3O','EJe5uum','ENzYteu','ENHYthO','q1LItui','DwDythK','BeK0vwS','DMnIB3y','odKRlZ0','EK1mu0q','A2XTBM8','qJn2v2W','q1LdnW','B0PQrgm','qKLIvxK','qJn2v2K','q012seq','AwvmB3y','zNrH','BNrPww8','ExDesee','AwCXvKm','Eti5vei','EK5QvKi','rgnItui','qMD6suq','AwzYzNC','zwzlEMe','AwDUt0i','DwDMtNO','CgHYtMW','q0LIvxK','Be1MvxO','ENHTnNa','qJj6tum','q0LImei','DNHUtem','ENHitem','CgDPkW','rxC5muq','qZiXseq','DwDMwum','mti3oteZmgfnrg5QwG','A2fpr2K','rhHQthO','AwDmvxO','q2Dyta','qJiXv0i','q0W5sKu','qZn2tNO','AwzQtem','qJnPr3O','EMD1r3K','qxDXr3O','EMD2wNK','AwnivhO','BNrhmM0','rhC1s2W','ogOREeS','EMDMmhK','Aw9Ryu8','nJC2DNH3ELnt','DhH2u0q','rgHQnwK','qJnPnMK','AwC1mui','CxDYvee','B0DpA2K','rgDMs3O','Awvmzw8','zw4Xq0C','q01mvxO','AwzhnNC','q0TUsei','ENDXugW','rhHUmgK','EMrprW','C3zUDxu','ENy5uNO','Cgm5wNa','q05QvKm','CuT2Ahm','AwDUmum','ExDYs3G','DuS5BMK','EMD2tum','qxHUyKm','AwHYwuu','rhHYmei','ENC1mem','q2HXnMK','BgnIs3O','AwrLAW','Eu52meq','ExHQmgK','AwDyuem','q2C5vum','ogORDeK','EMnInui','qxq0AW','nJa3nMTmyLvPuW','ENHithK','rgHQmui','AwHItei','qJnPr0q','BdjUsei','ExH2u0q','AwD2wum','EMD2nhO','ExCXtha','qJi1wMK','DwHQmui','zurzqLC','ENHhugK','qKLIs3O','ENC1ma','Eu05u3O','qZi5wuq','ENnIwxO','q3H2vKq','qu1mrKe','rgC5vq','z1HZEta','ExDUuNG','qK16uhO','rgnxr3O','qK1MvhO','qxDerKe','vxHfwhK','rgHIwM8','qtj2num','AwD6uei','Etn2wum','q1LIEhm','DhnItue','AwzYt3O','zxjqq1C','nfa2DMK','qK1Useq','qZi5vhO','qxDymhO','qMHYtem','q1LImhK','CgH1kW','ExCXtem','EtjythG','ExCXv0i','v1ftr3u','EuO0AW','ExHUtgK','AwzeAxi','qMD2vxO','qJnevwK','qJn2vxO','CgDlkW','AwDQmuq','q0LIyNO','rgnIy0q','Etjisei','ENnIz3u','ExC1wKq','q1LHt2m','qNDLr0m','qK1Xr0e','C2jLqxC','rgD2wwK','rgC5Bui','C3C1mNK','qMD1vwW','qMHQtem','mJCZodG4EK1tqMf4','qKLIsNK','BNrXww4','shr1zte','qNC5uue','ztvwrge','ENnItui','AwDUt3K','ALLIvui','DuS5Bxq','EJj1r0e','q00Xseq','qK5Utem','AxnIC3O','AwHUteq','C3u1Dxi','qZnXr0i','ENHhr3m','Aw5KzxG','DhDmtKm','wMfxDta','B2rLqxq','AwDUsei','DgnIzxi','EdjUnxK','rhHQuW','q2D2vxO','q2HQvKi','qxC1s3O','q1Llr0q','ogORDu0','EJj2mhe','ENHQrNK','wvOWmti','De04r0m','qNDMuei','qtnMmui','Cgm5sha','AwCXmui','ExHYrKe','qZj1rW','ENHYuei','qKLItui','rgHmv3O','ruzhseK','ENHPr0m','BeLICui','t1bruLm','Etjisem','Dtb2Bxi','Eti5s3O','q2HQvNK','AwqWr3a','Etjiseq','DNvyBwm','qMD2sKq','AwCXthK','qND1A2K','EMD1kW','qND2vuq','CgDPk3i','AwHmvKq','BeK0vq','qNC5s3O','B0PxvNK','AuPysxa','qZj2wxG','qMD2s2K','zxjmqMe','BMr2v3q','rgDYtei','DMu4r3O','q2DytgW','qJi1wG','rgnImee','q1LIshO','qtj2nwW','BeLIz0e','ENnHwwm','qMDMsNO','q3H2uem','DMu4r0q','AK5Mmui','ENHPr0i','C3C1ueq','qZnTr0q','q2HYuei','qxDUt2K','qxD2wG','D3nIBhi','qxC1tMK','Cxu1zwK','DMv1r3y','ExH6tgK','qMDMwKq','AwvUC3i','CgDlk3e','y0LLr3u','qMDmvxO','zMPmq1C','ENHPrW','DdaWr3O','Etn2wKq','qZj2wxa','qJnQtgK','ExHlr3K','wwe4Eti','ENHPr3O','DMv2Exy','qND2wKm','EKfcq0q','qxC1sKi','ExDUmgK','qJiXvhK','AwCXseq','EMnxr3K','EMDMmhO','qwnImee','EMD2txK','ENHQrKm','AwHQtem','BuPdnw0','Du12wKq','q0LIs3O','zxPiqxe','qMDmvue','Cgm5sKi','ENDXr0q','EJj2ma','q2HQueq','BeLxr20','ENHPkW','Bdj6uei','ENHPwq','qMDmwKq','ENy5wxO','qK5UthG','qwH2mhO','ENHQnq','EdiXvNO','qZj2wMK','qK1Xvq','rgnImem','rgC5vwK','qNC5s0e','qwDMwG','qu5UvKi','B0PxvKe','ENHYt0m','BgvUz3q','qK05vKm','q012v0i','ENHTr2S','qJi0r3O','AwDmvuq','EMD2ngK','Etj2u0i','BuWWA3a','Cxz2Bxy','Aw5N','AwD6vKm','rhC1s3O','nvzPyq','ENDyteq','AK1ymg8','rwHXvq','qZnTnM8','ExDxnMK','AwD6vKq','CgHIwxO','q05TnMm','rxuXsem','nfaYBwK','AwDyseu','qK1YrNO','CxvQBxi','re1Mu0e','AwnisKi','Du12shO','EMDmwKi','n0LWAwu','rgD2s2K','CxvyDNi','qK5UtgW','CgHTkW','q2DytgK','y2HHCKe','Cgm5sui','ne8RwdC','qNDmwKm','AwDMmuq','q05Tr3O','Etj2wKm','EMv6EeG','qJi1wNO','mtrNq1nStum','DtjMmKe','qJnQueu','zwOXrge','y0LHr2K','qwD2nwK','DMv2Ahi','zxzzq0C','qxDXr0m','qZj1r0m','BxrQwhq','q012mNO','qNDMmhK','zhe1qwC','C3vXr3a','DMnIsKe','swfvBeC','qZj2rKe','qNrpnG','rhDetW','zKPeyq','ELLIsxO','q0S1sei','rgrpr2W','zNzvENe','Awnhl2W','rgHQuei','ExHYthO','q2DMmee','C2HPzNq','Eu1MsKe','rsS0sLK','q005vgK','Etj1r0m','qK1mmee','q2rpnG','qMHXr3O','AwnHr3e','nZaXodq0sLzUq0rs','qK5UmhK','CMv2Bxi','rhC1sW','BuPLng8','EMDXr3K','EK05wxi','rwHIuem','ELLItue','qKLIv0m','qxC1mNK','rgC5vw0','q0LIu3K','EdiXsem','qND1A3C','qK5YrKe','mZC1mdmZzeHPAKH4','DMnIvxK','EK1mtKm','ExHYsKe','qZj1nM8','BgnItgW','qJjUtem','D1K0vwW','AwDmvue','EMDXr0m','q0LItue','qxC0r3O','EdnIwui','B0K4vNO','y0T6vKm','q005mKe','AwDmvwK','AwnItue','Cgm5sxa','AwD2nee','ENy5uei','Cgm5uha','ENy5tue','Etj2u2W','AwzYC3e','qK1XnMm','EMDYthO','BuK0wwW','ENnIsuq','ENDytxK','qxDMu0e','q012wKm','q1PpnG','AwHUtei','rgnIz0e','rgD1vq','EK04t0q','qxDewMW','C2zYBNq','qK1dr3K','rgD1nG','qZj1r20','qJi0r0m','Eu1yvNK','zMPmq2e','q2H2wKe','qwHYmem','qZj2rKm','CNDMsKe','oeznDe9JAG','EdnQtem','ExDyuhO','CfLIy0q','Dg0XBwG','DdnImee','q005m2K','qNHIu3O','qNy5tei','CNzlu2m','END5owK','qMDmsem','ENHishK','BgD6uei','De04r3K','rgDhr2W','CJb2C2K','qJnXr3O','DNC1uKi','qxC0r3u','qJn2mgK','EMD2s2K','zgPNCNC','EMD1r3O','q005mW','CK05wui','y0Dqz0e','AK1Mvem','qK1Yteu','qxHYthG','qJnPrW','ENDXr3O','DhDMngK','qxHIu3O','DdfXr3i','yMv6D1C','ENDXrW','Cgm5v0m','ENnIshK','zxPqqMe','BgnHl2S','q2HQvKq','ENHYtgK','qJiXv0q','zxjmEKC','qNDMna','q0LIAem','AwnHr3K','C2jJExC','DNHUshO','EMD2wG','AwC5vxO','CNvMDxi','qNH2u0q','De04r3O','ENnIseq'];a0d=function(){return ej;};return a0d();}import{db}from'../bookieutils/db.js';import{getDefault,getConnection}from'../bookieutils/connection.js';import{applyFont,registerModule}from'../bookieutils/helpeutils/fonthelp.js';import a0f from'crypto';export const name=a0bI(0x3dd)+'r';export const version=a0bI(0x178);registerModule(name);const CALLBACK_PREFIX=a0bI(0x2a8),ADMIN_CALLBACK_PREFIX=a0bI(0x47e)+a0bI(0x343),PENDING_ACTION_TTL_MS=0x14*0x3c*0x3e8,FILTER_SAVE_DEBOUNCE_MS=0x1388,USER_INDEX_SAVE_DEBOUNCE_MS=0x7d0,LEVENSHTEIN_DISTANCE_THRESHOLD=0x5,FILTERS_PER_PAGE=0x5,BUTTONS_PER_PAGE=0x5,MAX_MESSAGE_LENGTH=0xfa0,filters=new Map(),userResponseIndex=new Map(),pendingActions=new Map(),pendingAdminActions=new Map();let filterSaveTimer=null,userIndexSaveTimer=null,prunePendingInterval=null,botApi=null;function escapeHtml(b){const c=a0bI;return b[c(0x26f)+'ce'](/&/g,c(0x3cf))[c(0x26f)+'ce'](/</g,c(0x4d7))[c(0x26f)+'ce'](/>/g,c(0x234))[c(0x26f)+'ce'](/"/g,c(0x239)+';')[c(0x26f)+'ce'](/'/g,c(0x3e4)+';');}function generateUniqueToken(){const b=a0bI;let c;do{c=a0f[b(0x3fb)+b(0x2a4)]();}while(pendingActions[b(0x1e6)](c));return c;}function isAdmin(c){const d=a0bI;try{const {ADMINS:ADMINS=[]}=getConfig();return!!c[d(0x374)]?.['id']&&Array[d(0x49d)+'ay'](ADMINS)&&ADMINS[d(0x29a)+d(0x240)](c[d(0x374)]['id']);}catch(e){return error(d(0x1d9)+d(0x2ce)+d(0x423)+d(0x2de)+e[d(0x39e)+'ge']),![];}}function getChatFilters(b){const c=a0bI;return!filters[c(0x1e6)](b)&&filters[c(0x255)](b,new Map()),filters[c(0x3e0)](b);}function prunePendingTokens(){const f=a0bI,g=Date[f(0x4be)]();for(const [h,i]of pendingActions){i['ts']&&g-i['ts']>PENDING_ACTION_TTL_MS&&pendingActions[f(0x3c1)+'e'](h);}for(const [j,k]of pendingAdminActions){k['ts']&&g-k['ts']>PENDING_ACTION_TTL_MS&&pendingAdminActions[f(0x3c1)+'e'](j);}info(f(0x269)+f(0x410)+f(0x4c7)+f(0x1ee)+f(0x197)+f(0x39b)+'.');}async function initDatabase(){const e=a0bI;try{await db[e(0x2c7)](e(0x249)+e(0x4ea)+e(0x32f)+e(0x3c4)+e(0x3f4)+e(0x41b)+e(0x35a)+e(0x21a)+e(0x2ed)+e(0x273)+e(0x3ec)+e(0x442)+e(0x4ea)+e(0x4ea)+e(0x39f)+e(0x44d)+e(0x1c4)+e(0x250)+e(0x2cd)+e(0x418)+e(0x29e)+e(0x4ea)+e(0x4ea)+e(0x1fb)+e(0x412)+e(0x2bb)+e(0x395)+e(0x411)+e(0x491)+e(0x4ea)+e(0x4ea)+e(0x347)+e(0x4ea)+'\x20\x20');const f=await db[e(0x3e0)](e(0x470)+e(0x4aa)+e(0x47a)+e(0x295)+e(0x436)+e(0x251)+e(0x433)+e(0x376)+e(0x3ab)+e(0x4b7)+e(0x47c)+e(0x3a8)+e(0x3f9)+e(0x281)+e(0x451)+e(0x463)+e(0x1a0));if(f){const g=await db[e(0x39d)](e(0x305)+e(0x396)+e(0x40d)+e(0x286)+e(0x163)+e(0x282)+e(0x469)+e(0x33d)+';'),h=g[e(0x3c7)](i=>i[e(0x19e)]===e(0x2ed)+e(0x2f9)+e(0x39c)+'y');!h&&(info(e(0x480)+e(0x34a)+e(0x3f9)+e(0x281)+e(0x451)+e(0x463)+e(0x31d)+e(0x2a5)),await db[e(0x2c7)](e(0x2f4)+e(0x3f4)+e(0x37b)+e(0x20a)+e(0x2b2)+e(0x294)+e(0x3f5)),await db[e(0x2c7)](e(0x249)+e(0x4ea)+e(0x4ea)+e(0x4ea)+e(0x400)+e(0x1b7)+e(0x2b1)+e(0x285)+e(0x3e2)+e(0x4eb)+e(0x38a)+e(0x17e)+e(0x4ea)+e(0x4ea)+e(0x4ea)+e(0x4ea)+e(0x18c)+e(0x161)+e(0x385)+e(0x1ed)+e(0x3ce)+e(0x2cd)+e(0x418)+e(0x29e)+e(0x4ea)+e(0x4ea)+e(0x4ea)+e(0x4ea)+e(0x290)+e(0x391)+e(0x417)+e(0x230)+e(0x4d6)+e(0x455)+e(0x3d6)+e(0x331)+e(0x41d)+e(0x4ea)+e(0x4ea)+e(0x4ea)+e(0x3e7)+e(0x4ea)+e(0x4ea)+e(0x4ea)+'\x20'));}else await db[e(0x2c7)](e(0x249)+e(0x4ea)+e(0x4ea)+e(0x372)+e(0x3b9)+e(0x3d2)+e(0x3f9)+e(0x281)+e(0x451)+e(0x463)+e(0x2c4)+e(0x4ea)+e(0x4ea)+e(0x4ea)+e(0x241)+e(0x47f)+e(0x36a)+e(0x4b5)+e(0x4b3)+e(0x227)+e(0x28a)+e(0x28f)+e(0x4ea)+e(0x4ea)+e(0x4ea)+e(0x2ad)+e(0x224)+e(0x267)+e(0x427)+e(0x3b0)+e(0x434)+e(0x3bd)+e(0x238)+e(0x1ef)+e(0x4ea)+e(0x4ea)+e(0x4ea)+e(0x347)+e(0x4ea)+e(0x4ea)+'\x20');info(e(0x474)+e(0x1ea)+e(0x352)+e(0x401)+'.');}catch(i){error(e(0x30c)+e(0x450)+e(0x482)+i[e(0x39e)+'ge']);throw i;}}function rehydrateChatFilters(e){const f=a0bI,g=new Map();for(const h in e){const i=e[h];if(i){i[f(0x281)+f(0x424)]?i[f(0x281)+f(0x424)]=i[f(0x281)+f(0x424)][f(0x24a)](j=>{const k=f;if(typeof j===k(0x1f1)+'g')return{'text':j,'entities':[]};if(!Array[k(0x49d)+'ay'](j[k(0x2e8)+k(0x1c6)]))j[k(0x2e8)+k(0x1c6)]=[];return j;}):i[f(0x281)+f(0x424)]=[];if(!i[f(0x458)+'ns'])i[f(0x458)+'ns']=[];if(!i[f(0x293)+'t'])i[f(0x293)+'t']=[];}else i={'responses':[],'buttons':[],'layout':[]};g[f(0x255)](h,i);}return g;}async function loadFiltersFromDB(){const e=a0bI;try{const g=await db[e(0x39d)](e(0x470)+e(0x1a5)+e(0x36f)+e(0x367)+e(0x1d4)+e(0x3d3)+e(0x4bb)+e(0x45c)+e(0x1ec)+'gs');filters[e(0x3fa)]();for(const h of g){try{const i=JSON[e(0x1fe)](h[e(0x1ec)+e(0x408)+'n']);filters[e(0x255)](h[e(0x4c3)+'id'],rehydrateChatFilters(i));}catch(j){error(e(0x215)+e(0x369)+e(0x4fd)+e(0x1ce)+'\x20'+h[e(0x4c3)+'id']+':\x20'+j[e(0x39e)+'ge']),await db[e(0x43d)](e(0x4a9)+e(0x387)+e(0x3ca)+e(0x161)+e(0x31c)+e(0x1d3)+e(0x1f8)+e(0x44d)+e(0x289),h[e(0x4c3)+'id']);}}info(e(0x37f)+'d\x20'+filters[e(0x280)]+(e(0x1ce)+e(0x367)+e(0x4d9)));}catch(k){error(e(0x1e9)+e(0x2ed)+e(0x18a)+e(0x482)+k[e(0x39e)+'ge']);}}function dehydrateChatFilters(e){const f=a0bI,g={};for(const [h,i]of e[f(0x346)+'es']()){g[h]={...i};}return g;}function markFiltersChanged(){clearTimeout(filterSaveTimer),filterSaveTimer=setTimeout(saveAllFiltersToDB,FILTER_SAVE_DEBOUNCE_MS);}async function saveAllFiltersToDB(){const e=a0bI;info(e(0x380)+e(0x338)+e(0x37d)+'..');let g=0x0;await db[e(0x43d)](e(0x3a9)+e(0x4e6)+e(0x483)+'ON');try{for(const [h,i]of filters[e(0x346)+'es']()){const j=JSON[e(0x1f1)+e(0x33c)](dehydrateChatFilters(i));await db[e(0x43d)](e(0x245)+e(0x2d3)+e(0x312)+e(0x298)+e(0x402)+e(0x45c)+e(0x1ec)+e(0x1e8)+e(0x4d8)+e(0x337)+e(0x412)+e(0x1a7)+e(0x4ab)+e(0x260)+e(0x1dc),h,j),g++;}await db[e(0x43d)](e(0x430)+'T'),info(e(0x4cc)+'\x20'+g+(e(0x1ce)+'s.'));}catch(k){await db[e(0x43d)](e(0x34e)+e(0x435)),error(e(0x212)+e(0x40b)+':\x20'+k[e(0x39e)+'ge']);}}async function loadUserResponseIndexesFromDB(){const d=a0bI;try{const e=await db[d(0x39d)](d(0x470)+d(0x258)+d(0x161)+d(0x385)+d(0x246)+d(0x4de)+d(0x1e1)+d(0x344)+d(0x36b)+d(0x285)+d(0x3e2)+d(0x4eb)+d(0x38a));userResponseIndex[d(0x3fa)]();for(const f of e){userResponseIndex[d(0x255)](f[d(0x2ed)+d(0x2f9)+d(0x39c)+'y'],f[d(0x4de)+d(0x1e1)+d(0x248)]);}info(d(0x37f)+'d\x20'+userResponseIndex[d(0x280)]+(d(0x34c)+d(0x180)));}catch(g){error(d(0x1e9)+d(0x294)+d(0x300)+d(0x482)+g[d(0x39e)+'ge']);}}function markUserIndexChanged(){clearTimeout(userIndexSaveTimer),userIndexSaveTimer=setTimeout(saveUserResponseIndexesToDB,USER_INDEX_SAVE_DEBOUNCE_MS);}async function saveUserResponseIndexesToDB(){const e=a0bI;info(e(0x380)+e(0x3b2)+e(0x326)+'..');let f=0x0;await db[e(0x43d)](e(0x3a9)+e(0x4e6)+e(0x483)+'ON');try{for(const [g,h]of userResponseIndex[e(0x346)+'es']()){await db[e(0x43d)](e(0x245)+e(0x2d3)+e(0x312)+e(0x298)+e(0x3de)+e(0x163)+e(0x282)+e(0x469)+e(0x3d5)+e(0x252)+e(0x222)+e(0x492)+e(0x2f0)+e(0x224)+e(0x267)+e(0x2b9)+e(0x25f)+e(0x473)+'?)',g,h),f++;}await db[e(0x43d)](e(0x430)+'T'),info(e(0x4cc)+'\x20'+f+(e(0x34c)+e(0x180)));}catch(i){await db[e(0x43d)](e(0x34e)+e(0x435)),error(e(0x212)+e(0x40b)+':\x20'+i[e(0x39e)+'ge']);}}function formatTextWithEntities(g,h){const i=a0bI;if(!h||h[i(0x4cd)+'h']===0x0)return escapeHtml(g);const j=[];h[i(0x214)+'ch'](n=>{const o=i,p=n[o(0x364)+'t'],q=n[o(0x364)+'t']+n[o(0x4cd)+'h'];j[o(0x27b)]({'offset':p,'type':n[o(0x4b9)],'action':o(0x309),'entity':n}),j[o(0x27b)]({'offset':q,'type':n[o(0x4b9)],'action':o(0x26d),'entity':n});}),j[i(0x4b8)]((n,o)=>{const p=i;if(n[p(0x364)+'t']!==o[p(0x364)+'t'])return n[p(0x364)+'t']-o[p(0x364)+'t'];return n[p(0x340)+'n']===p(0x26d)?-0x1:0x1;});let k='',l=0x0;const m=[];return j[i(0x214)+'ch'](n=>{const o=i;n[o(0x364)+'t']>l&&(k+=escapeHtml(g[o(0x36e)](l,n[o(0x364)+'t'])),l=n[o(0x364)+'t']);if(n[o(0x340)+'n']===o(0x309)){let p='';switch(n[o(0x4b9)]){case o(0x4a6):p=o(0x27d);break;case o(0x253)+'c':p=o(0x2ea);break;case o(0x413)+o(0x361):p=o(0x316);break;case o(0x416)+o(0x213)+o(0x3e1):p=o(0x181);break;case o(0x407):p=o(0x319)+'>';break;case o(0x1e3):p=o(0x2e5);break;case o(0x3b5)+o(0x2f2):p=o(0x477)+o(0x1a8)+'e>';break;case o(0x3c5)+o(0x3dc):p=o(0x4af)+o(0x2d2)+escapeHtml(n[o(0x2e8)+'y'][o(0x1d6)])+'\x22>';break;case o(0x3c5)+o(0x425)+'on':p=o(0x4af)+o(0x422)+o(0x42a)+o(0x279)+'d='+n[o(0x2e8)+'y'][o(0x20d)]['id']+'\x22>';break;case o(0x1d5)+'er':p=o(0x1ca)+o(0x20f)+'r>';break;case o(0x44b)+o(0x378)+'ji':p=o(0x332)+o(0x1e4)+o(0x465)+o(0x1bc)+n[o(0x2e8)+'y'][o(0x44b)+o(0x378)+o(0x488)]+'\x22>';break;default:p='';}k+=p,m[o(0x27b)](n[o(0x4b9)]);}else{if(n[o(0x340)+'n']===o(0x26d)){const q=m[o(0x1c9)+o(0x497)+'f'](n[o(0x4b9)]);if(q!==-0x1){const r=m[o(0x31f)+'e'](q);r[o(0x19d)+'se']()[o(0x214)+'ch'](s=>{k+=getClosingTag(s);});}}}}),l<g[i(0x4cd)+'h']&&(k+=escapeHtml(g[i(0x36e)](l))),m[i(0x19d)+'se']()[i(0x214)+'ch'](n=>{k+=getClosingTag(n);}),k;}function a0a(){const eg=a0e,a=[eg(0x325)+'I8',eg(0x471)+'gy',eg(0x27c)+'q',eg(0x161)+'sa',eg(0x3d3)+'w4',eg(0x192)+'2u',eg(0x341)+'hm',eg(0x277)+'ge',eg(0x3d4)+'My',eg(0x489)+'c8',eg(0x1db)+'M8',eg(0x232)+'2W',eg(0x1c4)+'hu',eg(0x362),eg(0x4a2)+'gu',eg(0x39c)+'2u',eg(0x3cd)+'cW',eg(0x248)+'gu',eg(0x2c4)+'G',eg(0x469)+'Ku',eg(0x32c)+'G',eg(0x187)+'q',eg(0x166),eg(0x4a4)+'xa',eg(0x3b3)+'ca',eg(0x34c)+'w8',eg(0x468)+'2S',eg(0x2c6)+eg(0x38f),eg(0x44c)+'xi',eg(0x32a)+'G',eg(0x40f)+'Y4',eg(0x36e)+'gi',eg(0x3e3)+'gu',eg(0x2de)+'w4',eg(0x285)+'MK',eg(0x283)+'wW',eg(0x1a2)+'3a',eg(0x4c2)+'wu',eg(0x3c7)+'v8',eg(0x4db)+'a',eg(0x47b)+'K8',eg(0x271)+'g8',eg(0x45d)+'hq',eg(0x1dc)+'xm',eg(0x387)+'we',eg(0x25a)+'J4',eg(0x29e)+'hq',eg(0x1ed)+'s4',eg(0x3d9)+'sa',eg(0x2fe)+'Mu',eg(0x396)+'2K',eg(0x333),eg(0x253)+'sa',eg(0x411)+'ca',eg(0x286)+'ca',eg(0x168)+'wi',eg(0x2e7)+eg(0x443)+'a',eg(0x2d3)+'g0',eg(0x495)+eg(0x33f),eg(0x24c)+'t4',eg(0x3e7)+'Nm',eg(0x48f)+'2u',eg(0x444),eg(0x287)+'2e',eg(0x373)+'2G',eg(0x17f)+'gm',eg(0x186)+'we',eg(0x4b8)+'G',eg(0x18f)+'w0',eg(0x1ac)+eg(0x2ed),eg(0x3aa)+'hi',eg(0x1a1)+'2u',eg(0x49b)+'MK',eg(0x1dd)+'sC',eg(0x1c1)+'u4',eg(0x34a)+'g0',eg(0x39f)+'ge',eg(0x35b)+'MK',eg(0x1a3)+'MK',eg(0x304)+'w4',eg(0x491)+'3q',eg(0x2e3)+'vi',eg(0x47f)+'wW',eg(0x3d7)+'Mq',eg(0x379)+'gK',eg(0x4e4)+'MK',eg(0x33e)+'2S',eg(0x308)+'Nu',eg(0x31b)+'xq',eg(0x1fd)+'Je',eg(0x412)+'fq',eg(0x336),eg(0x46a),eg(0x1f9)+eg(0x18b),eg(0x473)+'ca',eg(0x258),eg(0x321)+'Ia',eg(0x41f)+'qO',eg(0x4c1)+'xq',eg(0x1bb)+'gG',eg(0x2dc)+'sG',eg(0x378)+'sa',eg(0x3b3)+'f8',eg(0x298)+'2q',eg(0x1fb)+'q',eg(0x29f),eg(0x481)+'YK',eg(0x1f6)+'wW',eg(0x4c3)+'Mu',eg(0x3c6),eg(0x4d3)+'ca',eg(0x472)+'fa',eg(0x35f)+'dS',eg(0x392)+'Mu',eg(0x2a0)+'gy',eg(0x2c9)+'sa',eg(0x3b4)+'Li',eg(0x4d5)+'ca',eg(0x195)+'Ya',eg(0x231)+'uy',eg(0x1d7)+'Mq',eg(0x169)+'3q',eg(0x21c)+eg(0x4bd)+eg(0x2db)+'M',eg(0x331)+'xO',eg(0x3f9)+'gW',eg(0x297)+'W',eg(0x42d)+'gu',eg(0x26b)+'xm',eg(0x274)+'gi',eg(0x29a),eg(0x2f0),eg(0x3b7)+'24',eg(0x4e2)+'hq',eg(0x4b0)+'ZK',eg(0x3ac)+'LK',eg(0x268)+'GO',eg(0x4e5)+'WO',eg(0x358)+'hC',eg(0x2c5)+'MS',eg(0x3c5),eg(0x1cc),eg(0x315)+'Ya',eg(0x1a7)+'xm',eg(0x484)+'gW',eg(0x493)+'3a',eg(0x334)+'gu',eg(0x1b3)+'JW',eg(0x487)+'gu',eg(0x3e0)+'ca',eg(0x4bb)+'eu',eg(0x3c9),eg(0x357)+'ge',eg(0x2a4),eg(0x27e),eg(0x3c0)+'L8',eg(0x15e)+'xi',eg(0x38b)+'g8',eg(0x36e)+'fi',eg(0x34b)+'s4',eg(0x193)+'Ya',eg(0x4c4)+'3q',eg(0x279)+'ue',eg(0x430)+'wq',eg(0x261)+'MK',eg(0x495)+eg(0x18b),eg(0x2f2)+'wy',eg(0x2c2)+'w4',eg(0x269)+'wq',eg(0x24c)+'q',eg(0x171)+'28',eg(0x3c8)+'xq',eg(0x45e)+'2G',eg(0x43b)+'3i',eg(0x4c7),eg(0x48f)+'w4',eg(0x1e3),eg(0x448)+eg(0x3bf)+'m',eg(0x4b9)+'ha',eg(0x43a)+'e4',eg(0x1ec)+'18',eg(0x2bb)+'xi',eg(0x4ce)+'vi',eg(0x28b)+'sa',eg(0x382)+'wS',eg(0x360)+'ca',eg(0x273)+'vK',eg(0x3ce)+'I4',eg(0x2fb)+'1e',eg(0x4cd)+'e4',eg(0x1fd)+'Nm',eg(0x445)+'ca',eg(0x46e)+'W',eg(0x415)+'xu',eg(0x325)+'GO',eg(0x216)+'3C',eg(0x34e)+'Nq',eg(0x408)+'Ni',eg(0x226)+'W',eg(0x255)+'gK',eg(0x4b5)+'gG',eg(0x22b)+'u4',eg(0x3b3)+'a',eg(0x2c6)+eg(0x2f5),eg(0x4e0)+'3u',eg(0x397)+'gq',eg(0x2a9)+'ei',eg(0x322)+'wq',eg(0x222)+'3q',eg(0x2f7)+'q',eg(0x41a)+'uK',eg(0x499)+'Ia',eg(0x33b),eg(0x206)+'vi',eg(0x4a5)+'ca',eg(0x386),eg(0x361)+'20',eg(0x23c)+'2K',eg(0x30e)+'IG',eg(0x383)+'Nm',eg(0x267)+'wW',eg(0x1fd)+'Ia',eg(0x2eb)+'gi',eg(0x462),eg(0x365)+'sa',eg(0x25d)+'hq',eg(0x1d9)+'Mm',eg(0x2ba)+'Ia',eg(0x19b)+'ca',eg(0x4d0)+'3u',eg(0x438)+'g8',eg(0x3c4)+'sa',eg(0x3f2),eg(0x26d)+'2y',eg(0x26a)+'Mu',eg(0x372)+'M8',eg(0x24f)+'eK',eg(0x280)+'g8',eg(0x2cb)+'20',eg(0x241)+'wq',eg(0x3e6)+'de',eg(0x3fb)+'q',eg(0x3d5)+'xi',eg(0x2a2)+'2K',eg(0x384)+'Ia',eg(0x239)+'2G',eg(0x307)+eg(0x4ac)+eg(0x3a7)+'A',eg(0x177)+'uW',eg(0x446)+'g8',eg(0x33c)+'GO',eg(0x1cd)+'g8',eg(0x38e)+'M8',eg(0x3b8)+'ZO',eg(0x330)+'Nu',eg(0x1fd)+'L8',eg(0x3f7)+'3q',eg(0x3cf)+'Ia',eg(0x228)+'c4',eg(0x3f8)+'wK',eg(0x2c6)+eg(0x1f8),eg(0x498)+'gK',eg(0x360)+'gu',eg(0x2b3)+'ge',eg(0x163)+'MK',eg(0x4cf)+'3q',eg(0x3dc)+'eu',eg(0x2d9)+'gu',eg(0x327)+'Mq',eg(0x482)+'Iu',eg(0x3aa)+'gy',eg(0x34f)+'08',eg(0x1eb)+'3e',eg(0x1d0)+'2u',eg(0x30a)+'Mu',eg(0x24b)+'um',eg(0x406),eg(0x1af)+'ge',eg(0x2f6)+'ca',eg(0x403)+'wi',eg(0x4bf),eg(0x464)+'3i',eg(0x46c)+'2m',eg(0x492),eg(0x31a)+'L0',eg(0x20f)+'K8',eg(0x4a9)+'g8',eg(0x275)+'g4',eg(0x165)+'3q',eg(0x389)+'wq',eg(0x1fc)+'xi',eg(0x22d)+'Me',eg(0x1b4)+'hi',eg(0x455)+'Ia',eg(0x3e1)+'eK',eg(0x4d7)+eg(0x348)+eg(0x4d8)+eg(0x182),eg(0x3e8)+'Ie',eg(0x4e1)+'q',eg(0x47a)+'u4',eg(0x1e8)+'wq',eg(0x1de)+'gy',eg(0x3c4)+'q',eg(0x1c0)+'JO',eg(0x215)+'gm',eg(0x3a0)+'gu',eg(0x2d5)+'g8',eg(0x19c)+'c4',eg(0x1bf)+'G',eg(0x250)+'Ia',eg(0x201)+'2S',eg(0x363)+'xi',eg(0x3fd),eg(0x1da)+'ca',eg(0x346)+'ca',eg(0x360)+'e8',eg(0x200)+'Y4',eg(0x31e)+'M8',eg(0x495)+eg(0x25e),eg(0x25b)+'G',eg(0x180)+'gu',eg(0x1c6)+'Ni',eg(0x293)+eg(0x22e)+eg(0x497)+'6',eg(0x475)+'hq',eg(0x4dd)+'sa',eg(0x1ce)+'hq',eg(0x2f8)+'cK',eg(0x353)+'2q',eg(0x254),eg(0x2fd)+'gy',eg(0x1e4)+'a',eg(0x416)+'wu',eg(0x259)+'q',eg(0x305)+'vq',eg(0x314)+'w0',eg(0x160)+'fu',eg(0x316)+'gu',eg(0x198)+'gm',eg(0x204),eg(0x4b1)+'hi',eg(0x24f)+'a',eg(0x325)+'JO',eg(0x359)+'gy',eg(0x18a)+'fq',eg(0x262)+'Mm',eg(0x1be)+'xK',eg(0x2e9)+'2G',eg(0x3ab)+'Ya',eg(0x1e5)+'a',eg(0x245)+'q',eg(0x431)+'s4',eg(0x27f)+'MK',eg(0x1ab)+'q',eg(0x435)+'ca',eg(0x15f),eg(0x224)+'xm',eg(0x409)+'ge',eg(0x37c)+'xq',eg(0x456)+'24',eg(0x24f)+'f8',eg(0x495)+eg(0x1b6),eg(0x371),eg(0x2df)+'Mu',eg(0x436)+'ca',eg(0x35e)+'wW',eg(0x219)+'3a',eg(0x46b)+'fa',eg(0x2b6)+'gu',eg(0x3b9)+'wq',eg(0x207)+'3q',eg(0x3cb)+'wm',eg(0x328)+'GO',eg(0x2c0)+'G',eg(0x495)+eg(0x2e0),eg(0x205)+'hi',eg(0x441)+'hq',eg(0x466)+'wC',eg(0x42b)+'wW',eg(0x47e)+'K8',eg(0x2be)+'W',eg(0x3ca)+'2K',eg(0x338)+'G',eg(0x1c3)+'3i',eg(0x194)+'Ia',eg(0x237)+'g8',eg(0x28e)+'wq',eg(0x1f4)+'Mu',eg(0x2b4)+'Me',eg(0x46f)+'sK',eg(0x18c)+'28',eg(0x487)+'2G',eg(0x20c)+'g0',eg(0x351)+'hq',eg(0x4de)+'a',eg(0x32b)+'u4',eg(0x2d8)+'gG',eg(0x264)+'gu',eg(0x4d9)+eg(0x3a4),eg(0x44a)+'ca',eg(0x2ee)+'w4',eg(0x188)+'3i',eg(0x215)+'hi',eg(0x17d)+'J8',eg(0x301)+'M8',eg(0x35b)+'xG',eg(0x31d)+'wW',eg(0x1a5)+'ge',eg(0x1c3)+'2i',eg(0x37e)+'gG',eg(0x25f)+eg(0x49c)+'q',eg(0x449)+'gy',eg(0x3dd)+'ca',eg(0x2c7)+'w8',eg(0x407)+'wq',eg(0x2c6)+eg(0x3a4),eg(0x402)+'3u',eg(0x377)+'sa',eg(0x38a)+'3i',eg(0x220)+'3i',eg(0x41e)+'2m',eg(0x2d7)+'Ya',eg(0x291)+'Mu',eg(0x3ba)+'2y',eg(0x4cc)+'wm',eg(0x4c4)+'2y',eg(0x4d1)+'xi',eg(0x4c9)+'gq',eg(0x240)+'hq',eg(0x424)+'G',eg(0x29d),eg(0x2b7)+'Ya',eg(0x17e)+'w0',eg(0x1a4)+'Nu',eg(0x451)+'M8',eg(0x274)+'hi',eg(0x30f)+'xK',eg(0x43d)+'w8',eg(0x3ec)+'Na',eg(0x3d2)+'w8',eg(0x20b)+'hq',eg(0x162),eg(0x397)+'ge',eg(0x32e)+'Ja',eg(0x41e)+'3a',eg(0x292)+'3a',eg(0x45e)+'Nu',eg(0x3d6)+'M8',eg(0x1f3)+'hq',eg(0x3a6)+'ca',eg(0x418)+'cG',eg(0x44d)+'G',eg(0x2d2),eg(0x355)+'M8',eg(0x4d6)+'3m',eg(0x41d),eg(0x28f)+'gu',eg(0x4df)+'wK',eg(0x282)+'hm',eg(0x242),eg(0x202)+'gu',eg(0x2d9)+'xi',eg(0x36d)+'MK',eg(0x324)+'wW',eg(0x4ae)+'MC',eg(0x2dc)+'sa',eg(0x477)+'we',eg(0x453),eg(0x2bd)+'gu',eg(0x1bc),eg(0x395),eg(0x277)+'gm',eg(0x212)+'2u',eg(0x252)+'w4',eg(0x33a)+'wm',eg(0x256)+'MK',eg(0x319)+'3m',eg(0x263),eg(0x299)+'g8',eg(0x2b2)+'gm',eg(0x2e8)+'xi',eg(0x1ee)+'q',eg(0x210)+'2u',eg(0x17c),eg(0x4d4)+'0e',eg(0x40e)+'2G',eg(0x215)+'ci',eg(0x24a)+'Ke',eg(0x2ec)+'ge',eg(0x2a5)+'gu',eg(0x2ac)+'IK',eg(0x23e)+'3q',eg(0x4a0)+'xi',eg(0x3ea)+'Ia',eg(0x391)+'wq',eg(0x2c6)+eg(0x440),eg(0x265)+'gq',eg(0x459)+'we',eg(0x2fb)+'Ya',eg(0x33d)+'Mu',eg(0x49f)+'gW',eg(0x3df)+'hq',eg(0x24d)+'2u',eg(0x375)+'2u',eg(0x1f7)+'xK',eg(0x26e)+'ca',eg(0x276)+'ee',eg(0x1fd)+'K4',eg(0x209)+'a',eg(0x28a)+'hi',eg(0x3b0)+'24',eg(0x4c5)+'si',eg(0x191)+'c8',eg(0x3e7)+'I4',eg(0x2f4)+'2y',eg(0x4c0)+'e0',eg(0x380)+'de',eg(0x257)+'sa',eg(0x1b5)+'Ia',eg(0x181)+'eu',eg(0x243)+'24',eg(0x272),eg(0x2a7),eg(0x1e2)+'wy',eg(0x278)+'eK',eg(0x18e)+'xm',eg(0x290)+'xu',eg(0x238)+eg(0x374)+'m',eg(0x380)+'hq',eg(0x221)+'xq',eg(0x189)+'xq',eg(0x326)+'xm',eg(0x294)+'wW',eg(0x48c)+'xi',eg(0x1f5)+'eu',eg(0x1ef)+'Nm',eg(0x4a3)+'wW',eg(0x233),eg(0x465)+'g4',eg(0x2e5)+'2u',eg(0x1b2)+'w4',eg(0x1e6)+'xm',eg(0x35c),eg(0x36c)+'q',eg(0x2c6)+eg(0x2e4),eg(0x1de)+'ha',eg(0x1d8)+'xa',eg(0x368),eg(0x312)+'w4',eg(0x342)+'hi',eg(0x45c),eg(0x21e)+'sa',eg(0x3af)+'w4',eg(0x2ab),eg(0x486)+'MC',eg(0x414)+'gm',eg(0x3e3)+'ca',eg(0x205)+'gK',eg(0x3cc)+'gu',eg(0x467)+'MK',eg(0x3b6)+'fq',eg(0x234)+'gK',eg(0x447)+'aO',eg(0x37b)+'ca',eg(0x382)+'w4',eg(0x325)+'Ii',eg(0x1b7)+'W',eg(0x1ee)+'s4',eg(0x1aa)+eg(0x2fc)+eg(0x367),eg(0x28c)+'gm',eg(0x385)+'sa',eg(0x43f)+'2G',eg(0x208)+'hm',eg(0x30e)+'sG',eg(0x373)+'28',eg(0x23d)+'JO',eg(0x383)+'Ia',eg(0x3f4)+'2u',eg(0x17b)+'G',eg(0x3a8)+'3q',eg(0x401)+'3q',eg(0x2a6)+'ge',eg(0x3da)+'gu',eg(0x4e3)+'GO',eg(0x227)+'xm',eg(0x3a3)+'Mu',eg(0x425)+'w4',eg(0x2a9)+'gq',eg(0x172)+'hq',eg(0x345)+'3a',eg(0x4b4)+'gq',eg(0x36f)+'a',eg(0x3c0)+'G',eg(0x1d2)+'3u',eg(0x49d)+'gu',eg(0x3bc)+'xq',eg(0x32d)+'c4',eg(0x3b9)+'sa',eg(0x2ae)+'M8',eg(0x309)+'we',eg(0x199)+'2u',eg(0x1de)+'hy',eg(0x217)+'wW',eg(0x4e2)+'gu',eg(0x4b2),eg(0x1bd)+'Ya',eg(0x39b)+'Je',eg(0x329)+'wW',eg(0x1ac)+eg(0x40b),eg(0x1cb)+'xm',eg(0x244)+'3u',eg(0x27b)+'Mu',eg(0x3e8)+'LS',eg(0x23a)+'3K',eg(0x29b)+'Me',eg(0x458)+'w4',eg(0x3de)+'wm',eg(0x3bd)+'hi',eg(0x4d2)+'u0',eg(0x1c5)+'W',eg(0x45b)+'M8',eg(0x457)+'hK',eg(0x3e9)+'xy',eg(0x3ed)+'fa',eg(0x27a)+'Nu',eg(0x3fa)+'q',eg(0x3d8)+'ca',eg(0x229)+'uC',eg(0x235)+'xa',eg(0x2cc)+'hK',eg(0x2ad)+'t4',eg(0x3ad)+'W',eg(0x1b0)+'e4',eg(0x31c)+'Mu',eg(0x270)+'24',eg(0x470)+'vu',eg(0x26c)+'3q',eg(0x2e2)+'g0',eg(0x31e)+'MK',eg(0x4ca)+'w8',eg(0x48e)+'w0',eg(0x45a)+'gu',eg(0x318)+'MC',eg(0x376),eg(0x44a)+'gy',eg(0x1a8)+eg(0x16d)+eg(0x21d)+'T',eg(0x174)+'3u',eg(0x37a)+'MK',eg(0x4aa)+'vi',eg(0x266)+'ca',eg(0x490)+'G',eg(0x16a),eg(0x2e1)+'ca',eg(0x3c2),eg(0x16e)+'JO',eg(0x3fc)+'g8',eg(0x31f)+'20',eg(0x292)+'3u',eg(0x36e)+'ei',eg(0x354)+'fa',eg(0x3eb)+'xi',eg(0x3a5)+'hq',eg(0x38c)+'gK',eg(0x36a)+'3q',eg(0x461),eg(0x205)+'ha',eg(0x167)+'gq',eg(0x434)+'wW',eg(0x3f0)+'w4',eg(0x1cf)+'3q',eg(0x30c)+'M8',eg(0x46d)+'xa',eg(0x2a9)+'g4',eg(0x37d)+'xq',eg(0x2d0)+'vm',eg(0x39d)+'d8',eg(0x35d)+'we',eg(0x18d)+'sa',eg(0x3f5)+'sa',eg(0x173)+'dO',eg(0x1b9)+'gW',eg(0x4da)+'wm',eg(0x388)+'Mq',eg(0x4bc)+'Me',eg(0x1df)+'Mu',eg(0x369)+'Mu',eg(0x4b7)+'gu',eg(0x350)+'3q',eg(0x3ee),eg(0x439)+'W',eg(0x2b1)+'ge',eg(0x251)+'gK',eg(0x1c8)+'24',eg(0x1ca)+'a',eg(0x42e)+'24',eg(0x49e)+'wm',eg(0x36e)+'ey',eg(0x323)+'gW',eg(0x2b1)+'hK',eg(0x4b3)+'ca',eg(0x281)+'2K',eg(0x2c8)+'gu',eg(0x340)+'a',eg(0x1f2)+'W',eg(0x196),eg(0x19f)+'gu',eg(0x3bb)+'Y0',eg(0x433)+'q',eg(0x332)+'g8',eg(0x474)+'Nm',eg(0x306),eg(0x3f3)+'hq',eg(0x25c)+'3i',eg(0x337)+'xm',eg(0x421)+'hq',eg(0x3c1),eg(0x24e)+'W',eg(0x3b1)+'eS',eg(0x311)+'08',eg(0x495)+eg(0x27d),eg(0x442)+'Ia',eg(0x1a9)+'Ia',eg(0x34d)+'Ia',eg(0x1c2)+'Ni',eg(0x29c)+'tO',eg(0x3ef)+'xm',eg(0x4ba)+'3u',eg(0x236)+'xG',eg(0x417)+'wW',eg(0x238)+eg(0x494)+'4',eg(0x356)+'M8',eg(0x4c8)+'u4',eg(0x3e2)+'gu',eg(0x289)+'hu',eg(0x40c)+eg(0x2ea)+eg(0x399)+'y',eg(0x19e),eg(0x317)+'G',eg(0x38d)+'ca',eg(0x44b)+eg(0x214)+'q',eg(0x463)+eg(0x284)+'8',eg(0x413),eg(0x1ee)+'xm',eg(0x41c)+eg(0x2ce)+eg(0x2bc),eg(0x45f)+'uq',eg(0x218)+'I4',eg(0x32f)+'xq',eg(0x23d)+'G',eg(0x419)+'JO',eg(0x197)+'ca',eg(0x2bd)+'gK',eg(0x40f)+'W',eg(0x3d0)+'M8',eg(0x44a)+'gm',eg(0x3a2)+'20',eg(0x495)+eg(0x36b),eg(0x2c6)+eg(0x2e0),eg(0x485)+'hu',eg(0x2dc)+'v8',eg(0x4e3)+'Ia',eg(0x398)+'ge',eg(0x2c6)+eg(0x370),eg(0x3db)+'hu',eg(0x3b5)+'G',eg(0x215)+'g4',eg(0x1e1)+'fy',eg(0x496)+'c4',eg(0x2ac)+'Ia',eg(0x364)+'dG',eg(0x2f3)+'wu',eg(0x260)+'hi',eg(0x225)+'dO',eg(0x1d6)+'Mm',eg(0x209)+'c4',eg(0x260)+'gy',eg(0x404)+'gK',eg(0x211)+'Ia',eg(0x2ca)+'wq',eg(0x4a1)+'gi',eg(0x1d5)+'W',eg(0x4b6)+'2K',eg(0x4dc),eg(0x2e1)+'ci',eg(0x26f)+'2K',eg(0x190)+'ca',eg(0x4a8)+'vi',eg(0x381)+'wm',eg(0x2a8)+'Nu',eg(0x2f9)+'g4',eg(0x479)+'gu',eg(0x34e)+'G',eg(0x426)+'Ia',eg(0x247)+'M8',eg(0x2da)+'Ya',eg(0x33d)+'hi',eg(0x4be),eg(0x1ba)+'G',eg(0x301)+'3i',eg(0x4a6)+'fq',eg(0x484)+'a',eg(0x2c6)+eg(0x296),eg(0x2d6)+eg(0x2ce)+eg(0x2f1),eg(0x1b0)+'a',eg(0x20e)+'MC',eg(0x343)+'ca',eg(0x1d1)+eg(0x3b2)+'m',eg(0x3c3)+eg(0x1ea)+'q',eg(0x1b1)+'wi',eg(0x400)+'a',eg(0x2c3)+'t4',eg(0x4d6)+'3a',eg(0x2c6)+eg(0x478),eg(0x43e)+'xq',eg(0x1a9)+'GO',eg(0x20a),eg(0x48d)+'gy',eg(0x44f)+'Ya',eg(0x179)+'gu',eg(0x1a6)+'3i',eg(0x2dc)+'xm',eg(0x476)+'gm',eg(0x165)+'2u',eg(0x1e7)+'gu',eg(0x347)+'xq',eg(0x460)+'ca',eg(0x390),eg(0x185)+'Mu',eg(0x1e9),eg(0x2c1)+'gi',eg(0x1a0)+'wm',eg(0x47d)+'3i',eg(0x2a0)+'gi',eg(0x40d)+eg(0x42f)+'a',eg(0x41b)+'G',eg(0x16c)+'Nq',eg(0x310)+'MS',eg(0x4ad)+'xi',eg(0x1d3),eg(0x352)+'Nu',eg(0x2aa)+'wy',eg(0x484)+'eK',eg(0x422)+'00',eg(0x3a9)+'I4',eg(0x339)+'a',eg(0x16b)+'gi',eg(0x48b)+'Nq',eg(0x2a3)+'g8',eg(0x4c6),eg(0x3ff)+'w4',eg(0x428)+'wq',eg(0x20d)+'xq',eg(0x2b0)+'a',eg(0x1b8)+'sa',eg(0x432)+'J8',eg(0x3f1)+'ee',eg(0x42c)+eg(0x3f6)+'q',eg(0x380)+'gq',eg(0x21b)+'w4',eg(0x1ff),eg(0x292)+'3q',eg(0x488)+'gu',eg(0x3fe)+'gu',eg(0x1ae)+'gK',eg(0x47c)+'uq',eg(0x42a)+'wC',eg(0x1fe)+'wi',eg(0x394)+'2u',eg(0x37c)+'wm',eg(0x4a7)+'wW',eg(0x454)+'fi',eg(0x3d1)+'xm',eg(0x213)+'w4',eg(0x208)+'gu',eg(0x1ac)+'Ia',eg(0x195)+'Y4',eg(0x183)+eg(0x35a)+eg(0x48a),eg(0x2c6)+eg(0x21f),eg(0x1fa)+'gu',eg(0x30d)+'wW',eg(0x1c7)+'sa',eg(0x3bd)+'gi',eg(0x349)+'w8',eg(0x43c)+'xq',eg(0x302)+'1i',eg(0x2c6)+eg(0x1e0),eg(0x2b8)+'ca',eg(0x18e)+'wu',eg(0x175)+'xm',eg(0x2a1)+'xm',eg(0x300),eg(0x39a)+'sa',eg(0x28d)+'28',eg(0x30b)+'wW',eg(0x2bf),eg(0x203)+eg(0x44e),eg(0x3e5)+'eK',eg(0x427)+'q',eg(0x195)+'YK',eg(0x1b4)+'gi',eg(0x429)+'gG',eg(0x3e9)+'w8',eg(0x4cb)+'gW',eg(0x323)+'eK',eg(0x2ef),eg(0x2b5)+'ey',eg(0x320)+'xG',eg(0x1c9)+'MK',eg(0x450)+'Ia',eg(0x405)+'gu',eg(0x2d1)+'G',eg(0x410)+'Ya',eg(0x2cf)+'gy',eg(0x19d)+'gu',eg(0x3ae)+'xG',eg(0x223)+'ei',eg(0x1f1)+'I8',eg(0x230)+'gW',eg(0x295)+'wW',eg(0x2ff)+'we',eg(0x23f)+'G',eg(0x176)+'qO',eg(0x22a)+'24',eg(0x184)+'w4',eg(0x2cd)+'wK',eg(0x325)+'G',eg(0x2e6)+'2u',eg(0x366)+'vG',eg(0x215)+'hy',eg(0x335)+'wW',eg(0x3e7)+'Ia',eg(0x170)+'wW'];return a0a=function(){return a;},a0a();}function getClosingTag(b){const c=a0bI;switch(b){case c(0x4a6):return c(0x358);case c(0x253)+'c':return c(0x2ea);case c(0x413)+c(0x361):return c(0x3a2);case c(0x416)+c(0x213)+c(0x3e1):return c(0x490);case c(0x407):return c(0x3c6)+'e>';case c(0x1e3):return c(0x26a)+'>';case c(0x3b5)+c(0x2f2):return c(0x48e)+c(0x174)+c(0x2a1);case c(0x3c5)+c(0x3dc):return c(0x353);case c(0x3c5)+c(0x425)+'on':return c(0x353);case c(0x1d5)+'er':return c(0x27f)+c(0x1d5)+c(0x16b);case c(0x44b)+c(0x378)+'ji':return c(0x27f)+c(0x465)+'>';default:return'';}}function parseFilterCommandAndContent(i,m){const K=a0bI,L=i[K(0x4c1)]('\x0a'),M=L[0x0],N=M[K(0x421)+K(0x292)+'e']()[K(0x309)+K(0x4f4)](K(0x38d)+K(0x3f8))?M[K(0x36e)](0x8)[K(0x4c1)](',')[K(0x24a)](V=>V[K(0x42f)]())[K(0x2ed)+'r'](Boolean):[],O=[],P=[];let Q=-0x1,R=-0x1,S=![];const T=i[K(0x294)+'Of'](M)+M[K(0x4cd)+'h'];let U=T;for(let V=0x1;V<L[K(0x4cd)+'h'];V++){const W=L[V],X=W[K(0x42f)](),Y=i[K(0x294)+'Of'](W,U),Z=Y+W[K(0x4cd)+'h'];U=Z+(V<L[K(0x4cd)+'h']-0x1?0x1:0x0);if(X[K(0x4b6)](/^button\s/i)||X[K(0x309)+K(0x4f4)]('?')||X[K(0x309)+K(0x4f4)](K(0x458)+'n:')){if(Q!==-0x1){const a0=i[K(0x466)+K(0x1f3)](Q,R);O[K(0x27b)]({'text':a0,'entities':m[K(0x2ed)+'r'](a1=>a1[K(0x364)+'t']>=Q&&a1[K(0x364)+'t']+a1[K(0x4cd)+'h']<=R)[K(0x24a)](a1=>({...a1,'offset':a1[K(0x364)+'t']-Q}))}),Q=-0x1,R=-0x1;}S=!![];}if(!S){if(X[K(0x309)+K(0x4f4)]('!')){if(Q!==-0x1){const a3=i[K(0x466)+K(0x1f3)](Q,R);O[K(0x27b)]({'text':a3,'entities':m[K(0x2ed)+'r'](a4=>a4[K(0x364)+'t']>=Q&&a4[K(0x364)+'t']+a4[K(0x4cd)+'h']<=R)[K(0x24a)](a4=>({...a4,'offset':a4[K(0x364)+'t']-Q}))});}const a1=W[K(0x294)+'Of']('!'),a2=a1+0x1;Q=Y+a2,R=Z;if(W[K(0x466)+K(0x1f3)](a2)[K(0x42f)]()===''&&V+0x1<L[K(0x4cd)+'h']){let a4=V+0x1,a5=L[a4],a6=a5[K(0x42f)](),a7=i[K(0x294)+'Of'](a5,U);while(a4<L[K(0x4cd)+'h']&&(a6===''||a6[K(0x4b6)](/^button\s/i)||a6[K(0x309)+K(0x4f4)]('?')||a6[K(0x309)+K(0x4f4)](K(0x458)+'n:'))){U=a7+a5[K(0x4cd)+'h']+(a4<L[K(0x4cd)+'h']-0x1?0x1:0x0),a4++;if(a4<L[K(0x4cd)+'h'])a5=L[a4],a6=a5[K(0x42f)](),a7=i[K(0x294)+'Of'](a5,U);else break;}a4<L[K(0x4cd)+'h']&&a6!==''&&(W[K(0x466)+K(0x1f3)](a2)[K(0x42f)]()===''&&(Q=a7),R=a7+a5[K(0x4cd)+'h'],V=a4,U=R+(V<L[K(0x4cd)+'h']-0x1?0x1:0x0));}}else Q!==-0x1&&(R=Z);}else{if(X[K(0x4b6)](/^button\s/i)||X[K(0x309)+K(0x4f4)](K(0x458)+'n:')){const a8=X[K(0x4b6)](/^button:?\s*([0-9:]+)?\s*(.*)$/i);if(!a8)throw new Error(K(0x217)+K(0x17b)+K(0x1fd)+K(0x38b)+K(0x184)+X);const a9=a8[0x1],aa=a8[0x2];let ab=null;if(a9)ab=a9[K(0x4c1)](':')[K(0x24a)](Number);const ac=aa?aa[K(0x4c1)](',')[K(0x24a)](ad=>ad[K(0x42f)]())[K(0x2ed)+'r'](Boolean):[];P[K(0x27b)]({'targets':ac,'layout':ab,'defs':[]});}else{if(X[K(0x309)+K(0x4f4)]('?')){const ad=X[K(0x4b6)](/^\?([^\(]+)\(([^)]+)\)/);if(!ad)throw new Error(K(0x456)+K(0x1c8)+K(0x4df)+K(0x45e)+X);const ae=ad[0x1][K(0x42f)](),af=ad[0x2][K(0x42f)]();if(!af||!/^https?:\/\//[K(0x4e5)](af))throw new Error(K(0x217)+K(0x414)+K(0x2f5)+af);!P[K(0x4cd)+'h']&&P[K(0x27b)]({'targets':[],'layout':null,'defs':[]}),P[P[K(0x4cd)+'h']-0x1][K(0x228)][K(0x27b)]({'name':ae,'url':af});}}}}if(Q!==-0x1){const ag=i[K(0x466)+K(0x1f3)](Q,R);O[K(0x27b)]({'text':ag,'entities':m[K(0x2ed)+'r'](ah=>ah[K(0x364)+'t']>=Q&&ah[K(0x364)+'t']+ah[K(0x4cd)+'h']<=R)[K(0x24a)](ah=>({...ah,'offset':ah[K(0x364)+'t']-Q}))});}return{'filterNames':N,'responses':O,'buttons':P};}function ensureButtonLayout(d,e){const f=a0bI;if(!d||d[f(0x4cd)+'h']===0x0){if(e[f(0x4cd)+'h']>0x8)throw new Error(f(0x2bc)+f(0x175)+f(0x1de)+f(0x2d4)+'w');return[e[f(0x4cd)+'h']];}const g=d[f(0x274)+'e']((h,i)=>h+i,0x0);if(g!==e[f(0x4cd)+'h'])throw new Error(f(0x456)+f(0x443)+f(0x186)+f(0x4ad)+f(0x190)+e[f(0x4cd)+'h']+(f(0x175)+f(0x216)+'s\x20')+g+(f(0x266)+f(0x30d)+f(0x276)+f(0x409)+'.'));if(d[f(0x3c7)](h=>h<0x1))throw new Error(f(0x2e0)+f(0x3aa)+f(0x3c2)+f(0x366)+f(0x1ae)+f(0x355)+f(0x2a6)+f(0x2f7));if(Math[f(0x4c5)](...d)>0x8)throw new Error(f(0x2bc)+f(0x175)+f(0x1de)+f(0x2d4)+'w');return d;}function addFilter(o,p,q,r){const s=a0bI,t=getChatFilters(o);if(!p[s(0x4cd)+'h'])return;const u=p[0x0][s(0x421)+s(0x292)+'e']();let v=t[s(0x3e0)](u);(!v||v[s(0x1a1)+s(0x46c)+'f'])&&(v={'responses':[],'buttons':[],'layout':[]});const w=new Set(v[s(0x281)+s(0x424)][s(0x24a)](y=>JSON[s(0x1f1)+s(0x33c)](y)));let x=![];for(const y of q){!w[s(0x1e6)](JSON[s(0x1f1)+s(0x33c)](y))&&(v[s(0x281)+s(0x424)][s(0x27b)](y),x=!![]);}if(r[s(0x4cd)+'h']>0x0){const z=r[r[s(0x4cd)+'h']-0x1];v[s(0x458)+'ns']=z[s(0x228)][s(0x24a)](A=>({...A})),v[s(0x293)+'t']=ensureButtonLayout(z[s(0x293)+'t'],z[s(0x228)])[s(0x36e)]();}else{if(!v[s(0x458)+'ns'])v[s(0x458)+'ns']=[];if(!v[s(0x293)+'t'])v[s(0x293)+'t']=[];}t[s(0x255)](u,v);for(const A of p){const B=A[s(0x421)+s(0x292)+'e']();B!==u&&t[s(0x255)](B,{'__isAliasOf':u});}if(x){const C=o+'_'+u;userResponseIndex[s(0x3c1)+'e'](C),markUserIndexChanged();}markFiltersChanged();}function setFilter(o,p,q,r){const s=a0bI,t=getChatFilters(o);if(!p[s(0x4cd)+'h'])return;const u=p[0x0][s(0x421)+s(0x292)+'e'](),v=new Set(p[s(0x24a)](y=>y[s(0x421)+s(0x292)+'e']()));for(const [y,z]of t[s(0x346)+'es']()){(z[s(0x1a1)+s(0x46c)+'f']===u||v[s(0x1e6)](y))&&t[s(0x3c1)+'e'](y);}const w={'responses':[...q],'buttons':[],'layout':[]};if(r[s(0x4cd)+'h']){const A=r[r[s(0x4cd)+'h']-0x1];w[s(0x458)+'ns']=A[s(0x228)][s(0x24a)](B=>({...B})),w[s(0x293)+'t']=ensureButtonLayout(A[s(0x293)+'t'],A[s(0x228)])[s(0x36e)]();}t[s(0x255)](u,w);for(const B of p){const C=B[s(0x421)+s(0x292)+'e']();C!==u&&t[s(0x255)](C,{'__isAliasOf':u});}const x=o+'_'+u;userResponseIndex[s(0x3c1)+'e'](x),markFiltersChanged(),markUserIndexChanged();}function addResponsesOnly(n,o,p){const q=a0bI,r=getChatFilters(n),s=o[q(0x421)+q(0x292)+'e']();let t=s;const u=r[q(0x3e0)](s);u&&u[q(0x1a1)+q(0x46c)+'f']&&(t=u[q(0x1a1)+q(0x46c)+'f']);const v=r[q(0x3e0)](t);if(!v||v[q(0x1a1)+q(0x46c)+'f'])return 0x0;const w=v[q(0x281)+q(0x424)]||[],x=new Set(w[q(0x24a)](z=>JSON[q(0x1f1)+q(0x33c)](z)));let y=0x0;for(const z of p){!x[q(0x1e6)](JSON[q(0x1f1)+q(0x33c)](z))&&(w[q(0x27b)](z),y++);}v[q(0x281)+q(0x424)]=w;if(y>0x0){r[q(0x255)](t,v);const A=n+'_'+t;userResponseIndex[q(0x3c1)+'e'](A),markUserIndexChanged();}return y;}function addButtonsToFilter(e,p,q,r=[]){const s=a0bI,t=getChatFilters(e),u=p[s(0x421)+s(0x292)+'e']();let v=u;const w=t[s(0x3e0)](u);w&&w[s(0x1a1)+s(0x46c)+'f']&&(v=w[s(0x1a1)+s(0x46c)+'f']);const x=t[s(0x3e0)](v);if(!x||x[s(0x1a1)+s(0x46c)+'f'])return 0x0;const y=x[s(0x458)+'ns']||[],z=new Set(y[s(0x24a)](B=>JSON[s(0x1f1)+s(0x33c)](B)));let A=0x0;for(const B of q){!z[s(0x1e6)](JSON[s(0x1f1)+s(0x33c)](B))&&(y[s(0x27b)](B),A++);}x[s(0x458)+'ns']=y;if(r[s(0x4cd)+'h']>0x0)try{x[s(0x293)+'t']=ensureButtonLayout(r,y)[s(0x36e)]();}catch(C){error(s(0x217)+s(0x4c0)+s(0x2a9)+s(0x18b)+s(0x4b2)+s(0x3ad)+s(0x43b)+p+':\x20'+C[s(0x39e)+'ge']+(s(0x2c8)+s(0x36d)+s(0x287)+s(0x4f8)+s(0x193))),x[s(0x293)+'t']=[y[s(0x4cd)+'h']];}else x[s(0x293)+'t']=[y[s(0x4cd)+'h']];return(A>0x0||r[s(0x4cd)+'h']>0x0)&&(t[s(0x255)](v,x),markFiltersChanged()),A;}function listFiltersWithResponses(n){const o=a0bI,p=getChatFilters(n);if(!p||p[o(0x280)]===0x0)return[];const q=[],r=new Set();for(const [s,t]of p[o(0x346)+'es']()){const u=s[o(0x421)+o(0x292)+'e']();if(t&&!t[o(0x1a1)+o(0x46c)+'f']&&!r[o(0x1e6)](u)){const v=t,w=v[o(0x281)+o(0x424)]||[],x=[];for(const [z,A]of p[o(0x346)+'es']()){A[o(0x1a1)+o(0x46c)+'f']===u&&x[o(0x27b)](z);}let y=u;x[o(0x4cd)+'h']>0x0&&(y=u+',\x20'+x[o(0x4b8)]()[o(0x2b7)](',\x20')),q[o(0x27b)]({'filter':y,'responses':w,'buttons':v[o(0x458)+'ns']||[],'layout':v[o(0x293)+'t']||[]}),r[o(0x375)](u);}}return q;}function listButtons(f){const q=a0bI,r=getChatFilters(f),s=new Map();for(const [u,v]of r[q(0x346)+'es']()){if(v&&!v[q(0x1a1)+q(0x46c)+'f']&&v[q(0x458)+'ns']&&v[q(0x458)+'ns'][q(0x4cd)+'h']>0x0){const w=u,x=new Set([w]);for(const [y,z]of r[q(0x346)+'es']()){z[q(0x1a1)+q(0x46c)+'f']===w&&x[q(0x375)](y);}for(const A of v[q(0x458)+'ns']){!s[q(0x1e6)](A[q(0x19e)])&&s[q(0x255)](A[q(0x19e)],{'url':A[q(0x1d6)],'filters':new Set()});const B=s[q(0x3e0)](A[q(0x19e)]);for(const C of x){B[q(0x2ed)+'rs'][q(0x375)](C);}}}}const t=[];for(const [D,E]of s[q(0x346)+'es']()){t[q(0x27b)]({'name':D,'url':E[q(0x1d6)],'filters':Array[q(0x374)](E[q(0x2ed)+'rs'])[q(0x4b8)]()});}return t;}function delFilter(r,s){const t=a0bI,u=getChatFilters(r),v=[],w=[],x=new Map();for(const y of s){const z=y[t(0x421)+t(0x292)+'e'](),A=u[t(0x3e0)](z);if(A){if(A[t(0x1a1)+t(0x46c)+'f'])u[t(0x3c1)+'e'](z),v[t(0x27b)](z);else{const B=[];for(const [D,E]of u[t(0x346)+'es']()){E[t(0x1a1)+t(0x46c)+'f']===z&&(B[t(0x27b)](D),u[t(0x3c1)+'e'](D));}u[t(0x3c1)+'e'](z),v[t(0x27b)](z,...B);const C=r+'_'+z;userResponseIndex[t(0x3c1)+'e'](C);}}else{w[t(0x27b)](z);let F=Infinity,G=null;for(const H of u[t(0x27c)]()){const I=levenshteinDistance(z,H);I<F&&I>0x0&&(F=I,G=H);}G&&F<=LEVENSHTEIN_DISTANCE_THRESHOLD&&x[t(0x255)](z,G);}}return(v[t(0x4cd)+'h']>0x0||w[t(0x4cd)+'h']>0x0)&&(markFiltersChanged(),markUserIndexChanged()),{'deleted':v,'notFound':w,'suggestions':x};}function normalizeText(b){const c=a0bI;return(b||'')[c(0x421)+c(0x292)+'e']()[c(0x26f)+'ce'](/\s+/g,'\x20')[c(0x42f)]();}function levenshteinDistance(a,b){const i=a0bI;if(a[i(0x4cd)+'h']===0x0)return b[i(0x4cd)+'h'];if(b[i(0x4cd)+'h']===0x0)return a[i(0x4cd)+'h'];const j=[];for(let l=0x0;l<=b[i(0x4cd)+'h'];l++)j[l]=[l];for(let m=0x0;m<=a[i(0x4cd)+'h'];m++)j[0x0][m]=m;for(let n=0x1;n<=b[i(0x4cd)+'h'];n++){for(let o=0x1;o<=a[i(0x4cd)+'h'];o++){b[i(0x1a4)+'t'](n-0x1)===a[i(0x1a4)+'t'](o-0x1)?j[n][o]=j[n-0x1][o-0x1]:j[n][o]=Math[i(0x40c)](j[n-0x1][o-0x1]+0x1,j[n][o-0x1]+0x1,j[n-0x1][o]+0x1);}}return j[b[i(0x4cd)+'h']][a[i(0x4cd)+'h']];}function delResponse(i,v){const w=a0bI,x=getChatFilters(i),y=normalizeText(v),z=[];for(const [A,B]of x[w(0x346)+'es']()){if(B&&!B[w(0x1a1)+w(0x46c)+'f']){const C=B[w(0x281)+w(0x424)]||[];for(let D=0x0;D<C[w(0x4cd)+'h'];D++){normalizeText(C[D][w(0x428)])===y&&z[w(0x27b)]({'filterName':A,'responseIndex':D,'responseText':C[D][w(0x428)]});}}}if(z[w(0x4cd)+'h']===0x0){let E=null,F=Infinity,G=null;for(const [H,I]of x[w(0x346)+'es']()){if(I&&!I[w(0x1a1)+w(0x46c)+'f']){const J=I[w(0x281)+w(0x424)]||[];for(const K of J){const L=levenshteinDistance(normalizeText(K[w(0x428)]),y);L<F&&L>0x0&&(F=L,E=K[w(0x428)],G=H);}}}return E&&F<=LEVENSHTEIN_DISTANCE_THRESHOLD?{'status':w(0x3a6)+w(0x1bb),'message':w(0x4e9)+w(0x26c)+w(0x1f6)+w(0x2c3)+w(0x20e)+w(0x196)+w(0x3f1)+w(0x39a)+escapeHtml(E)+(w(0x3c6)+w(0x17f)+w(0x23b)+w(0x43b)+w(0x49b))+escapeHtml(G)+(w(0x1f2)+')?'),'parse_mode':w(0x307)}:{'status':w(0x164)+w(0x1b9),'message':w(0x4fa)+w(0x31e)+w(0x1f6)+w(0x4fb)+w(0x1c7)};}else{if(z[w(0x4cd)+'h']===0x1){const M=z[0x0],N=x[w(0x3e0)](M[w(0x2ed)+w(0x2bd)]);N[w(0x281)+w(0x424)][w(0x31f)+'e'](M[w(0x281)+w(0x1e5)+w(0x248)],0x1),x[w(0x255)](M[w(0x2ed)+w(0x2bd)],N);const O=i+'_'+M[w(0x2ed)+w(0x2bd)];return userResponseIndex[w(0x3c1)+'e'](O),markFiltersChanged(),markUserIndexChanged(),{'status':w(0x3c1)+'ed','message':w(0x28c)+w(0x46e)+w(0x23e)+w(0x34b)+w(0x4a5)+w(0x47f)+'\x20\x22'+M[w(0x2ed)+w(0x2bd)]+'\x22.','filter':M[w(0x2ed)+w(0x2bd)]};}else return{'status':w(0x3b3)+w(0x29c),'message':w(0x31a)+w(0x398)+w(0x4ac)+w(0x243)+w(0x22c)+w(0x2f1)+w(0x4e1)+w(0x4e2)+w(0x388)+w(0x24c)+w(0x23e)+w(0x432),'matches':z};}}function a0b(d,e){const f=a0a();return a0b=function(k,l){const eh=a0e;k=k-0x160;let m=f[k];if(a0b[eh(0x3a1)+'N']===undefined){var n=function(v){const ei=eh,w=ei(0x480)+ei(0x423)+ei(0x17a)+ei(0x3e4)+ei(0x37f)+ei(0x288)+ei(0x246)+ei(0x40a)+ei(0x249)+ei(0x393)+ei(0x23b)+ei(0x483)+ei(0x178);let x='',y='';for(let z=0x0,A,B,C=0x0;B=v[ei(0x2d4)+'t'](C++);~B&&(A=z%0x4?A*0x40+B:B,z++%0x4)?x+=String[ei(0x49a)+ei(0x4ab)+'de'](0xff&A>>(-0x2*z&0x6)):0x0){B=w[ei(0x22c)+'Of'](B);}for(let D=0x0,E=x[ei(0x2af)+'h'];D<E;D++){y+='%'+('00'+x[ei(0x437)+ei(0x22f)](D)[ei(0x420)+ei(0x2b9)](0x10))[ei(0x39e)](-0x2);}return decodeURIComponent(y);};a0b[eh(0x1f0)+'C']=n,d=arguments,a0b[eh(0x3a1)+'N']=!![];}const o=f[0x0],p=k+o,q=d[p];return!q?(m=a0b[eh(0x1f0)+'C'](m),d[p]=m):m=q,m;},a0b(d,e);}function delButton(k,l,m=null){const n=a0bI,o=getChatFilters(k),p=[],q=[];for(const [r,s]of o[n(0x346)+'es']()){if(s&&!s[n(0x1a1)+n(0x46c)+'f']){if(m&&r!==m)continue;const t=s[n(0x458)+'ns']||[],u=t[n(0x4cd)+'h'];s[n(0x458)+'ns']=t[n(0x2ed)+'r'](v=>v[n(0x19e)]!==l),s[n(0x458)+'ns'][n(0x4cd)+'h']<u&&(s[n(0x293)+'t']=[s[n(0x458)+'ns'][n(0x4cd)+'h']],o[n(0x255)](r,s),p[n(0x27b)](r));}}return p[n(0x4cd)+'h']>0x0?(markFiltersChanged(),{'deleted':!![],'from':p}):{'deleted':![],'notFound':!![]};}function generateAdminPanelKeyboard(b){const c=a0bI;return new InlineKeyboard()[c(0x428)](c(0x40f)+c(0x35c)+c(0x2ab),ADMIN_CALLBACK_PREFIX+(c(0x3d1)+c(0x47f)+c(0x392))+b)[c(0x428)](c(0x2e1)+c(0x30e)+c(0x41e),ADMIN_CALLBACK_PREFIX+(c(0x2fb)+c(0x271)+c(0x392))+b)[c(0x1db)]()[c(0x428)](c(0x1f5)+c(0x275)+c(0x47f),ADMIN_CALLBACK_PREFIX+(c(0x231)+c(0x2c2)+c(0x47f)+'::')+b)[c(0x428)](c(0x1f5)+c(0x3fc)+c(0x3e2)+'se',ADMIN_CALLBACK_PREFIX+(c(0x231)+c(0x2be)+c(0x3e2)+c(0x29d))+b)[c(0x428)](c(0x1f5)+c(0x24f)+c(0x271),ADMIN_CALLBACK_PREFIX+(c(0x231)+c(0x2c2)+c(0x458)+c(0x494))+b)[c(0x1db)]()[c(0x428)](c(0x3bc)+c(0x383)+c(0x2ef),ADMIN_CALLBACK_PREFIX+(c(0x231)+c(0x481)+c(0x3e2)+c(0x29d))+b)[c(0x428)](c(0x3bc)+c(0x1b2)+c(0x19a),ADMIN_CALLBACK_PREFIX+(c(0x231)+c(0x33e)+c(0x271)+'::')+b)[c(0x1db)]()[c(0x428)](c(0x461)+c(0x162)+c(0x48a),ADMIN_CALLBACK_PREFIX+(c(0x357)+c(0x4d0))+b);}function generateCancelKeyboard(b){const c=a0bI;return new InlineKeyboard()[c(0x428)](c(0x2e7)+c(0x3ea),ADMIN_CALLBACK_PREFIX+(c(0x1fc)+':')+b);}async function generateFilterListPage(t,u=0x1){const v=a0bI,w=listFiltersWithResponses(t);if(!w[v(0x4cd)+'h'])return{'text':await applyFont(name,v(0x244)+v(0x41c)+v(0x45f)),'reply_markup':generateAdminPanelKeyboard(t),'parse_mode':v(0x307),'disable_web_page_preview':!![]};const x=w[v(0x4cd)+'h'],y=Math[v(0x386)](x/FILTERS_PER_PAGE),z=Math[v(0x4c5)](0x1,Math[v(0x40c)](u,y)),A=(z-0x1)*FILTERS_PER_PAGE,B=w[v(0x36e)](A,A+FILTERS_PER_PAGE);let C=v(0x27d)+await applyFont(name,v(0x3dd)+v(0x449)+v(0x288))+(v(0x420)+v(0x262)+v(0x27d))+z+(v(0x35f)+v(0x27d))+y+(v(0x420)+'\x0a'),D=C[v(0x4cd)+'h'];for(const G of B){let H=v(0x27d)+await applyFont(name,escapeHtml(G[v(0x2ed)+'r']))+(v(0x4b1)+'\x0a');H+=v(0x206)+v(0x282)+v(0x1bd)+v(0x301);const I=G[v(0x281)+v(0x424)][v(0x36e)](0x0,0x3);for(const J of I){const K=formatTextWithEntities(J[v(0x428)],J[v(0x2e8)+v(0x1c6)]),L=K[v(0x4cd)+'h']>0x64?K[v(0x466)+v(0x1f3)](0x0,0x64)+v(0x3be):K;H+=v(0x21d)+'>'+L+v(0x4cf);}G[v(0x281)+v(0x424)][v(0x4cd)+'h']>0x3&&(H+=v(0x3a4)+'.'+(G[v(0x281)+v(0x424)][v(0x4cd)+'h']-0x3)+(v(0x2f6)+'\x0a'));if(G[v(0x458)+'ns'][v(0x4cd)+'h']>0x0){H+=v(0x22d)+v(0x439)+v(0x233)+'\x0a';for(const M of G[v(0x458)+'ns'][v(0x36e)](0x0,0x3)){H+=v(0x325)+M[v(0x19e)]+'\x20('+M[v(0x1d6)][v(0x466)+v(0x1f3)](0x0,0x14)+v(0x354);}G[v(0x458)+'ns'][v(0x4cd)+'h']>0x3&&(H+=v(0x3a4)+'.'+(G[v(0x458)+'ns'][v(0x4cd)+'h']-0x3)+(v(0x2f6)+'\x0a'));}H+='\x0a';if(D+H[v(0x4cd)+'h']>MAX_MESSAGE_LENGTH){C+=v(0x479)+v(0x3ed)+v(0x336)+v(0x2c0)+v(0x4a2);break;}C+=H,D+=H[v(0x4cd)+'h'];}const E=new InlineKeyboard(),F=[];return z>0x1&&F[v(0x27b)](InlineKeyboard[v(0x428)](v(0x33a)+'v',CALLBACK_PREFIX+(v(0x389)+v(0x335))+t+'::'+(z-0x1))),F[v(0x27b)](InlineKeyboard[v(0x428)](z+'/'+y,CALLBACK_PREFIX+v(0x30f))),z<y&&F[v(0x27b)](InlineKeyboard[v(0x428)](v(0x3f3)+'»',CALLBACK_PREFIX+(v(0x389)+v(0x335))+t+'::'+(z+0x1))),F[v(0x4cd)+'h']>0x0&&E[v(0x1db)](...F),E[v(0x1db)](InlineKeyboard[v(0x428)](v(0x1cc)+'k',ADMIN_CALLBACK_PREFIX+(v(0x1fc)+':')+t)),{'text':C[v(0x42f)](),'reply_markup':E,'parse_mode':v(0x307),'disable_web_page_preview':!![]};}async function generateButtonListPage(e,x=0x1){const y=a0bI,z=listButtons(e);if(!z[y(0x4cd)+'h'])return{'text':await applyFont(name,y(0x302)+y(0x439)+y(0x45f)),'reply_markup':generateAdminPanelKeyboard(e),'parse_mode':y(0x307),'disable_web_page_preview':!![]};const A=z[y(0x4cd)+'h'],B=Math[y(0x386)](A/BUTTONS_PER_PAGE),C=Math[y(0x4c5)](0x1,Math[y(0x40c)](x,B)),D=(C-0x1)*BUTTONS_PER_PAGE,E=z[y(0x36e)](D,D+BUTTONS_PER_PAGE);let F=y(0x27d)+await applyFont(name,y(0x456)+'ns')+(y(0x420)+y(0x262)+y(0x27d))+C+(y(0x35f)+y(0x27d))+B+(y(0x420)+'\x0a'),G=F[y(0x4cd)+'h'];for(const J of E){const K=escapeHtml(J[y(0x19e)]);let L;try{const R=new URL(J[y(0x1d6)]);L=R[y(0x1d7)+y(0x2c9)]+(R[y(0x2d0)+y(0x2c9)]!=='/'?R[y(0x2d0)+y(0x2c9)][y(0x466)+y(0x1f3)](0x0,0xf)+y(0x3be):'');}catch(S){L=J[y(0x1d6)][y(0x4cd)+'h']>0x1e?J[y(0x1d6)][y(0x466)+y(0x1f3)](0x0,0x1b)+y(0x3be):J[y(0x1d6)];}const M=escapeHtml(L),N=0x3;let O;J[y(0x2ed)+'rs'][y(0x4cd)+'h']<=N?O=J[y(0x2ed)+'rs'][y(0x2b7)](',\x20'):O=J[y(0x2ed)+'rs'][y(0x36e)](0x0,N)[y(0x2b7)](',\x20')+(y(0x3bb)+(J[y(0x2ed)+'rs'][y(0x4cd)+'h']-N)+y(0x2f6));const P=escapeHtml(O),Q=y(0x296)+await applyFont(name,K)+(y(0x420)+y(0x2a0)+y(0x4a4))+M+(y(0x3c6)+y(0x2fc))+P+'\x0a\x0a';if(G+Q[y(0x4cd)+'h']>MAX_MESSAGE_LENGTH){F+=y(0x479)+y(0x322)+y(0x2cf)+y(0x329)+'d)';break;}F+=Q,G+=Q[y(0x4cd)+'h'];}const H=new InlineKeyboard(),I=[];return C>0x1&&I[y(0x27b)](InlineKeyboard[y(0x428)](y(0x33a)+'v',CALLBACK_PREFIX+(y(0x173)+'::')+e+'::'+(C-0x1))),I[y(0x27b)](InlineKeyboard[y(0x428)](C+'/'+B,CALLBACK_PREFIX+y(0x30f))),C<B&&I[y(0x27b)](InlineKeyboard[y(0x428)](y(0x3f3)+'»',CALLBACK_PREFIX+(y(0x173)+'::')+e+'::'+(C+0x1))),I[y(0x4cd)+'h']>0x0&&H[y(0x1db)](...I),H[y(0x1db)](InlineKeyboard[y(0x428)](y(0x1cc)+'k',ADMIN_CALLBACK_PREFIX+(y(0x1fc)+':')+e)),{'text':F[y(0x42f)](),'reply_markup':H,'parse_mode':y(0x307),'disable_web_page_preview':!![]};}function matchFilter(o,p){const q=a0bI,r=p[q(0x421)+q(0x292)+'e'](),s=new Map();for(const [x,y]of o[q(0x346)+'es']()){const z=x[q(0x421)+q(0x292)+'e']();let A=y[q(0x1a1)+q(0x46c)+'f']?y[q(0x1a1)+q(0x46c)+'f']:z;s[q(0x255)](z,A);}const t=/[\p{L}\p{N}_]+/gu;let u,v=null,w=Infinity;while((u=t[q(0x2c7)](r))!==null){const B=u[0x0],C=u[q(0x294)];s[q(0x1e6)](B)&&C<w&&(w=C,v={'word':B,'master':s[q(0x3e0)](B)});}return v?v[q(0x348)+'r']:null;}export async function onMessage(e){const i=a0bI;if(!botApi)botApi=e[i(0x176)];const bH=e[i(0x39e)+'ge']?.[i(0x428)]||'',bI=e[i(0x4b0)][i(0x4b9)],bJ=e[i(0x4b0)]['id'],bK=e[i(0x374)]?.['id'],bL=e[i(0x39e)+'ge']?.[i(0x2e8)+i(0x1c6)]||[],bM=bH[i(0x421)+i(0x292)+'e']()[i(0x4c1)]('\x20')[0x0],bN=new Set([i(0x38d)+'er',i(0x46b)+i(0x47f),i(0x3ff)+i(0x2ed)+'r',i(0x3a5)+i(0x3e2)+'se',i(0x46b)+i(0x458)+'n',i(0x166)+i(0x458)+'ns',i(0x440)+'el']);if(bN[i(0x1e6)](bM)&&!isAdmin(e))return e[i(0x277)](await applyFont(name,i(0x313)+i(0x4e7)+i(0x4c6)+'d.'));if(bM===i(0x440)+'el')return bK&&pendingAdminActions[i(0x1e6)](bK)?(pendingAdminActions[i(0x3c1)+'e'](bK),e[i(0x277)](await applyFont(name,i(0x4c4)+i(0x4f7)+i(0x340)+i(0x315)+i(0x4cb)+'d.'))):e[i(0x277)](await applyFont(name,i(0x2a3)+i(0x22b)+i(0x254)+i(0x3e3)+i(0x259)+i(0x37c)));if(bK&&pendingAdminActions[i(0x1e6)](bK)){const bO=pendingAdminActions[i(0x3e0)](bK);if(Date[i(0x4be)]()-bO['ts']>PENDING_ACTION_TTL_MS)return pendingAdminActions[i(0x3c1)+'e'](bK),e[i(0x277)](await applyFont(name,i(0x2dd)+i(0x218)+i(0x46f)+'d.'));const bP=bO[i(0x44a)+'d'];switch(bO[i(0x4b9)]){case i(0x3c1)+i(0x21c)+i(0x179)+i(0x284):{const bQ=bH[i(0x42f)]()[i(0x4c1)](',')[i(0x24a)](bU=>bU[i(0x42f)]())[i(0x2ed)+'r'](Boolean);if(!bQ[i(0x4cd)+'h'])return e[i(0x277)](await applyFont(name,i(0x3a7)+i(0x3ac)+i(0x43b)+i(0x2a2)+i(0x44c)+i(0x195)+i(0x25e)+i(0x2d8)),{'reply_markup':generateCancelKeyboard(bP)});const bR=delFilter(bP,bQ);let bS='';bR[i(0x3c1)+'ed'][i(0x4cd)+'h']>0x0&&(bS+=i(0x49a)+i(0x264)+'\x20'+bR[i(0x3c1)+'ed'][i(0x2b7)](',\x20')+'\x0a');if(bR[i(0x16f)+i(0x283)][i(0x4cd)+'h']>0x0){bS+=i(0x328)+i(0x405)+i(0x192)+bR[i(0x16f)+i(0x283)][i(0x2b7)](',\x20')+'\x0a';for(const bU of bR[i(0x16f)+i(0x283)]){bR[i(0x3a6)+i(0x1bb)+'s'][i(0x1e6)](bU)&&(bS+=i(0x29f)+i(0x1c2)+i(0x24b)+'\x20'+bR[i(0x3a6)+i(0x1bb)+'s'][i(0x3e0)](bU)+'?\x0a');}}let bT=i(0x2d7)+bP;try{if(bP!==bJ){const bV=await botApi[i(0x453)+'at'](bP);bT=i(0x27d)+escapeHtml(bV[i(0x2d1)]||i(0x297)+'wn')+i(0x358);}}catch(bW){}await e[i(0x277)](''+await applyFont(name,i(0x3dd)+i(0x351)+i(0x1c5)+i(0x24e)+i(0x4ef)+'r\x20')+bT+await applyFont(name,':\x0a')+bS,{'parse_mode':i(0x307)}),pendingAdminActions[i(0x3c1)+'e'](bK);break;}case i(0x3c1)+i(0x334)+i(0x46e)+i(0x24d)+'pt':{const bX=bH[i(0x42f)]();if(!bX)return e[i(0x277)](await applyFont(name,i(0x3a7)+i(0x4f0)+i(0x1ba)+i(0x3e2)+i(0x3f2)+i(0x339)),{'reply_markup':generateCancelKeyboard(bP)});const bY=delResponse(bP,bX);if(bY[i(0x2b6)+'s']===i(0x3b3)+i(0x29c)){pendingAdminActions[i(0x255)](bK,{'type':i(0x3c1)+i(0x334)+i(0x46e)+i(0x48d)+'ct','chatId':bP,'matches':bY[i(0x4b6)+'es'],'ts':Date[i(0x4be)]()});let c0=i(0x31a)+i(0x398)+i(0x4ac)+i(0x243)+i(0x373);return bY[i(0x4b6)+'es'][i(0x214)+'ch']((c1,c2)=>{const c3=i,c4=c1[c3(0x281)+c3(0x299)+'xt'][c3(0x4cd)+'h']>0x32?c1[c3(0x281)+c3(0x299)+'xt'][c3(0x466)+c3(0x1f3)](0x0,0x2f)+c3(0x3be):c1[c3(0x281)+c3(0x299)+'xt'];c0+=c2+0x1+(c3(0x43a)+c3(0x2b3))+c1[c3(0x2ed)+c3(0x2bd)]+c3(0x2ca)+c4+'\x22\x0a';}),c0+=i(0x3db)+i(0x32e)+i(0x185)+i(0x2e3)+i(0x447)+i(0x263)+i(0x281)+i(0x1cd)+i(0x35e)+i(0x2fd),e[i(0x277)](c0,{'reply_markup':generateCancelKeyboard(bP)});}let bZ=i(0x2d7)+bP;try{if(bP!==bJ){const c1=await botApi[i(0x453)+'at'](bP);bZ=i(0x27d)+escapeHtml(c1[i(0x2d1)]||i(0x297)+'wn')+i(0x358);}}catch(c2){}await e[i(0x277)](''+await applyFont(name,i(0x47b)+i(0x314)+i(0x2aa)+i(0x1b0)+i(0x278)+i(0x2db))+bZ+await applyFont(name,':\x0a')+bY[i(0x39e)+'ge'],{'parse_mode':bY[i(0x1fe)+i(0x1a6)]||i(0x307)}),pendingAdminActions[i(0x3c1)+'e'](bK);break;}case i(0x3c1)+i(0x334)+i(0x46e)+i(0x48d)+'ct':{if(!bO[i(0x4b6)+'es']||!Array[i(0x49d)+'ay'](bO[i(0x4b6)+'es']))return pendingAdminActions[i(0x3c1)+'e'](bK),e[i(0x277)](i(0x1dd)+i(0x235)+i(0x3b1)+i(0x1d8)+i(0x270)+i(0x464)+i(0x229)+i(0x28e)+i(0x333)+i(0x1da)+i(0x22f)+i(0x168)+i(0x2aa)+i(0x2d6)+i(0x199)+'.',{'reply_markup':generateCancelKeyboard(bP)});const c3=parseInt(bH[i(0x42f)]());if(isNaN(c3)||c3<0x1||c3>bO[i(0x4b6)+'es'][i(0x4cd)+'h'])return e[i(0x277)](i(0x217)+i(0x1d8)+i(0x270)+i(0x4ca)+i(0x2f1)+i(0x32b)+i(0x356)+'.',{'reply_markup':generateCancelKeyboard(bP)});const c4=bO[i(0x4b6)+'es'][c3-0x1],c5=getChatFilters(bP)[i(0x3e0)](c4[i(0x2ed)+i(0x2bd)]);c5[i(0x281)+i(0x424)][i(0x31f)+'e'](c4[i(0x281)+i(0x1e5)+i(0x248)],0x1);const c6=bP+'_'+c4[i(0x2ed)+i(0x2bd)];userResponseIndex[i(0x3c1)+'e'](c6),markFiltersChanged(),markUserIndexChanged(),await e[i(0x277)](i(0x28c)+i(0x46e)+i(0x23e)+i(0x34b)+i(0x4a5)+i(0x47f)+'\x20\x22'+c4[i(0x2ed)+i(0x2bd)]+'\x22.'),pendingAdminActions[i(0x3c1)+'e'](bK);break;}case i(0x3c1)+i(0x210)+i(0x2e6)+i(0x284):{const c7=bH[i(0x42f)]();if(!c7)return e[i(0x277)](await applyFont(name,i(0x3a7)+i(0x16e)+i(0x1fd)+i(0x1f4)),{'reply_markup':generateCancelKeyboard(bP)});const c8=listButtons(bP),c9=c8[i(0x3c7)](cc=>cc[i(0x19e)]===c7);if(!c9){let cc='';for(const cd of c8){const ce=levenshteinDistance(c7,cd[i(0x19e)]);ce<=LEVENSHTEIN_DISTANCE_THRESHOLD&&(cc+=i(0x29f)+i(0x1c2)+i(0x24b)+'\x20'+cd[i(0x19e)]+'?\x0a');}return e[i(0x277)](i(0x2b0)+i(0x25d)+i(0x182)+i(0x2e9)+(cc||i(0x437)+i(0x1d2)+i(0x175)+i(0x489)+i(0x2c1)),{'reply_markup':generateCancelKeyboard(bP)});}const ca=[],cb=getChatFilters(bP);for(const [cf,cg]of cb[i(0x346)+'es']()){if(cg&&!cg[i(0x1a1)+i(0x46c)+'f']){const ch=cg[i(0x458)+'ns']?.[i(0x3c7)](ci=>ci[i(0x19e)]===c7);ch&&ca[i(0x27b)](cf);}}pendingAdminActions[i(0x255)](bK,{'type':i(0x3c1)+i(0x210)+i(0x183)+i(0x3d8),'chatId':bP,'buttonName':c7,'matches':ca,'ts':Date[i(0x4be)]()});if(ca[i(0x4cd)+'h']===0x0)return pendingAdminActions[i(0x3c1)+'e'](bK),e[i(0x277)](i(0x429)+i(0x45d)+i(0x493)+i(0x482)+i(0x456)+i(0x3af)+i(0x405)+i(0x28d)+i(0x360)+i(0x47f)+i(0x21e)+i(0x38f)+i(0x1e7)+i(0x25a)+i(0x3cc),{'reply_markup':generateCancelKeyboard(bP)});else{if(ca[i(0x4cd)+'h']===0x1){const ci=delButton(bP,c7,ca[0x0]);ci[i(0x3c1)+'ed']?await e[i(0x277)](i(0x4d1)+i(0x208)+i(0x191)+i(0x17c)+i(0x320)+i(0x1a3)+ca[0x0]+'\x22.'):await e[i(0x277)](i(0x2dc)+i(0x43f)+i(0x35e)+i(0x37e)+i(0x271)+'.'),pendingAdminActions[i(0x3c1)+'e'](bK);}else{let ck=i(0x456)+i(0x21f)+i(0x323)+i(0x169)+i(0x43e)+i(0x2ed)+i(0x371);ca[i(0x214)+'ch']((cl,cm)=>{ck+=cm+0x1+'.\x20'+cl+'\x0a';}),ck+=i(0x3db)+i(0x32e)+i(0x185)+i(0x2e3)+i(0x447)+i(0x263)+i(0x2ed)+i(0x3fe)+i(0x3c1)+i(0x2ac)+'m.',await e[i(0x277)](ck,{'reply_markup':generateCancelKeyboard(bP)});}}break;}case i(0x3c1)+i(0x210)+i(0x183)+i(0x3d8):{if(!bO[i(0x4b6)+'es']||!Array[i(0x49d)+'ay'](bO[i(0x4b6)+'es']))return pendingAdminActions[i(0x3c1)+'e'](bK),e[i(0x277)](i(0x1dd)+i(0x235)+i(0x3b1)+i(0x1d8)+i(0x270)+i(0x464)+i(0x229)+i(0x28e)+i(0x333)+i(0x1da)+i(0x22f)+i(0x168)+i(0x2aa)+i(0x2d6)+i(0x199)+'.',{'reply_markup':generateCancelKeyboard(bP)});const cl=parseInt(bH[i(0x42f)]());if(isNaN(cl)||cl<0x1||cl>bO[i(0x4b6)+'es'][i(0x4cd)+'h'])return e[i(0x277)](i(0x217)+i(0x1d8)+i(0x270)+i(0x4ca)+i(0x2f1)+i(0x32b)+i(0x356)+'.',{'reply_markup':generateCancelKeyboard(bP)});const cm=bO[i(0x4b6)+'es'][cl-0x1],cn=delButton(bP,bO[i(0x458)+i(0x4a7)],cm);cn[i(0x3c1)+'ed']?await e[i(0x277)](i(0x4d1)+i(0x208)+i(0x191)+i(0x17c)+i(0x320)+i(0x1a3)+cm+'\x22.'):await e[i(0x277)](i(0x2dc)+i(0x43f)+i(0x35e)+i(0x37e)+i(0x271)+'.'),pendingAdminActions[i(0x3c1)+'e'](bK);break;}case i(0x4da)+i(0x3e2)+i(0x1e2)+i(0x20c):{const co=bH[i(0x4c1)]('\x0a'),cp=co[0x0][i(0x42f)](),cq=co[i(0x36e)](0x1)[i(0x2ed)+'r'](cs=>cs[i(0x309)+i(0x4f4)]('!'))[i(0x24a)](cs=>cs[i(0x36e)](0x1)[i(0x42f)]());if(!cp||cq[i(0x4cd)+'h']===0x0)return e[i(0x277)](i(0x261)+i(0x3b4)+i(0x1b8)+i(0x485)+i(0x383)+i(0x18e)+i(0x321)+i(0x3e2)+i(0x457)+i(0x3be),{'reply_markup':generateCancelKeyboard(bP)});const cr=addResponsesOnly(bP,cp,cq[i(0x24a)](cs=>({'text':cs,'entities':[]})));cr>0x0?await e[i(0x277)](i(0x403)+i(0x1e0)+cr+(i(0x17a)+i(0x3c3)+i(0x4dc)+i(0x17d)+i(0x16a))+cp+'\x22.'):await e[i(0x277)](i(0x4fa)+i(0x226)+i(0x3e2)+i(0x202)+i(0x211)+i(0x1b5)+i(0x1f7)+i(0x18f)+i(0x34d)+i(0x247)),pendingAdminActions[i(0x3c1)+'e'](bK);break;}case i(0x4f3)+i(0x271)+i(0x24d)+'pt':{const cs=bH[i(0x4c1)]('\x0a')[i(0x24a)](cy=>cy[i(0x42f)]()),ct=cs[0x0];let cu=[],cv=[],cw=0x1;if(cs[i(0x4cd)+'h']>0x1){const cy=cs[0x1][i(0x421)+i(0x292)+'e'](),cz=cy[i(0x4b6)](/^(?:button\s*)?([0-9:]+)$/);cz&&(cv=cz[0x1][i(0x4c1)](':')[i(0x24a)](Number),cw=0x2);}for(let cA=cw;cA<cs[i(0x4cd)+'h'];cA++){const cB=cs[cA];if(cB[i(0x309)+i(0x4f4)]('?')){const cC=cB[i(0x4b6)](/^\?([^\(]+)\(([^)]+)\)/);if(cC){const cD=cC[0x1][i(0x42f)](),cE=cC[0x2][i(0x42f)]();cE&&/^https?:\/\//[i(0x4e5)](cE)?cu[i(0x27b)]({'name':cD,'url':cE}):error(i(0x217)+i(0x414)+i(0x452)+i(0x4f3)+i(0x271)+i(0x24d)+i(0x272)+cE);}}}if(!ct||cu[i(0x4cd)+'h']===0x0)return e[i(0x277)](i(0x261)+i(0x3b4)+i(0x1b8)+i(0x221)+i(0x32d)+i(0x431)+i(0x458)+i(0x3e5)+i(0x441)+i(0x293)+i(0x38e)+i(0x44e)+i(0x4ee)+i(0x1b2)+i(0x426)+i(0x45a)+i(0x2b4)+i(0x3fd)+i(0x3c0)+i(0x2f3)+i(0x438)+i(0x365)+i(0x345)+i(0x189)+i(0x4e0),{'reply_markup':generateCancelKeyboard(bP)});const cx=addButtonsToFilter(bP,ct,cu,cv);cx>0x0||cv[i(0x4cd)+'h']>0x0?await e[i(0x277)](i(0x403)+i(0x1e0)+cx+(i(0x175)+i(0x3c9)+i(0x368)+i(0x1df)+i(0x4dd)+i(0x4f8)+i(0x459)+i(0x4f1)+i(0x1a3))+ct+'\x22.'):await e[i(0x277)](i(0x4fa)+i(0x32c)+i(0x271)+i(0x1ad)+i(0x2da)+i(0x23a)+i(0x382)+i(0x22a)+i(0x1d0)+i(0x1aa)+i(0x4a0)+i(0x32a)+i(0x414)+i(0x444)+i(0x171)+i(0x3e8)+i(0x207)+i(0x2df)+i(0x3cc)),pendingAdminActions[i(0x3c1)+'e'](bK);break;}}return;}if(bM===i(0x38d)+'er'){if(bH[i(0x42f)]()===i(0x38d)+'er'){let cF=bJ,cG=i(0x2ec)+i(0x25c);if(bI===i(0x223)+'te'){const cJ=await getDefault();if(!cJ)return e[i(0x277)](await applyFont(name,i(0x4fa)+i(0x1cb)+i(0x2d9)+i(0x3a0)+i(0x31c)+i(0x48f)));const cK=await getConnection(cJ);if(!cK)return e[i(0x277)](await applyFont(name,i(0x2b5)+i(0x495)+i(0x25c)+'\x20\x27'+cJ+(i(0x42e)+i(0x405)+'d.')));cF=cK;try{const cL=await botApi[i(0x453)+'at'](cF);cG=i(0x27d)+escapeHtml(cL[i(0x2d1)]||i(0x297)+i(0x1a2)+'at')+i(0x358);}catch(cM){cG=i(0x43c)+'>'+cF+i(0x358);}}else try{const cN=await botApi[i(0x453)+'at'](cF);cG=i(0x27d)+escapeHtml(cN[i(0x2d1)]||i(0x297)+i(0x1a2)+'at')+i(0x358);}catch(cO){}const cH=generateAdminPanelKeyboard(cF),cI=''+await applyFont(name,i(0x3dd)+i(0x4e3)+i(0x3f6)+i(0x4f6)+i(0x36c))+cG;return e[i(0x277)](cI,{'reply_markup':cH,'parse_mode':i(0x307)});}try{const cP=parseFilterCommandAndContent(bH,bL);if(!cP[i(0x2ed)+i(0x2bd)+'s'][i(0x4cd)+'h'])return e[i(0x277)](await applyFont(name,i(0x37a)+i(0x256)+i(0x42d)+i(0x4d5)+i(0x2b8)+i(0x498)));if(!cP[i(0x281)+i(0x424)][i(0x4cd)+'h'])return e[i(0x277)](await applyFont(name,i(0x37a)+i(0x256)+i(0x42d)+i(0x1f0)+i(0x47d)+i(0x4fc)+i(0x281)+i(0x349)));let cQ=bJ,cR=i(0x2ec)+i(0x25c);if(bI===i(0x223)+'te'){const cV=await getDefault();if(!cV)return e[i(0x277)](await applyFont(name,i(0x4fa)+i(0x1cb)+i(0x2d9)+i(0x3a0)+i(0x31c)+i(0x48f)));const cW=await getConnection(cV);if(!cW)return e[i(0x277)](await applyFont(name,i(0x2b5)+i(0x495)+i(0x25c)+'\x20\x27'+cV+(i(0x42e)+i(0x405)+'d.')));cQ=cW;try{const cX=await botApi[i(0x453)+'at'](cQ);cR=i(0x27d)+escapeHtml(cX[i(0x2d1)]||i(0x297)+i(0x1a2)+'at')+i(0x358);}catch(cY){cR=i(0x43c)+'>'+cQ+i(0x358);}}else try{const cZ=await botApi[i(0x453)+'at'](cQ);cR=i(0x27d)+escapeHtml(cZ[i(0x2d1)]||i(0x297)+i(0x1a2)+'at')+i(0x358);}catch(d0){}addFilter(cQ,cP[i(0x2ed)+i(0x2bd)+'s'],cP[i(0x281)+i(0x424)],cP[i(0x458)+'ns']);let cS='';for(let d1=0x0;d1<Math[i(0x40c)](0x2,cP[i(0x281)+i(0x424)][i(0x4cd)+'h']);d1++){const d2=cP[i(0x281)+i(0x424)][d1][i(0x428)][i(0x4cd)+'h']>0x32?cP[i(0x281)+i(0x424)][d1][i(0x428)][i(0x466)+i(0x1f3)](0x0,0x2f)+i(0x3be):cP[i(0x281)+i(0x424)][d1][i(0x428)];cS+=i(0x325)+d2+'\x0a';}cP[i(0x281)+i(0x424)][i(0x4cd)+'h']>0x2&&(cS+=i(0x3a4)+i(0x2cc)+(cP[i(0x281)+i(0x424)][i(0x4cd)+'h']-0x2)+(i(0x2f6)+'\x0a'));const cT=cP[i(0x2ed)+i(0x2bd)+'s'][i(0x2b7)](',\x20'),cU=cP[i(0x458)+'ns'][i(0x4cd)+'h']>0x0?i(0x3d4)+cP[i(0x458)+'ns'][i(0x4cd)+'h']+(i(0x175)+i(0x3c9)):'';return e[i(0x277)](''+await applyFont(name,i(0x2af)+i(0x48c)+i(0x49c)+i(0x28d))+cR+'\x20'+cU+'\x0a\x0a'+(i(0x198)+i(0x41c)+i(0x38c)+'\x20'+escapeHtml(cT)+'\x0a\x0a')+(i(0x3cb)+i(0x282)+i(0x1bd)+i(0x4ae)+escapeHtml(cS)),{'parse_mode':i(0x307),'disable_web_page_preview':!![]});}catch(d3){return error(i(0x3dd)+i(0x2ae)+i(0x3cd)+i(0x40b)+':\x20'+d3[i(0x39e)+'ge'],d3),e[i(0x277)](await applyFont(name,i(0x1dd)+i(0x2fa)+i(0x363)+i(0x338)+i(0x204)+d3[i(0x39e)+'ge']+'\x0a\x0a'+(i(0x261)+i(0x1bf)+i(0x47f)+i(0x17d)+i(0x2eb)+i(0x47f)+'2\x0a')+(i(0x205)+i(0x46e)+i(0x3eb))+(i(0x205)+i(0x46e)+i(0x475))+(i(0x458)+i(0x21b)+'\x0a')+(i(0x2f3)+i(0x1fa)+i(0x365)+i(0x345)+i(0x189)+i(0x4e0))),{'parse_mode':i(0x307)});}}if(bM===i(0x46b)+i(0x47f)){const d4=bH[i(0x36e)](bM[i(0x4cd)+'h'])[i(0x42f)]()[i(0x4c1)](',')[i(0x24a)](d6=>d6[i(0x42f)]())[i(0x2ed)+'r'](Boolean);if(!d4[i(0x4cd)+'h'])return e[i(0x277)](await applyFont(name,i(0x1b4)+i(0x203)+i(0x389)+i(0x381)+i(0x3b8)+i(0x4e4)+i(0x3c8)));let d5=bJ;if(bI===i(0x223)+'te'){const d6=await getDefault();if(!d6)return e[i(0x277)](await applyFont(name,i(0x4fa)+i(0x1cb)+i(0x2d9)+i(0x1ff)));const d7=await getConnection(d6);if(!d7)return e[i(0x277)](await applyFont(name,i(0x330)+i(0x26e)+d6+(i(0x42e)+i(0x405)+'d.')));const d8=delFilter(d5,d4);let d9='';d8[i(0x3c1)+'ed'][i(0x4cd)+'h']>0x0&&(d9+=i(0x49a)+i(0x264)+'\x20'+d8[i(0x3c1)+'ed'][i(0x2b7)](',\x20')+'\x0a');if(d8[i(0x16f)+i(0x283)][i(0x4cd)+'h']>0x0){d9+=i(0x328)+i(0x405)+i(0x192)+d8[i(0x16f)+i(0x283)][i(0x2b7)](',\x20')+'\x0a';for(const dc of d8[i(0x16f)+i(0x283)]){d8[i(0x3a6)+i(0x1bb)+'s'][i(0x1e6)](dc)&&(d9+=i(0x29f)+i(0x1c2)+i(0x24b)+'\x20'+d8[i(0x3a6)+i(0x1bb)+'s'][i(0x3e0)](dc)+'?\x0a');}}let da=i(0x2d7)+d5;try{const dd=await botApi[i(0x453)+'at'](d5);da=i(0x27d)+escapeHtml(dd[i(0x2d1)])+i(0x358);}catch(de){}return e[i(0x277)](''+await applyFont(name,i(0x3dd)+i(0x351)+i(0x1c5)+i(0x24e)+i(0x4ef)+'r\x20')+da+await applyFont(name,':\x0a')+d9,{'parse_mode':i(0x307)});}else{const df=delFilter(bJ,d4);let dg='';df[i(0x3c1)+'ed'][i(0x4cd)+'h']>0x0&&(dg+=i(0x49a)+i(0x264)+'\x20'+df[i(0x3c1)+'ed'][i(0x2b7)](',\x20')+'\x0a');if(df[i(0x16f)+i(0x283)][i(0x4cd)+'h']>0x0){dg+=i(0x328)+i(0x405)+i(0x192)+df[i(0x16f)+i(0x283)][i(0x2b7)](',\x20')+'\x0a';for(const dh of df[i(0x16f)+i(0x283)]){df[i(0x3a6)+i(0x1bb)+'s'][i(0x1e6)](dh)&&(dg+=i(0x29f)+i(0x1c2)+i(0x24b)+'\x20'+df[i(0x3a6)+i(0x1bb)+'s'][i(0x3e0)](dh)+'?\x0a');}}return e[i(0x277)](dg||i(0x4fa)+i(0x2ed)+i(0x468)+i(0x4f9)+'.');}}if(bM===i(0x3ff)+i(0x2ed)+'r'){let di=bJ;if(bI===i(0x223)+'te'){const dk=await getDefault();if(!dk)return e[i(0x277)](await applyFont(name,i(0x4fa)+i(0x1cb)+i(0x2d9)+i(0x1ff)));const dl=await getConnection(dk);if(!dl)return e[i(0x277)](await applyFont(name,i(0x330)+i(0x26e)+dk+(i(0x42e)+i(0x405)+'d.')));di=dl;}const dj=await generateFilterListPage(di,0x1);return e[i(0x277)](dj[i(0x428)],{...dj});}if(bM===i(0x166)+i(0x458)+'ns'){let dm=bJ;if(bI===i(0x223)+'te'){const dp=await getDefault();if(!dp)return e[i(0x277)](await applyFont(name,i(0x4fa)+i(0x1cb)+i(0x2d9)+i(0x1ff)));const dq=await getConnection(dp);if(!dq)return e[i(0x277)](await applyFont(name,i(0x330)+i(0x26e)+dp+(i(0x42e)+i(0x405)+'d.')));dm=dq;}const dn=await generateButtonListPage(dm,0x1);return e[i(0x277)](dn[i(0x428)],{...dn});}if(bM===i(0x3a5)+i(0x3e2)+'se'){const dr=bH[i(0x36e)](bM[i(0x4cd)+'h'])[i(0x42f)]();if(!dr)return e[i(0x277)](await applyFont(name,i(0x1b4)+i(0x203)+i(0x4c9)+i(0x18e)+i(0x201)+i(0x49f)));let ds=bJ;if(bI===i(0x223)+'te'){const dv=await getDefault();if(!dv)return e[i(0x277)](await applyFont(name,i(0x4fa)+i(0x1cb)+i(0x2d9)+i(0x1ff)));const dw=await getConnection(dv);if(!dw)return e[i(0x277)](await applyFont(name,i(0x330)+i(0x26e)+dv+(i(0x42e)+i(0x405)+'d.')));ds=dw;}const dt=delResponse(ds,dr);let du=i(0x2d7)+ds;try{if(ds!==bJ){const dx=await botApi[i(0x453)+'at'](ds);du=i(0x27d)+escapeHtml(dx[i(0x2d1)]||i(0x297)+'wn')+i(0x358);}else du=i(0x2ec)+i(0x25c);}catch(dy){}if(dt[i(0x2b6)+'s']===i(0x3b3)+i(0x29c)){let dz=i(0x31a)+i(0x398)+i(0x4ac)+i(0x243)+i(0x373);return dt[i(0x4b6)+'es'][i(0x214)+'ch']((dA,dB)=>{const dC=i,dD=dA[dC(0x281)+dC(0x299)+'xt'][dC(0x4cd)+'h']>0x32?dA[dC(0x281)+dC(0x299)+'xt'][dC(0x466)+dC(0x1f3)](0x0,0x2f)+dC(0x3be):dA[dC(0x281)+dC(0x299)+'xt'];dz+=dB+0x1+(dC(0x43a)+dC(0x2b3))+dA[dC(0x2ed)+dC(0x2bd)]+dC(0x2ca)+dD+'\x22\x0a';}),dz+=i(0x3db)+i(0x32e)+i(0x185)+i(0x2e3)+i(0x447)+i(0x263)+i(0x281)+i(0x1cd)+i(0x35e)+i(0x2fd),pendingAdminActions[i(0x255)](bK,{'type':i(0x3a1)+i(0x27a)+i(0x4c9)+i(0x2b2)+i(0x4ce)+'t','chatId':ds,'matches':dt[i(0x4b6)+'es'],'ts':Date[i(0x4be)]()}),e[i(0x277)](dz,{'reply_markup':generateCancelKeyboard(ds)});}return e[i(0x277)](''+await applyFont(name,i(0x1d1)+i(0x4ec)+'\x20')+du+await applyFont(name,':\x0a')+dt[i(0x39e)+'ge'],{'parse_mode':dt[i(0x1fe)+i(0x1a6)]||i(0x307)});}if(bM[i(0x309)+i(0x4f4)](i(0x3a5)+i(0x3e2)+i(0x188))&&!isNaN(parseInt(bH[i(0x4c1)]('\x20')[0x1]))){const dA=parseInt(bH[i(0x4c1)]('\x20')[0x1]),dB=pendingAdminActions[i(0x3e0)](bK);if(!dB||dB[i(0x4b9)]!==i(0x3a1)+i(0x27a)+i(0x4c9)+i(0x2b2)+i(0x4ce)+'t'||!dB[i(0x4b6)+'es']||!Array[i(0x49d)+'ay'](dB[i(0x4b6)+'es']))return pendingAdminActions[i(0x3c1)+'e'](bK),e[i(0x277)](i(0x4fa)+i(0x2c5)+i(0x3d7)+i(0x170)+i(0x3e2)+i(0x359)+i(0x270)+i(0x4ca)+i(0x2f1)+i(0x317)+i(0x4a1)+i(0x318)+i(0x172)+i(0x25b)+i(0x2d5)+i(0x3d4)+i(0x3a5)+i(0x3e2)+i(0x200)+i(0x4ba),{'reply_markup':generateCancelKeyboard(dB?.[i(0x44a)+'d']||bJ)});if(dA<0x1||dA>dB[i(0x4b6)+'es'][i(0x4cd)+'h'])return e[i(0x277)](i(0x1ac)+i(0x496)+i(0x4ce)+i(0x35d)+i(0x3d0)+i(0x341)+i(0x362)+i(0x472)+i(0x419),{'reply_markup':generateCancelKeyboard(dB[i(0x44a)+'d'])});const dC=dB[i(0x4b6)+'es'][dA-0x1],dD=getChatFilters(dB[i(0x44a)+'d'])[i(0x3e0)](dC[i(0x2ed)+i(0x2bd)]);dD[i(0x281)+i(0x424)][i(0x31f)+'e'](dC[i(0x281)+i(0x1e5)+i(0x248)],0x1);const dE=dB[i(0x44a)+'d']+'_'+dC[i(0x2ed)+i(0x2bd)];return userResponseIndex[i(0x3c1)+'e'](dE),markFiltersChanged(),markUserIndexChanged(),pendingAdminActions[i(0x3c1)+'e'](bK),e[i(0x277)](i(0x28c)+i(0x46e)+i(0x23e)+i(0x34b)+i(0x4a5)+i(0x47f)+'\x20\x22'+dC[i(0x2ed)+i(0x2bd)]+'\x22.');}if(bM===i(0x46b)+i(0x458)+'n'){const dF=bH[i(0x36e)](bM[i(0x4cd)+'h'])[i(0x42f)]();if(!dF)return e[i(0x277)](await applyFont(name,i(0x1b4)+i(0x203)+i(0x1cf)+i(0x42c)+i(0x271)+i(0x486)));let dG=bJ;if(bI===i(0x223)+'te'){const dL=await getDefault();if(!dL)return e[i(0x277)](await applyFont(name,i(0x4fa)+i(0x1cb)+i(0x2d9)+i(0x1ff)));const dM=await getConnection(dL);if(!dM)return e[i(0x277)](await applyFont(name,i(0x330)+i(0x26e)+dL+(i(0x42e)+i(0x405)+'d.')));dG=dM;}const dH=listButtons(dG),dI=dH[i(0x3c7)](dN=>dN[i(0x19e)]===dF);if(!dI){let dN='';for(const dO of dH){const dP=levenshteinDistance(dF,dO[i(0x19e)]);dP<=LEVENSHTEIN_DISTANCE_THRESHOLD&&(dN+=i(0x29f)+i(0x1c2)+i(0x24b)+'\x20'+dO[i(0x19e)]+'?\x0a');}return e[i(0x277)](i(0x2b0)+i(0x25d)+i(0x182)+i(0x2e9)+(dN||i(0x437)+i(0x1d2)+i(0x175)+i(0x489)+i(0x2c1)),{'reply_markup':generateCancelKeyboard(dG)});}const dJ=[],dK=getChatFilters(dG);for(const [dQ,dR]of dK[i(0x346)+'es']()){if(dR&&!dR[i(0x1a1)+i(0x46c)+'f']){const dS=dR[i(0x458)+'ns']?.[i(0x3c7)](dT=>dT[i(0x19e)]===dF);dS&&dJ[i(0x27b)](dQ);}}pendingAdminActions[i(0x255)](bK,{'type':i(0x3a1)+i(0x27a)+i(0x1cf)+i(0x183)+i(0x3d8),'chatId':dG,'buttonName':dF,'matches':dJ,'ts':Date[i(0x4be)]()});if(dJ[i(0x4cd)+'h']===0x0)return pendingAdminActions[i(0x3c1)+'e'](bK),e[i(0x277)](i(0x429)+i(0x45d)+i(0x493)+i(0x482)+i(0x456)+i(0x3af)+i(0x405)+i(0x28d)+i(0x360)+i(0x47f)+i(0x21e)+i(0x38f)+i(0x1e7)+i(0x25a)+i(0x3cc),{'reply_markup':generateCancelKeyboard(dG)});else{if(dJ[i(0x4cd)+'h']===0x1){const dT=delButton(dG,dF,dJ[0x0]);dT[i(0x3c1)+'ed']?await e[i(0x277)](i(0x4d1)+i(0x208)+i(0x191)+i(0x17c)+i(0x320)+i(0x1a3)+dJ[0x0]+'\x22.'):await e[i(0x277)](i(0x2dc)+i(0x43f)+i(0x35e)+i(0x37e)+i(0x271)+'.'),pendingAdminActions[i(0x3c1)+'e'](bK);}else{let dU=i(0x456)+i(0x21f)+i(0x323)+i(0x169)+i(0x43e)+i(0x2ed)+i(0x371);dJ[i(0x214)+'ch']((dV,dW)=>{dU+=dW+0x1+'.\x20'+dV+'\x0a';}),dU+=i(0x3db)+i(0x32e)+i(0x185)+i(0x2e3)+i(0x447)+i(0x263)+i(0x2ed)+i(0x3fe)+i(0x3c1)+i(0x2ac)+'m.',await e[i(0x277)](dU,{'reply_markup':generateCancelKeyboard(dG)});}}}if(bM[i(0x309)+i(0x4f4)](i(0x46b)+i(0x458)+'n\x20')&&!isNaN(parseInt(bH[i(0x4c1)]('\x20')[0x1]))){const dV=parseInt(bH[i(0x4c1)]('\x20')[0x1]),dW=pendingAdminActions[i(0x3e0)](bK);if(!dW||dW[i(0x4b9)]!==i(0x3a1)+i(0x27a)+i(0x1cf)+i(0x183)+i(0x3d8)||!dW[i(0x4b6)+'es']||!Array[i(0x49d)+'ay'](dW[i(0x4b6)+'es']))return pendingAdminActions[i(0x3c1)+'e'](bK),e[i(0x277)](i(0x4fa)+i(0x2c5)+i(0x3d7)+i(0x3df)+i(0x271)+i(0x3f0)+i(0x4c2)+i(0x370)+i(0x4d2)+i(0x167)+i(0x4e8)+i(0x23e)+i(0x35d)+i(0x1b3)+i(0x2cb)+i(0x4a3)+i(0x45b)+i(0x1fd)+i(0x384)+'].',{'reply_markup':generateCancelKeyboard(dW?.[i(0x44a)+'d']||bJ)});if(dV<0x1||dV>dW[i(0x4b6)+'es'][i(0x4cd)+'h'])return e[i(0x277)](i(0x1ac)+i(0x496)+i(0x4ce)+i(0x35d)+i(0x3d0)+i(0x341)+i(0x362)+i(0x472)+i(0x419),{'reply_markup':generateCancelKeyboard(dW[i(0x44a)+'d'])});const dX=dW[i(0x4b6)+'es'][dV-0x1],dY=delButton(dW[i(0x44a)+'d'],dW[i(0x458)+i(0x4a7)],dX);return pendingAdminActions[i(0x3c1)+'e'](bK),dY[i(0x3c1)+'ed']?e[i(0x277)](i(0x4d1)+i(0x208)+i(0x191)+i(0x17c)+i(0x320)+i(0x1a3)+dX+'\x22.'):e[i(0x277)](i(0x2dc)+i(0x43f)+i(0x35e)+i(0x37e)+i(0x271)+'.');}if(bI!==i(0x223)+'te'&&bH){const dZ=getChatFilters(bJ),e0=matchFilter(dZ,bH);if(e0){const e1=dZ[i(0x3e0)](e0);if(e1?.[i(0x281)+i(0x424)]?.[i(0x4cd)+'h']>0x0){const e2=bJ+'_'+e0;let e3=userResponseIndex[i(0x3e0)](e2)||0x0;const e4=e1[i(0x281)+i(0x424)][e3];if(e4){const e5=formatTextWithEntities(e4[i(0x428)],e4[i(0x2e8)+i(0x1c6)]),e6={'reply_parameters':{'message_id':e[i(0x39e)+'ge'][i(0x39e)+i(0x1ab)]},'parse_mode':i(0x307),'disable_web_page_preview':!![]};if(e1[i(0x458)+'ns']?.[i(0x4cd)+'h']>0x0){const e7=new InlineKeyboard();let e8=0x0;if(e1[i(0x293)+'t']&&e1[i(0x293)+'t'][i(0x4cd)+'h']>0x0)for(const e9 of e1[i(0x293)+'t']){const ea=[];for(let eb=0x0;eb<e9;eb++){if(e8<e1[i(0x458)+'ns'][i(0x4cd)+'h']){const ec=e1[i(0x458)+'ns'][e8];ea[i(0x27b)](InlineKeyboard[i(0x1d6)](ec[i(0x19e)],ec[i(0x1d6)])),e8++;}}ea[i(0x4cd)+'h']>0x0&&e7[i(0x1db)](...ea);}else for(const ed of e1[i(0x458)+'ns']){e7[i(0x1d6)](ed[i(0x19e)],ed[i(0x1d6)]),e8++;if(e8%0x8===0x0)e7[i(0x1db)]();}e6[i(0x277)+i(0x2ff)+'up']=e7;}await e[i(0x277)](e5,e6),userResponseIndex[i(0x255)](e2,(e3+0x1)%e1[i(0x281)+i(0x424)][i(0x4cd)+'h']),markUserIndexChanged();}}}}}export async function onCallbackQuery(e){const B=a0bI,C=e[B(0x308)+B(0x41f)+B(0x3f7)]?.[B(0x4bc)],D=e[B(0x374)]?.['id'];if(C?.[B(0x309)+B(0x4f4)](CALLBACK_PREFIX)){const E=C[B(0x4c1)]('::'),F=E[0x1],G=Number(E[0x2]),H=Number(E[0x3]);if(isNaN(G)||isNaN(H)){await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]({'text':B(0x217)+B(0x4f2)+B(0x30b),'show_alert':!![]});return;}if(!isAdmin(e)){await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]({'text':B(0x313)+B(0x4e7)+B(0x4c6)+'d.','show_alert':!![]});return;}if(F===B(0x389)+'p'||F===B(0x173)){const M=F===B(0x389)+'p'?await generateFilterListPage(G,H):await generateButtonListPage(G,H);try{await e[B(0x1c0)+B(0x4d4)+B(0x209)](M[B(0x428)],{...M}),await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]();}catch(N){!N[B(0x2ee)+B(0x23c)+'n']?.[B(0x29a)+B(0x240)](B(0x39e)+B(0x4bf)+B(0x4bd)+B(0x303)+B(0x471))?(error(B(0x2c6)+B(0x26b)+B(0x48b)+'\x20'+N[B(0x39e)+'ge'],N),await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]({'text':B(0x476)+':\x20'+N[B(0x39e)+'ge'],'show_alert':!![]})):await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]();}return;}if(F===B(0x30f)){await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]();return;}const I=E[0x2],J=pendingActions[B(0x3e0)](I);if(!J||J['ts']+PENDING_ACTION_TTL_MS<Date[B(0x4be)]()){await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]({'text':B(0x2dd)+B(0x218)+B(0x46f)+'d.','show_alert':!![]});return;}if(!isAdmin(e)){await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]({'text':B(0x313)+B(0x4e7)+B(0x4c6)+'d.','show_alert':!![]});return;}pendingActions[B(0x3c1)+'e'](I);const {payload:K}=J,L=K[B(0x44a)+'d'];try{switch(F){case B(0x3ef)+'t':{if(K[B(0x4a8)]===B(0x3c1)+B(0x20b))setFilter(L,K[B(0x1fe)+B(0x2fe)+B(0x40e)][B(0x2ed)+B(0x2bd)+'s'],K[B(0x1fe)+B(0x2fe)+B(0x40e)][B(0x281)+B(0x424)],K[B(0x1fe)+B(0x2fe)+B(0x40e)][B(0x458)+'ns']),await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]({'text':B(0x2af)+B(0x4ed)+B(0x225)+B(0x3cc)}),await e[B(0x1c0)+B(0x4d4)+B(0x209)](await applyFont(name,B(0x399)+B(0x406)+B(0x342)+B(0x478)+L));else{if(K[B(0x4a8)]===B(0x4da)+B(0x3e2)+'se'){let O=addResponsesOnly(L,K[B(0x1fe)+B(0x2fe)+B(0x40e)][B(0x2ed)+B(0x2bd)+'s'][0x0],K[B(0x1fe)+B(0x2fe)+B(0x40e)][B(0x281)+B(0x424)]);await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]({'text':B(0x403)+B(0x1e0)+O+(B(0x17a)+B(0x3c3)+B(0x446))}),await e[B(0x1c0)+B(0x4d4)+B(0x209)](await applyFont(name,B(0x403)+B(0x19b)+B(0x1c3)+L));}}break;}default:await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]({'text':B(0x297)+B(0x165)+B(0x1be),'show_alert':!![]});}}catch(P){error(B(0x2c6)+B(0x26b)+B(0x48b)+'\x20'+P[B(0x39e)+'ge'],P),await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]({'text':B(0x476)+':\x20'+P[B(0x39e)+'ge'],'show_alert':!![]});}return;}if(C?.[B(0x309)+B(0x4f4)](ADMIN_CALLBACK_PREFIX)){const Q=C[B(0x4c1)]('::'),R=Q[0x1],S=Number(Q[0x2]);if(isNaN(S)){await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]({'text':B(0x217)+B(0x40a)+B(0x31b)+'.','show_alert':!![]});return;}if(!isAdmin(e)){await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]({'text':B(0x313)+B(0x4e7)+B(0x4c6)+'d.','show_alert':!![]});return;}try{switch(R){case B(0x2a7):{D&&pendingAdminActions[B(0x3c1)+'e'](D);const T=generateAdminPanelKeyboard(S);let U=B(0x2d7)+S;try{const W=await botApi[B(0x453)+'at'](S);U=B(0x27d)+escapeHtml(W[B(0x2d1)]||B(0x297)+'wn')+B(0x358);}catch(X){}const V=''+await applyFont(name,B(0x1d9)+B(0x441))+U;await e[B(0x1c0)+B(0x4d4)+B(0x209)](V,{'reply_markup':T,'parse_mode':B(0x307)}),await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]();break;}case B(0x3d1)+B(0x47f)+'s':{const Y=await generateFilterListPage(S,0x1);await e[B(0x1c0)+B(0x4d4)+B(0x209)](Y[B(0x428)],{...Y}),await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]();break;}case B(0x2fb)+B(0x271)+'s':{const Z=await generateButtonListPage(S,0x1);await e[B(0x1c0)+B(0x4d4)+B(0x209)](Z[B(0x428)],{...Z}),await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]();break;}case B(0x231)+B(0x2c2)+B(0x47f):{if(!D){await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]({'text':B(0x4db)+B(0x460)+B(0x18d)+'.','show_alert':!![]});return;}pendingAdminActions[B(0x255)](D,{'type':B(0x3c1)+B(0x21c)+B(0x179)+B(0x284),'chatId':S,'ts':Date[B(0x4be)]()}),await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]({'text':B(0x232)+B(0x42b)+B(0x191)+'.','show_alert':!![]}),await e[B(0x277)](''+await applyFont(name,B(0x394)+B(0x2ed)+B(0x3a3)+B(0x19c)+B(0x415)+B(0x1a9)+B(0x4a2)+B(0x441)+B(0x2d7))+S,{'reply_markup':generateCancelKeyboard(S)});break;}case B(0x231)+B(0x2be)+B(0x3e2)+'se':{if(!D){await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]({'text':B(0x4db)+B(0x460)+B(0x18d)+'.','show_alert':!![]});return;}pendingAdminActions[B(0x255)](D,{'type':B(0x3c1)+B(0x334)+B(0x46e)+B(0x24d)+'pt','chatId':S,'ts':Date[B(0x4be)]()}),await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]({'text':B(0x232)+B(0x42b)+B(0x191)+'.','show_alert':!![]}),await e[B(0x277)](''+await applyFont(name,B(0x394)+B(0x26c)+B(0x17a)+B(0x18e)+B(0x377)+B(0x304)+'D\x20')+S,{'reply_markup':generateCancelKeyboard(S)});break;}case B(0x231)+B(0x2c2)+B(0x458)+'n':{if(!D){await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]({'text':B(0x4db)+B(0x460)+B(0x18d)+'.','show_alert':!![]});return;}pendingAdminActions[B(0x255)](D,{'type':B(0x3c1)+B(0x210)+B(0x2e6)+B(0x284),'chatId':S,'ts':Date[B(0x4be)]()}),await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]({'text':B(0x232)+B(0x42b)+B(0x191)+'.','show_alert':!![]}),await e[B(0x277)](''+await applyFont(name,B(0x394)+B(0x458)+B(0x16d)+B(0x160)+B(0x2e4))+S,{'reply_markup':generateCancelKeyboard(S)});break;}case B(0x231)+B(0x481)+B(0x3e2)+'se':{if(!D){await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]({'text':B(0x4db)+B(0x460)+B(0x18d)+'.','show_alert':!![]});return;}pendingAdminActions[B(0x255)](D,{'type':B(0x4da)+B(0x3e2)+B(0x1e2)+B(0x20c),'chatId':S,'ts':Date[B(0x4be)]()}),await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]({'text':B(0x232)+B(0x177)+B(0x236)+B(0x282)+B(0x219),'show_alert':!![]}),await e[B(0x277)](''+await applyFont(name,B(0x394)+B(0x499)+B(0x2bf)+B(0x4c8)+B(0x268)+B(0x393)+B(0x47b)+B(0x1c1)+B(0x220)+B(0x282)+B(0x3e6)+B(0x33b)+'D\x20')+S,{'reply_markup':generateCancelKeyboard(S)});break;}case B(0x231)+B(0x33e)+B(0x271):{if(!D){await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]({'text':B(0x4db)+B(0x460)+B(0x18d)+'.','show_alert':!![]});return;}pendingAdminActions[B(0x255)](D,{'type':B(0x4f3)+B(0x271)+B(0x24d)+'pt','chatId':S,'ts':Date[B(0x4be)]()}),await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]({'text':B(0x232)+B(0x177)+B(0x3b6)+B(0x439)+'.','show_alert':!![]}),await e[B(0x277)](''+await applyFont(name,B(0x394)+B(0x499)+B(0x2bf)+B(0x4c8)+B(0x268)+B(0x28b)+B(0x237)+B(0x2f8)+B(0x271)+B(0x310)+B(0x3ee)+B(0x409)+B(0x23f)+B(0x291)+B(0x16c)+B(0x456)+B(0x4d3)+B(0x34f)+B(0x23d)+B(0x4b4)+B(0x311)+B(0x1b2)+B(0x33f)+B(0x45a)+B(0x2b4)+B(0x3fd)+B(0x3c0)+B(0x3bf)+B(0x2d7))+S,{'reply_markup':generateCancelKeyboard(S)});break;}case B(0x357)+'ss':{await e[B(0x1c0)+B(0x4d4)+B(0x1b1)+B(0x3e9)+'up']({}),await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]({'text':B(0x445)+B(0x357)+B(0x2ba)}),D&&pendingAdminActions[B(0x3c1)+'e'](D);break;}default:await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]({'text':B(0x297)+B(0x165)+B(0x1be),'show_alert':!![]});}}catch(a0){error(B(0x1d9)+B(0x350)+B(0x1af)+B(0x40b)+':\x20'+a0[B(0x39e)+'ge'],a0),await e[B(0x19f)+B(0x265)+B(0x41a)+B(0x44f)]({'text':B(0x476)+':\x20'+a0[B(0x39e)+'ge'],'show_alert':!![]});}}}async function onShutdown(){const b=a0bI;info(b(0x380)+b(0x404)+b(0x187)+b(0x30a)+b(0x306)),clearTimeout(filterSaveTimer),clearTimeout(userIndexSaveTimer);try{await Promise[b(0x39d)]([saveAllFiltersToDB(),saveUserResponseIndexesToDB()]),info(b(0x257)+b(0x1f9)+b(0x194)+b(0x27e)+b(0x3ba));}catch(c){error(b(0x257)+b(0x324)+b(0x48b)+b(0x46a)+'s',c,c?.[b(0x379)]);}}export async function initialize(c){const d=a0bI;try{if(!c?.[d(0x176)])throw new Error(d(0x462)+d(0x3ae)+d(0x390)+d(0x448)+'d.');botApi=c[d(0x176)],await initDatabase(),await loadFiltersFromDB(),await loadUserResponseIndexesFromDB(),prunePendingInterval=setInterval(prunePendingTokens,0x3c*0x3c*0x3e8),c['on'](d(0x39e)+'ge',onMessage),c['on'](d(0x308)+d(0x46d)+d(0x44f),onCallbackQuery),process[d(0x22e)](d(0x487)+'T',onShutdown),process[d(0x22e)](d(0x467)+'RM',onShutdown),info(d(0x2af)+d(0x35b)+version+(d(0x3b7)+d(0x3da)+d(0x3cc)));}catch(e){error(d(0x1b6)+d(0x1eb)+d(0x192)+e[d(0x39e)+'ge']);throw e;}}