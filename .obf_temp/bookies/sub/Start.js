(function(a,b){const F=a0d,c=a();while(!![]){try{const d=-parseInt(F(0x203))/0x1*(-parseInt(F(0x1e9))/0x2)+-parseInt(F(0x245))/0x3+parseInt(F(0x271))/0x4+parseInt(F(0x246))/0x5+-parseInt(F(0x1e5))/0x6+parseInt(F(0x1e6))/0x7*(-parseInt(F(0x23b))/0x8)+parseInt(F(0x21d))/0x9*(parseInt(F(0x204))/0xa);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0c,0xbdbf6));const a0p=a0b;function a0b(d,e){const f=a0a();return a0b=function(k,l){const G=a0d;k=k-0x1d9;let m=f[k];if(a0b[G(0x1e1)+'c']===undefined){var n=function(v){const H=G,w=H(0x24b)+H(0x230)+H(0x1f8)+H(0x248)+H(0x27f)+H(0x1d1)+H(0x1df)+H(0x1d8)+H(0x213)+H(0x28a)+H(0x256)+H(0x1f1)+H(0x217);let x='',y='';for(let z=0x0,A,B,C=0x0;B=v[H(0x282)+'t'](C++);~B&&(A=z%0x4?A*0x40+B:B,z++%0x4)?x+=String[H(0x23f)+H(0x1f7)+'de'](0xff&A>>(-0x2*z&0x6)):0x0){B=w[H(0x215)+'Of'](B);}for(let D=0x0,E=x[H(0x265)+'h'];D<E;D++){y+='%'+('00'+x[H(0x221)+H(0x26a)](D)[H(0x1d7)+H(0x21a)](0x10))[H(0x288)](-0x2);}return decodeURIComponent(y);};a0b[G(0x274)+'O']=n,d=arguments,a0b[G(0x1e1)+'c']=!![];}const o=f[0x0],p=k+o,q=d[p];return!q?(m=a0b[G(0x274)+'O'](m),d[p]=m):m=q,m;},a0b(d,e);}(function(f,g){const I=a0d,h=a0b,i=f();while(!![]){try{const j=parseInt(h(0x1ec))/0x1*(-parseInt(h(0x20f))/0x2)+parseInt(h(0x259))/0x3*(parseInt(h(0x23d))/0x4)+parseInt(h(0x24d))/0x5*(parseInt(h(0x241))/0x6)+-parseInt(h(0x24f))/0x7*(-parseInt(h(0x1e5))/0x8)+-parseInt(h(0x208))/0x9+parseInt(h(0x243))/0xa*(parseInt(h(0x249))/0xb)+-parseInt(h(0x248))/0xc;if(j===g)break;else i[I(0x280)](i[I(0x1d2)]());}catch(k){i[I(0x280)](i[I(0x1d2)]());}}}(a0a,0x3c605));import{db}from'../../bookieutils/db.js';import{getConfig}from'../../bookieutils/config.js';function a0a(){const J=a0d,a=[J(0x28b)+'1q',J(0x27e)+'ci',J(0x1de)+'xG',J(0x27b)+'a',J(0x24c)+'Ia',J(0x1e7)+'q',J(0x1d6)+'ca',J(0x252)+'wC',J(0x216)+J(0x201)+J(0x24f)+J(0x22d),J(0x281)+'wu',J(0x1d9)+'Je',J(0x20d)+'Ia',J(0x218)+'Z4',J(0x231)+'hq',J(0x220)+'gW',J(0x284)+J(0x259)+'vd',J(0x269)+'eu',J(0x254)+'a',J(0x22c)+'Lm',J(0x285)+J(0x1d3)+'u',J(0x27c)+'w4',J(0x258)+'s4',J(0x253)+'xq',J(0x22f)+'ca',J(0x25e)+'u0',J(0x200)+'ui',J(0x28c)+'2u',J(0x27d)+'ca',J(0x268)+'MC',J(0x242)+'c4',J(0x276)+'wm',J(0x1d0)+'Ya',J(0x1e8)+'w8',J(0x1e0)+'Ya',J(0x237)+'wq',J(0x1f6)+J(0x21e),J(0x1d4)+'vq',J(0x279)+'fq',J(0x1fe)+'g4',J(0x1ed)+'Lq',J(0x1fa)+'vq',J(0x1eb)+'Me',J(0x270),J(0x206)+'ge',J(0x22e)+'3q',J(0x28f)+'W',J(0x262)+'ca',J(0x264)+'u4',J(0x266)+'ca',J(0x28e),J(0x21f)+'3i',J(0x1fd)+'gu',J(0x22b)+'Ku',J(0x1ee)+'2u',J(0x1f4)+'sa',J(0x1ea)+'u4',J(0x26e)+'Ke',J(0x21c)+'cu',J(0x263)+'2u',J(0x23e)+'2e',J(0x1f5)+'xi',J(0x1f3)+J(0x1e4)+'S',J(0x26c)+'hm',J(0x211)+'24',J(0x244)+'xm',J(0x1f0)+J(0x267)+'L2',J(0x27a)+'3q',J(0x240)+J(0x26b)+'m',J(0x24e)+'xi',J(0x287)+'xq',J(0x1f9)+'hu',J(0x228)+'hK',J(0x233)+J(0x22a)+J(0x255)+J(0x257),J(0x23a)+J(0x25a)+J(0x251)+J(0x20e),J(0x1e3)+'eu',J(0x260)+'um',J(0x234)+'xO',J(0x20b)+J(0x205)+J(0x202),J(0x239)+'gG',J(0x232)+J(0x247)+J(0x1dd),J(0x23d)+'3m',J(0x250)+'2u',J(0x24d)+'q',J(0x238)+'d0',J(0x235)+'vi',J(0x223)+'Nq',J(0x25c)+'de',J(0x1fb)+'xG',J(0x261)+'e4',J(0x273)+J(0x26f)+J(0x214),J(0x226)+'gK',J(0x1ef),J(0x289)+'q',J(0x229),J(0x28d)+'ge',J(0x1e2)+'2u',J(0x21b)+'g8',J(0x236),J(0x25f)+'ca',J(0x227)+'a',J(0x1dc)+'eu',J(0x27b)+'ca',J(0x23c),J(0x275)+'Nq',J(0x24a)+'hu',J(0x1da)+'3q',J(0x243)+J(0x241)+'f0',J(0x25d)+'vi',J(0x224)+'g0',J(0x1fc),J(0x210)+'uy',J(0x20a)+'xi',J(0x1db)+'g0',J(0x1ec)+J(0x26d)+J(0x1ff),J(0x286)+'Ia',J(0x209)+'Ia',J(0x1d5)+'3i',J(0x283)+'ge',J(0x20f)+'K8',J(0x277)+'xi',J(0x272)+'ge',J(0x278)+'Ya',J(0x222)+'Ni',J(0x207)+'xi',J(0x249)+'eS',J(0x212)+'wq',J(0x1cf)+'q',J(0x25b)+'ge',J(0x208)+'G',J(0x225)+'Ia',J(0x20c)+'2u',J(0x219)+'aO',J(0x1f2)+'vq'];return a0a=function(){return a;},a0a();}import{error,info}from'../../bookieutils/logger.js';import{applyFont,registerModule}from'../../bookieutils/helpeutils/fonthelp.js';export const name=a0p(0x1e2)+a0p(0x250)+a0p(0x25b);export const version=a0p(0x20a);function a0c(){const K=['q052vq','q1LHt0e','AwDms2K','qZfeueq','BuPLmM4','oeTtDKDWrW','EJj2ma','AwuXtem','qND2wKm','zNjVBum','BxrIm3K','DZKYCMC','AwHUteq','BxrdmKe','rgnIvhO','mJy0mti0mLzbtfzMtW','ndGWmdi0mgPuv09htq','zhO2qJe','ChfYC3q','CxzQEMK','AwCXvNO','ywjJzgu','Awnln2m','AwqWr20','qMD1r3O','mu9eDNy','q05YrKm','sdvYmNi','ENHUwNK','AwDmvue','rgDMwuq','ufzXEfa','wvOWmti','ExjH','qZjMtNO','zxj0Ddi','wMeZBJm','qK05mgK','EMnHowK','DMv2Ahi','AwzIC3m','y0LHr2K','Dtb2Bxi','DeS5DwK','Awu1Chy','qZjyuhK','qxDXr3m','BgvUz3q','DMv2Exy','DMzurxu','rgHYuei','CNzlr3i','B2rLqxq','EeW2De4','BdnUteq','z3jjDta','rgnlr3y','DeHyCZe','ENDXvq','mZa3nde2og1AzMf4AG','DvLIwKq','B3rdv28','swP2Cwu','DtnYsem','AwDUt3O','BdnUmhK','qtjmvxO','CKTMDNq','rhHPr0m','rgD2neq','DMnIwKe','AwnHr2K','A2rLu2K','Dxz3EhK','ChvZAa','q05Xr0i','y2HHCKe','CNnIwKq','BxrLmKm','ogORqve','ENnIvKi','qZnIu0e','C2XPy2u','rgHQuei','vfvwv1G','CNziANu','qZnUshO','DhnIwKq','qZj2ma','ENHithK','rgHmv3O','AwqWr3a','EKfcq0q','C2HPzNq','wwj6qJm','DNzIzxe','rhHYt0i','A3fpr2K','Dg9tDhi','sKTmtu4','BuK0v2W','De04r0m','ExHQmgK','qKLIzhm','sfz5mKm','BgnImhO','ruzhseK','Dgz2zNu','zxj3sg0','rgC4r0m','q1LIEhm','ztLVq2u','ntK5ntyZmM54qK9tAW','ndq4mJeYog9cCvDczq','EK5QvKi','rgfpoeu','mJC4odmWB3riz2P1','DMzQyNm','q2HQueq','BxrLnw4','DMnIANq','DNHUshO','ExDeta','Bxrhv3u','mZq1nJC','q1LIDhi','BvP6shu','AwDMwxO','EK1mtKq','nfbzzMK','AgfYq28','A2XTBM8','qxC1sKi','CtfQzNe','DMnImhO','EMD2wG','rgnImee','rgDitgK','CMnfyq','CNnIDxe','zeS1BMu','ugH6DwK','offzAM91DG','mJi2nJqZmhLcvwP1AG','sNztENC','DfLIwKq','rgHUmhK','qu05uei','q1LHt2m','AwHUmhK','BMrPwM0','B0DpvKm','q005ww8','CxfX','rgnIz3u','Dgv1r3m','ENnIsKi','DuT1r0e','t1bruLm','yNjftMK','Aw5KzxG','BuPLwM8','odKRlZ0','qxC1tem','DNvyBwW','Aw5N','EJjyteq','qxC0nMK','mtH1yMHlz0O','zM4WExe','CNHQwui','ENHimgK','y2HHCKm','qxHUyKm','qZnYsem','qxHUyNO','AwrLu2m','Ctbtr2S','Etjiseq','q012v0i','qK05mW','DemZBK4','DJbizNu','AwvUChq','Dhnh','qMD2vxO','qxHqthO','zMDOAwO','AwHYteu','BMrdmg4','BMrHmg4','qxDMu0e','C3u1Dhi'];a0c=function(){return K;};return a0c();}registerModule(name);const COOLDOWN_TIME=0x3c*0x3e8,userCooldowns=new Map();async function initDatabase(){const b=a0p;await db[b(0x22d)](b(0x1dd)+b(0x228)+b(0x219)+b(0x1e9)+b(0x22e)+b(0x200)+b(0x1f3)+b(0x251)+b(0x21c)+b(0x1ee)+b(0x21b)+b(0x22f)+b(0x1e6)+b(0x218)+b(0x1f7)+b(0x210)+b(0x225)+b(0x1fc)+b(0x21b)+b(0x1e0)+b(0x230)+b(0x258)+b(0x1fe)+b(0x21b)+b(0x212)+b(0x237)+b(0x214)+b(0x1db)+b(0x1df)+b(0x25a)+b(0x256)+b(0x206)+b(0x204)+'\x20');const c=await db[b(0x1e1)](b(0x24b)+b(0x257)+b(0x1f1)+b(0x1d9)+b(0x251)+b(0x21c)+b(0x24a)+b(0x1f8)+b(0x252));!c&&await db[b(0x1dc)](b(0x254)+b(0x227)+b(0x22b)+b(0x251)+b(0x21c)+b(0x222)+b(0x202)+b(0x238)+b(0x221)+b(0x201)+'\x22)');}async function getStartText(){const b=a0p,c=await db[b(0x1e1)](b(0x24b)+b(0x257)+b(0x1f1)+b(0x1d9)+b(0x251)+b(0x21c)+b(0x24a)+b(0x1f8)+b(0x252));return c?c[b(0x203)]:'';}async function saveStartText(b){const c=a0p;await db[c(0x1dc)](c(0x224)+c(0x1f0)+c(0x251)+c(0x21c)+c(0x1ff)+c(0x20d)+c(0x21f)+c(0x234)+c(0x253)+'\x201',b);}function isAdmin(c){const d=a0p;try{const {ADMINS:ADMINS=[]}=getConfig();return c[d(0x205)]&&Array[d(0x1f5)+'ay'](ADMINS)&&ADMINS[d(0x246)+d(0x1e8)](c[d(0x205)]['id']);}catch(e){return error(d(0x232)+d(0x21e)+d(0x1f4)+d(0x1e7)+d(0x239)+'o',e),![];}}export async function initialize(){const a=a0p;await initDatabase(),info(name+(a(0x216)+a(0x24c)+'ed'));}function a0d(a,b){const c=a0c();return a0d=function(d,e){d=d-0x1cf;let f=c[d];if(a0d['SrYYAw']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0d['lZSXsb']=g,a=arguments,a0d['SrYYAw']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a0d['lZSXsb'](f),a[i]=f):f=j,f;},a0d(a,b);}export async function onMessage(e){const o=a0p;if(e[o(0x1de)][o(0x1f9)]!==o(0x229)+'te')return;const p=e[o(0x23b)+'ge']?.[o(0x203)];if(!p)return;try{if(p[o(0x255)+o(0x24e)](o(0x23e)+o(0x211))){if(!isAdmin(e)){const t=await applyFont(name,o(0x213)+o(0x236)+o(0x1fa)+o(0x1ef)+o(0x217)+o(0x1da)+o(0x233)+o(0x1ea)+o(0x240)+o(0x215));return e[o(0x247)](t);}const q=p[o(0x245)]('\x0a');if(q[o(0x22c)+'h']<0x2){const u=await applyFont(name,o(0x235)+o(0x1fd)+o(0x1f6)+o(0x220)+o(0x242)+o(0x1eb)+o(0x207)+o(0x1ed)+o(0x226)+o(0x20e)+o(0x20c));return e[o(0x247)](u);}const r=q[o(0x23a)](0x1)[o(0x1fb)]('\x0a');await saveStartText(r);const s=await applyFont(name,o(0x223)+o(0x209)+o(0x21a)+o(0x21d));return e[o(0x247)](s);}if(p[o(0x25c)]()===o(0x1f2)+'t'){const w=e[o(0x205)]['id'],x=Date[o(0x25d)](),y=userCooldowns[o(0x1e1)](w)||0x0;if(isAdmin(e)){const A=await getStartText();return e[o(0x247)](A||await applyFont(name,o(0x1e4)+o(0x1eb)+o(0x207)+o(0x23f)+o(0x23c)+o(0x22a)));}if(x-y<COOLDOWN_TIME)return;userCooldowns[o(0x231)](w,x);const z=await getStartText();if(z)return e[o(0x247)](await applyFont(name,z));return e[o(0x247)](await applyFont(name,o(0x1e4)+o(0x1eb)+o(0x207)+o(0x23f)+o(0x23c)+o(0x22a)));}}catch(B){error(o(0x1e2)+o(0x1e3)+o(0x244)+o(0x20b)+'%o',B);}}export async function onCallbackQuery(){}