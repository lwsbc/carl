(function(a,b){const F=a0g,c=a();while(!![]){try{const d=-parseInt(F(0x11d))/0x1*(-parseInt(F(0x137))/0x2)+parseInt(F(0x1bc))/0x3*(-parseInt(F(0x1f9))/0x4)+-parseInt(F(0x1ac))/0x5+parseInt(F(0x152))/0x6*(parseInt(F(0x1c6))/0x7)+parseInt(F(0x172))/0x8+-parseInt(F(0x13c))/0x9*(-parseInt(F(0x142))/0xa)+-parseInt(F(0x13b))/0xb;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0f,0xea44c));const a0n=a0b;function a0a(){const G=a0g,a=[G(0x186)+'MC',G(0x1e2)+'2u',G(0x171)+'2u',G(0x193)+G(0x16c)+G(0x150),G(0x114)+G(0x15c),G(0x156)+'q',G(0x20b),G(0x1ce)+'Ia',G(0x206),G(0x19d)+'Ny',G(0x1e6),G(0x187)+'wW',G(0x1d1)+'gu',G(0x19b)+'G',G(0x1a8),G(0x181)+'2q',G(0x12f)+'w4',G(0x1b7)+'we',G(0x1b3)+'gK',G(0x189)+'a',G(0x160)+'dO',G(0x1a2)+G(0x1f5)+G(0x14b)+G(0x175),G(0x19f)+'fi',G(0x1e7)+'ca',G(0x1cb)+'sa',G(0x163)+'w4',G(0x1fe)+'wW',G(0x1eb)+G(0x170),G(0x14c)+'20',G(0x1a1)+'Mu',G(0x1f8)+'gu',G(0x1ca)+G(0x130)+G(0x202)+'x',G(0x123)+'a',G(0x194),G(0x1b8)+'Ia',G(0x1bd),G(0x1d2)+'3C',G(0x18e)+'2K',G(0x127)+G(0x112),G(0x17e)+'a',G(0x1d8)+'2e',G(0x1c3)+'s8',G(0x1af)+'gy',G(0x128)+'2e',G(0x1f6)+'wW',G(0x1b6)+'3m',G(0x1eb)+G(0x179)+G(0x15b),G(0x197)+'3i',G(0x176)+G(0x143)+'W',G(0x1a0)+'wW',G(0x1f3)+'wu',G(0x134)+G(0x11c)+'4',G(0x154)+'gK',G(0x133)+'2e',G(0x1d6)+'a',G(0x135)+'2u',G(0x118)+'ZO',G(0x1fd)+'wi',G(0x1c3)+'q',G(0x1cf)+'sa',G(0x1e9)+'Me',G(0x19b)+'JO',G(0x19e)+'wm',G(0x117)+'24',G(0x1dd)+'wq',G(0x1fa),G(0x134)+G(0x15d)+'8',G(0x199)+'MK',G(0x190),G(0x14f)+G(0x149)+'W',G(0x193)+G(0x195)+'q',G(0x13a)+'wu',G(0x191)+'G',G(0x1d9)+'w4',G(0x1e1)+'2m',G(0x1a4)+'24',G(0x1df)+'hu',G(0x208)+'w4',G(0x1cc),G(0x1e3)+'a',G(0x1ee),G(0x178)+'2K',G(0x188),G(0x200)+'gq',G(0x1ae)+'s8',G(0x1be)+'wq',G(0x193)+G(0x119)+'i',G(0x166)+'Ny',G(0x146)+'w8',G(0x1e0)+'q',G(0x1b2)+'gW',G(0x183)+'xi',G(0x18a),G(0x18f),G(0x1c5)+'hu',G(0x16b)+'1C',G(0x1e3)+'gu',G(0x1d7),G(0x134)+G(0x17f)+'u',G(0x13e)+G(0x157)+G(0x1f0)+G(0x12b),G(0x18b)+'gK',G(0x1e5),G(0x174)+'2G',G(0x209),G(0x1ed)+'3q',G(0x177)+'hi',G(0x17a)+'xq',G(0x17b)+'ge',G(0x122)+'2S',G(0x169)+'xm',G(0x124)+G(0x14a)+G(0x15a)+G(0x1c9),G(0x11e)+'xq',G(0x1f7)+G(0x151),G(0x132)+'gq',G(0x139)+'g8',G(0x17d)+'gu',G(0x205)+'Ya',G(0x19d)+'M4',G(0x160)+'ca',G(0x158)+'Me',G(0x1de)+'a',G(0x1ab)+'w4',G(0x1c4)+'xm',G(0x1f2)+G(0x19a),G(0x12d)+'wW',G(0x203)+'xi',G(0x1b4)+'Y4',G(0x1aa)+'Ya',G(0x129)+'2W',G(0x1b9),G(0x155)+'hu',G(0x169)+'sa',G(0x1c0)+G(0x167)+G(0x1ad)+G(0x1cd),G(0x1d4)+'g8',G(0x196)+G(0x1a3),G(0x180)+'ca',G(0x1ff)+'xm',G(0x13d),G(0x193)+G(0x1a6)+'e',G(0x120),G(0x192)+'v8',G(0x1da)+'2W',G(0x18c)+'xm',G(0x11f)+'hi',G(0x1a9)+'YW',G(0x14e)+G(0x153)+'4',G(0x14d),G(0x16d)+'3i',G(0x128)+'wW',G(0x1b1)+'ca',G(0x1a7)+'wq',G(0x1c7)+'xq',G(0x173)+G(0x140)+G(0x13f)+'z',G(0x182)+G(0x1fb),G(0x136)+'Je',G(0x148)+'hu',G(0x121)+'w4',G(0x134)+G(0x141)+'e',G(0x18d)+'3q',G(0x138)+G(0x207)+G(0x1dc)+G(0x113),G(0x15e)+'gu',G(0x168)+'wW',G(0x16e)+G(0x162)+G(0x1d0),G(0x11a)+'W',G(0x16a)+'G',G(0x19c),G(0x1e8)+'wW',G(0x1ea)+'Ni',G(0x126)+'wq',G(0x184)+'hi',G(0x1a5)+'NK',G(0x159)+'wu',G(0x1bb)+'Ya',G(0x115),G(0x147)+'a',G(0x1ba),G(0x1b0)+'wq',G(0x12c)+'Ia',G(0x1fc),G(0x1c8)+'3i',G(0x1d3)+'hu',G(0x1d5)+'a',G(0x134)+G(0x20a)+'e',G(0x198)+'wq',G(0x201)+'G',G(0x183)+'w4'];return a0a=function(){return a;},a0a();}(function(f,g){const H=a0g,h=a0b,i=f();while(!![]){try{const j=-parseInt(h(0x105))/0x1+-parseInt(h(0x8c))/0x2*(parseInt(h(0x9d))/0x3)+parseInt(h(0xdb))/0x4+parseInt(h(0xf1))/0x5+-parseInt(h(0x10c))/0x6+-parseInt(h(0x82))/0x7+parseInt(h(0x93))/0x8*(parseInt(h(0xd0))/0x9);if(j===g)break;else i[H(0x1b5)](i[H(0x11b)]());}catch(k){i[H(0x1b5)](i[H(0x11b)]());}}}(a0a,0xecba6));import{readdir,stat,mkdir}from'fs/promises';import a0h from'path';import a0i from'chokidar';import{fileURLToPath,pathToFileURL}from'url';import a0j from'p-limit';import{info,error,warn,debug}from'../bookieutils/logger.js';import{hotReloadConfig}from'../bookieutils/config.js';const __dirname=a0h[a0n(0xe4)+'me'](fileURLToPath(import.meta[a0n(0x12d)])),AUX_DIR=a0h[a0n(0xed)+'ve'](__dirname,a0n(0xa6)),CONCURRENCY_LIMIT=0x5,LOAD_TIMEOUT=0xbb8,RELOAD_DEBOUNCE=0xfa,ENV=process[a0n(0x112)][a0n(0xf9)+a0n(0xbd)]||a0n(0x113)+a0n(0xe6)+'t';export const name=a0n(0xdf)+a0n(0x7a);export const version=a0n(0x107);export const adminOnly=![];function a0b(d,e){const f=a0a();return a0b=function(k,l){const I=a0g;k=k-0x78;let m=f[k];if(a0b[I(0x161)+'g']===undefined){var n=function(v){const J=I,w=J(0x1e4)+J(0x111)+J(0x131)+J(0x164)+J(0x1bf)+J(0x144)+J(0x165)+J(0x1f4)+J(0x185)+J(0x1c2)+J(0x16f)+J(0x116)+J(0x15f);let x='',y='';for(let z=0x0,A,B,C=0x0;B=v[J(0x12a)+'t'](C++);~B&&(A=z%0x4?A*0x40+B:B,z++%0x4)?x+=String[J(0x1ec)+J(0x12e)+'de'](0xff&A>>(-0x2*z&0x6)):0x0){B=w[J(0x1ef)+'Of'](B);}for(let D=0x0,E=x[J(0x145)+'h'];D<E;D++){y+='%'+('00'+x[J(0x1c1)+J(0x17c)](D)[J(0x125)+J(0x1f1)](0x10))[J(0x204)](-0x2);}return decodeURIComponent(y);};a0b[I(0x1db)+'c']=n,d=arguments,a0b[I(0x161)+'g']=!![];}const o=f[0x0],p=k+o,q=d[p];return!q?(m=a0b[I(0x1db)+'c'](m),d[p]=m):m=q,m;},a0b(d,e);}function a0f(){const K=['B2vYCKi','qxHYuhK','q012wKi','y2HHCKe','CNn4sW','AwD6vKm','qNC5s0q','AgfYq28','rgDUt0e','DeSYCZm','A2XTBM8','qZjimuq','qND2wKm','AxbJrKS','qJnPr0m','BuK0v2W','mty2mJy5nfvgDxL4sq','B3rPv20','CxH2nhq','qxHUwKq','odGZmJyWnhbNzujLzq','ndvqrgTIA24','ENrprW','BvPLmM0','vgv0s0W','zgLxEta','uxvhC2C','mty5odi1mffiB1vSra','s2zIEta','EKfcq0q','BgvUz3q','ENHQwKe','qZi5wuq','qJnPr3O','n0ThCti','sKm1BuS','BMndDKG','qKLIsKi','qJnevq','AxbJrK0','AxbJrLa','oeD2DZq','y2jNExe','ntu5mZq5ne9vs3jkCa','t2fhC3C','qxHqseq','q2HQvNO','q01MsNO','wNLxB3q','EMDmwui','AwHYuei','teTeAeq','yM5cvW','wwjUqLC','nNLhDhC','AwDMtuq','odKRlZ0','qxDythO','suvOvMK','n0LWAwy','rhC1u0e','ChfYC3q','ruzhseK','ELLIuei','DguZBwC','AwD6see','EMH2u3O','qwHQthO','ENC1s0m','nwHwvwK','q2HQuei','nfbnnZC','wvOWmti','C2jkqLC','EtjyvKm','mJC5nJiWogXpqw1IBW','BNrXng0','rdjMmhK','sNDh','BNreBKi','rhDytgK','qNDmwKm','BYS0sLK','EMnIvKq','q012v0i','B2rLqxq','EK1Muei','AwH2v2K','uxfhDMC','EK52u0i','qMnIvei','nfbzzMK','EtjythK','qxC0r0m','t1bruLm','Etjisei','ELLItuq','qxHYtW','qMDythO','qxC5vq','qxC1ueq','qK04r0q','qMD2vxO','re12wum','EMD2sW','Be1qwG','ExCXtgK','DeS5zxi','AxbJrKW','qwDMwG','AxfhDtm','ENDXrZq','ENHiv0i','ENDyvNK','EK52u3O','y2j0qvC','ExDYtem','ENC1mG','qK1dr2K','Du12s3K','qMDMwKq','ENnIwxO','ExDyueu','BNrhnw4','t0fZAwe','EtnYuei','DxH2tem','A0nhC2C','qJjMs3O','q1PprW','AwCXwNO','EMDmvxO','qJnIvhO','nZGWntqXnwDfvNnLyG','shbbzNi','qMDmnNO','rgD2s2K','AwDyvNK','ExDyuhO','AwDUsei','rgHTr2S','qK16uhO','ChvZAa','AwCXtem','qK1mmee','qu5UvKi','qxHYnq','ExDYsW','q01mvxO','nKHJDhnKuG','qJjMsW','rgHYu3O','Dxz3EhK','BMrXm20','y2HHCKm','vfvwv1G','qZjMtNO','qJi1BNO','qxC1sKi','mtrJBwL1A1G','EMD2u3O','Eu12tui','DNzx','BxrPnw0','ExDQu3O','AwDUsq','sunX','ExDetg8','ENDMs0u','AKXcyq','q2Dyteq','ExHQs0i','qZnYseq','ENzQtei','Eu1mvxO','qxHqthO','EMD2wG','q012u0i','Eu1MwNO','rgC4r3K','DwnkALC','vgL3s0W','END2s3O','AwDmvwK','ENDMvwK','qK1MvhO','AwHUmxK','ExDyu3u','qMC5shO','ywjJzgu','qK05mW','ExCXta','ExHYthO','EMD2mNO','qJi0r3O','qMnItem','Aw9Rqu8','zNjVBum','EK52vxK','CNu1DW','Aw5KzxG','sdv3zZK','Aw5N','Aw9RqKW','re1Mu0q','sKTmtu4','wNfxB3C','qxHUz0e','Aw9RreO','EK1mu0q','mJGWndq2neHgAhvMAa','ExDyuW','zvHwExe','CdnXoq','BeK5wKq','qJi1zhK','qJjewxO','q1LImum','qu05uei','CMnZEgy','qK1Yu3O','C2XPy2u','AwDisem','EJj2ma','DgK0BuS','ExHQmee','qZj2ma','EwfhDJi','rhHQuW','zMDOAwO','DM40q1C','u3zh','Aw9RCfm','rgC4rW','mZq1nJC','ENDXr0i','Eu1MsKe','A3vhCtm','qtj2num','C2HPzNq','uxvhC3C','mLvqrK9bCW','Etn2wue','EMnIsei','qNDMvW','qxHIv0e','qMDQshK','q2H2wKe','BuPhmg4','Dg9tDhi','ENDMvxO'];a0f=function(){return K;};return a0f();}let modules=new Map(),messageHandlers=[],callbackHandlers=[];const concurrencyLimiter=a0j(CONCURRENCY_LIMIT),fileTimers=new Map();let isReloading=![],watcher=null,isInitialized=![];export const moduleStatus={'loaded':[],'failed':[],'lastReload':null};function sanitizeError(b){const c=a0n;if(ENV===c(0xef)+c(0xb8))return{'name':b[c(0xc6)],'message':b[c(0xa2)+'ge'],'stack':c(0xab)+c(0x97)+c(0xa4)+c(0xdc)+'y'};return b;}function updateHandlers(){const c=a0n;messageHandlers=[],callbackHandlers=[];const d=[...modules[c(0x9f)+'s']()][c(0x11b)]((e,f)=>(f[c(0x100)+c(0xee)]??0x0)-(e[c(0x100)+c(0xee)]??0x0));for(const {mod:e}of d){typeof e[c(0xe7)+c(0xa7)]===c(0xd5)+c(0xc9)&&messageHandlers[c(0x8d)]({'handler':e[c(0xe7)+c(0xa7)][c(0x122)](e),'module':e[c(0xc6)]}),typeof e[c(0x87)+c(0xd9)+c(0x117)]===c(0xd5)+c(0xc9)&&callbackHandlers[c(0x8d)]({'handler':e[c(0x87)+c(0xd9)+c(0x117)][c(0x122)](e),'module':e[c(0xc6)]});}info(c(0xdf)+c(0xaa)+c(0xf7)+c(0xea)+c(0xc0)+c(0x84)+'-\x20'+messageHandlers[c(0x10b)+'h']+(c(0xfd)+'\x20')+callbackHandlers[c(0x10b)+'h']+c(0xbb));}function timeout(d,e,f){const g=a0n;return Promise[g(0x12c)]([d,new Promise((h,i)=>{setTimeout(()=>{const j=a0b;i(new Error(j(0xdf)+j(0xaa)+'\x20'+f+(j(0x118)+j(0xd7)+j(0x10d)+'r\x20')+e+'ms'));},e);})]);}function validateModule(e,f){const g=a0n,h=e[g(0xc6)]||f,i=[];if(!e[g(0xc6)])i[g(0x8d)](g(0xbe)+g(0xe2)+g(0xb5));if(!e[g(0x92)+'on'])i[g(0x8d)](g(0xbe)+g(0x130)+g(0xc5)+'n\x22');!e[g(0xd1)+g(0x8a)]&&!e[g(0xe7)+g(0xa7)]&&!e[g(0x87)+g(0xd9)+g(0x117)]&&i[g(0x8d)](g(0xfb)+g(0x85)+g(0x9c)+g(0x7f)+g(0x7e)+g(0xc1)+g(0xe7)+g(0x96)+g(0x87)+g(0xd9)+g(0x117)+')');if(i[g(0x10b)+'h'])return warn(g(0xdf)+g(0xaa)+g(0x9b)+g(0xf0)+h+(g(0xe1)+g(0xb4)+g(0x7b))+i[g(0x125)](',\x20')),![];return!![];}async function unloadModule(e,f=a0n(0x95)+'d'){const g=a0n;if(!modules[g(0x8e)](e))return;const {mod:h}=modules[g(0x12f)](e);try{typeof h[g(0x126)+'up']===g(0xd5)+g(0xc9)&&(await h[g(0x126)+'up'](),debug(g(0xdf)+g(0xaa)+g(0xb2)+g(0x115)+g(0x94)+h[g(0xc6)]));}catch(i){error(g(0xdf)+g(0xaa)+g(0xdd)+g(0xe3)+g(0xfa)+g(0xb9)+'p\x20'+h[g(0xc6)]+':\x20'+i[g(0xa2)+'ge'],sanitizeError(i));}finally{modules[g(0x104)+'e'](e),info(g(0xdf)+g(0xaa)+g(0x12a)+g(0xcd)+'d\x20'+h[g(0xc6)]+'\x20('+f+')');}}async function loadFile(e,m=![]){const n=a0n,o=a0h[n(0x125)](AUX_DIR,e),p=a0h[n(0xb6)+n(0x131)](e,n(0xb1));try{const q=await stat(o);if(!q[n(0x99)+'e']())return![];if(m&&modules[n(0x8e)](p)){const {mod:v}=modules[n(0x12f)](p);typeof v[n(0x120)+n(0xf2)+'ad']===n(0xd5)+n(0xc9)&&await v[n(0x120)+n(0xf2)+'ad']();}const r=pathToFileURL(o)[n(0x111)]+n(0x11f)+Date[n(0xd2)](),s=await import(r);if(!validateModule(s,e))return warn(n(0xdf)+n(0xaa)+n(0xe8)+n(0x109)+n(0xc4)+n(0x102)+n(0xe9)+n(0xf6)+e),![];const t=s[n(0xc6)]||p;return m&&modules[n(0x8e)](p)&&await unloadModule(p,n(0x120)+n(0x9e)+n(0x90)),typeof s[n(0xd1)+n(0x8a)]===n(0xd5)+n(0xc9)&&await timeout(s[n(0xd1)+n(0x8a)](),LOAD_TIMEOUT,t),modules[n(0xd4)](p,{'mod':s,'priority':s[n(0x100)+n(0xee)]||0x0}),moduleStatus[n(0xcd)+'d']=moduleStatus[n(0xcd)+'d'][n(0x8b)+'r'](w=>w[n(0xc6)]!==t),moduleStatus[n(0xcd)+'d'][n(0x8d)]({'name':t,'version':s[n(0x92)+'on']||'?','file':e,'loadedAt':Date[n(0xd2)]()}),info(n(0xdf)+n(0xaa)+'\x20'+(m?n(0x10f)+n(0x103):n(0x106)+n(0xca))+'\x20'+t+'\x20v'+(s[n(0x92)+'on']||'?')),!![];}catch(w){const x=m?n(0x95)+'d':n(0xbc);return error(n(0xdf)+n(0xaa)+n(0xdd)+n(0xe3)+n(0x11a)+x+'\x20'+p+':\x20'+w[n(0xa2)+'ge'],sanitizeError(w)),moduleStatus[n(0xe0)+'d'][n(0x8d)]({'file':e,'error':w[n(0xa2)+'ge'],'timestamp':Date[n(0xd2)]()}),modules[n(0x104)+'e'](p),![];}finally{updateHandlers();}}async function loadAllModules(){const f=a0n;moduleStatus[f(0xcd)+'d']=[],moduleStatus[f(0xe0)+'d']=[],await mkdir(AUX_DIR,{'recursive':!![]});const g=(await readdir(AUX_DIR))[f(0x8b)+'r'](l=>l[f(0xcc)+f(0xbf)](f(0xb1))),h=g[f(0xf8)](l=>concurrencyLimiter(()=>loadFile(l,![]))),i=await Promise[f(0x128)+f(0xc2)](h),j=i[f(0x8b)+'r'](l=>l[f(0x121)+'s']===f(0xb0)+f(0x80)&&l[f(0x9f)])[f(0x10b)+'h'],k=i[f(0x10b)+'h']-j;return info(f(0xdf)+f(0xaa)+f(0xaf)+f(0xda)+f(0x11d)+f(0xf3)+j+(f(0xb7)+f(0xad)+',\x20')+k+(f(0x10e)+'ed')),moduleStatus[f(0x83)+f(0x124)]=Date[f(0xd2)](),{'success':j,'failed':k};}async function reloadAllModules(){const c=a0n;if(isReloading){warn(c(0xdf)+c(0xaa)+c(0x12b)+c(0xf0)+c(0x95)+c(0xfc)+c(0xa8)+c(0x116)+c(0xf5)+'s');return;}try{isReloading=!![],info(c(0xdf)+c(0xaa)+c(0xb3)+c(0xba)+c(0x78)+c(0x7c)+c(0xd6)+c(0x124));const d=[...modules[c(0x110)]()];return await Promise[c(0x128)+c(0xc2)](d[c(0xf8)](e=>unloadModule(e,c(0xf4)+c(0x95)+'d'))),modules[c(0xc8)](),updateHandlers(),await loadAllModules();}catch(e){error(c(0xdf)+c(0xaa)+c(0xc3)+c(0x98)+c(0x114)+c(0x108)+c(0x119)+c(0x95)+'d:',sanitizeError(e));}finally{isReloading=![];}}function setupWatcher(){const a=a0n;if(watcher)watcher[a(0x129)]();watcher=a0i[a(0xd3)](AUX_DIR,{'ignoreInitial':!![],'persistent':!![],'awaitWriteFinish':{'stabilityThreshold':0xc8,'pollInterval':0x64}}),watcher['on'](a(0xae),(e,f)=>{const g=a;if(!f[g(0xcc)+g(0xbf)](g(0xb1)))return;const h=a0h[g(0xb6)+g(0x131)](f),i=e+'-'+f;if(fileTimers[g(0x8e)](i))clearTimeout(fileTimers[g(0x12f)](i));fileTimers[g(0xd4)](i,setTimeout(()=>{const j=g;fileTimers[j(0x104)+'e'](i);if(e===j(0x86)+'k')unloadModule(h[j(0xd8)+'ce'](/\.js$/,''));else[j(0x11c),j(0x127)+'e'][j(0xcb)+j(0xce)](e)&&concurrencyLimiter(()=>loadFile(h,!![]));},RELOAD_DEBOUNCE));}),info(a(0xdf)+a(0xaa)+a(0x123)+a(0x7d)+'g\x20'+AUX_DIR+(a(0x11e)+a(0x127)+'es'));}export async function initialize(){const b=a0n;if(isInitialized)return;isInitialized=!![];try{await loadAllModules(),setupWatcher(),hotReloadConfig(()=>{const c=a0b;info(c(0xdf)+c(0xaa)+c(0x88)+c(0xeb)+c(0x8f)+c(0x127)+c(0xf3)+c(0x95)+c(0xec)+c(0xe9)+'es'),concurrencyLimiter(()=>reloadAllModules());}),info(b(0xdf)+b(0xaa)+b(0xfe)+b(0x101)+b(0xa3));}catch(c){error(b(0xdf)+b(0xaa)+b(0xa0)+b(0x101)+b(0xa1)+b(0xa9)+b(0x81)+'\x20'+c[b(0xa2)+'ge'],sanitizeError(c)),isInitialized=![];}}export async function cleanup(){const b=a0n;watcher&&(watcher[b(0x129)](),watcher=null);const c=[...modules[b(0x110)]()];await Promise[b(0xae)](c[b(0xf8)](d=>unloadModule(d,b(0xde)+b(0xff)))),modules[b(0xc8)](),updateHandlers(),isInitialized=![],info(b(0xdf)+b(0xaa)+b(0xcf)+b(0x91)+b(0x89)+b(0x79));}function a0g(a,b){const c=a0f();return a0g=function(d,e){d=d-0x111;let f=c[d];if(a0g['EFLmyq']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0g['FLKNtm']=g,a=arguments,a0g['EFLmyq']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a0g['FLKNtm'](f),a[i]=f):f=j,f;},a0g(a,b);}export async function onMessage(e){const f=a0n;for(const {handler:g,module:h}of messageHandlers){try{await g(e);}catch(i){error(f(0xdf)+f(0xaa)+f(0x10a)+f(0xea)+f(0xe5)+h+(f(0x10e)+f(0xac)+f(0x9a)+f(0x12e))+i[f(0xa2)+'ge'],sanitizeError(i));}}}export async function onCallbackQuery(e){const f=a0n;for(const {handler:g,module:h}of callbackHandlers){try{await g(e);}catch(i){error(f(0xdf)+f(0xaa)+f(0x10a)+f(0xea)+f(0xe5)+h+(f(0x10e)+f(0xac)+f(0xc7)+f(0xa5)+'\x20')+i[f(0xa2)+'ge'],sanitizeError(i));}}}