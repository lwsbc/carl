(function(a,b){const a1=a0d,c=a();while(!![]){try{const d=parseInt(a1(0x233))/0x1+-parseInt(a1(0x13d))/0x2*(parseInt(a1(0x12e))/0x3)+-parseInt(a1(0x3c0))/0x4*(parseInt(a1(0x32b))/0x5)+-parseInt(a1(0x2cf))/0x6+-parseInt(a1(0x32e))/0x7+parseInt(a1(0x302))/0x8*(parseInt(a1(0x394))/0x9)+parseInt(a1(0x1ea))/0xa;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0c,0x19d60));const a0D=a0b;(function(f,g){const a2=a0d,h=a0b,i=f();while(!![]){try{const j=parseInt(h(0x2f8))/0x1*(-parseInt(h(0xc5))/0x2)+parseInt(h(0x1dc))/0x3*(parseInt(h(0x2f4))/0x4)+parseInt(h(0x70))/0x5*(-parseInt(h(0x242))/0x6)+parseInt(h(0x1f8))/0x7+-parseInt(h(0x32d))/0x8+-parseInt(h(0x319))/0x9*(-parseInt(h(0x67))/0xa)+parseInt(h(0x256))/0xb*(parseInt(h(0x1e7))/0xc);if(j===g)break;else i[a2(0x117)](i[a2(0x3a0)]());}catch(k){i[a2(0x117)](i[a2(0x3a0)]());}}}(a0a,0xa0fc4));import{DateTime}from'luxon';import{InlineKeyboard}from'grammy';import{db}from'../bookieutils/db.js';import{getDefault,getConnection}from'../bookieutils/connection.js';function a0d(a,b){const c=a0c();return a0d=function(d,e){d=d-0xec;let f=c[d];if(a0d['tojjlt']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0d['KEiDGj']=g,a=arguments,a0d['tojjlt']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a0d['KEiDGj'](f),a[i]=f):f=j,f;},a0d(a,b);}import{applyFont,registerModule}from'../bookieutils/helpeutils/fonthelp.js';function a0a(){const a3=a0d,a=[a3(0x1f9)+'Mu',a3(0x18f)+'G',a3(0x1f1)+'3m',a3(0x3bc)+'I4',a3(0x2e7),a3(0x35e)+'Ya',a3(0x3a2)+a3(0x22b)+a3(0x114),a3(0x31c)+'sa',a3(0x2e2)+'3q',a3(0x189)+'YW',a3(0x220)+'xm',a3(0x183)+'Mu',a3(0x163)+a3(0x1e4),a3(0x37c)+'w8',a3(0x2dc)+'xm',a3(0x303)+'wq',a3(0x238)+'2m',a3(0x344)+'Ya',a3(0x2e4)+'sa',a3(0x12c)+'G',a3(0x143)+'G',a3(0x1dd)+'JO',a3(0x1fa)+'xi',a3(0x2d8)+'3u',a3(0x28e)+'ca',a3(0x329)+a3(0x3a6)+a3(0x3a5),a3(0x102)+'fq',a3(0x2e4)+'xO',a3(0x316)+'g8',a3(0x1a6)+'2G',a3(0x34b)+'sK',a3(0x16a)+'uy',a3(0x1e6)+'g8',a3(0x206)+'ge',a3(0x17a)+'ca',a3(0x193)+'Ku',a3(0x32c)+a3(0x29f)+'zb',a3(0x161)+'ca',a3(0x3c6)+'gm',a3(0x23c)+'xq',a3(0x223)+'xm',a3(0x2dd)+'xq',a3(0x332)+'ca',a3(0x2d3)+'MC',a3(0x300)+'hq',a3(0x36e)+'xu',a3(0x2de)+'Ia',a3(0xf2)+'0e',a3(0x2ec)+'Mq',a3(0x2bb)+'xq',a3(0x234)+'wK',a3(0x3c1)+'3u',a3(0x30e)+'Me',a3(0x268)+a3(0x367)+a3(0x192)+a3(0x298),a3(0x153)+'3m',a3(0x37e)+'e4',a3(0x106)+'M8',a3(0x21d)+'Ia',a3(0x362),a3(0x1b8)+'Ya',a3(0x339)+'gW',a3(0x1e8)+'gW',a3(0x326)+'a',a3(0x33c),a3(0x119)+'c8',a3(0x335)+'gu',a3(0x232)+'2G',a3(0x110)+'Nq',a3(0x1af)+a3(0x212)+'W',a3(0x1cf)+'Ya',a3(0x1b1)+a3(0x10f)+a3(0x36a),a3(0x292)+'w0',a3(0xf9)+'wu',a3(0x128)+'20',a3(0x18e)+'wW',a3(0x17e)+'hu',a3(0x301)+'ca',a3(0x263)+'Ia',a3(0x3cd)+'dS',a3(0x115)+'dW',a3(0x150)+'gi',a3(0x127)+'xi',a3(0x38d)+a3(0xee),a3(0x1d3)+'G',a3(0x2c1)+'wC',a3(0x331)+'gG',a3(0x194)+a3(0x305)+'m',a3(0x172)+'gy',a3(0x148)+'Mu',a3(0x235)+'sa',a3(0x340)+'ca',a3(0x347)+'ca',a3(0x3a2)+a3(0x22b)+a3(0x208),a3(0x252)+'Mu',a3(0x10a)+'2u',a3(0x2b0)+'ce',a3(0x2b4)+'hq',a3(0x22c)+'gW',a3(0x240)+'hq',a3(0x1bc)+'ca',a3(0x1cc)+'ca',a3(0x184)+'xm',a3(0x1ec)+'3i',a3(0x32f),a3(0x1c7)+'Nu',a3(0x369)+'eu',a3(0x251)+'q',a3(0x1ad)+'hK',a3(0x366)+'2u',a3(0x159)+'w4',a3(0x17b)+'M8',a3(0x309)+'gi',a3(0x1f5)+'2u',a3(0x3ad)+'hm',a3(0x140)+'MK',a3(0x1ed)+'hq',a3(0x399)+'gu',a3(0x27b)+'xq',a3(0x19c)+'g0',a3(0x266)+'3u',a3(0x3af)+'gq',a3(0x375)+'Ni',a3(0x13a)+'JO',a3(0x246),a3(0x170)+'Ya',a3(0x2c9)+'wW',a3(0x1b3)+'sa',a3(0x1b0)+a3(0x3a9)+a3(0x3b8),a3(0x1a9),a3(0x31d)+'Mu',a3(0x27c)+'w8',a3(0x38d)+a3(0x265),a3(0x256)+a3(0x2f7),a3(0x386)+'G',a3(0x35d)+'q',a3(0x16f)+'xq',a3(0x1d8)+'ca',a3(0x37b)+'fq',a3(0x341)+'eu',a3(0x1fd)+'dW',a3(0x263)+'ZO',a3(0x174)+'tO',a3(0x282)+'gy',a3(0x3a8)+'2u',a3(0x38f)+'cW',a3(0x204)+'Ia',a3(0x162)+'ha',a3(0x330)+a3(0x17f)+a3(0x2a9),a3(0x1c2)+'ca',a3(0xf3)+'wW',a3(0x272)+'wu',a3(0x2f4)+'gy',a3(0x104)+a3(0x385)+'K',a3(0x2f9)+'JW',a3(0x194)+a3(0x29d)+'W',a3(0x3c7)+'hC',a3(0x262)+'sa',a3(0x24f)+a3(0x1d1)+a3(0x3a1),a3(0x2ce)+'28',a3(0x35f)+'ca',a3(0x371)+'W',a3(0x125)+'M8',a3(0x1ba)+'xm',a3(0x20a)+'hu',a3(0x19c)+'hm',a3(0x352)+'gm',a3(0x25f)+'hu',a3(0x2b3)+'xq',a3(0x247)+'2G',a3(0x17d)+a3(0x283)+'4',a3(0x2e6)+'2u',a3(0x307),a3(0x1b9)+'gq',a3(0x1da)+'we',a3(0x285),a3(0x3c8)+'M8',a3(0x19c)+'a',a3(0x321)+'xi',a3(0x264)+'M8',a3(0x1fd)+'ge',a3(0x1ae),a3(0x1c8)+'MS',a3(0x2ad)+'d8',a3(0x3ac)+'ue',a3(0x194)+a3(0x26e)+'4',a3(0x1ac)+'xq',a3(0x2d5)+'J4',a3(0x280)+'gK',a3(0x286)+'0u',a3(0x1b5)+'wW',a3(0x1eb)+'g4',a3(0x2b9)+'xm',a3(0x132)+'hm',a3(0x1cd)+'ca',a3(0x103)+'ge',a3(0x122)+'wq',a3(0x1db)+'wq',a3(0x2b0)+'hm',a3(0x372)+'Ya',a3(0x37a)+'sa',a3(0x360),a3(0x2f4)+'ge',a3(0x18c)+'gK',a3(0x23f)+'gK',a3(0x2d0)+'Ni',a3(0xfc)+'Y4',a3(0x1ab)+'wm',a3(0x382)+'ca',a3(0x19c)+'gq',a3(0x38e)+'2G',a3(0x173)+'eK',a3(0x287)+'xa',a3(0x209)+'hq',a3(0x2c6)+'g0',a3(0x341)+'e8',a3(0x1b7)+'w4',a3(0x152),a3(0x20f)+a3(0x250),a3(0x2f1)+'w8',a3(0x15b)+'3i',a3(0x39c)+'3i',a3(0x29c)+'q',a3(0x39d)+'Mu',a3(0x19c)+'gm',a3(0x2ae)+'sa',a3(0x1b4)+'ge',a3(0x32d)+'f8',a3(0x346)+'q',a3(0x3b6)+'ca',a3(0x3ce)+'2W',a3(0x3c7)+'gK',a3(0x13e)+'M8',a3(0x15f),a3(0x261)+'Ji',a3(0x1e0)+'Y8',a3(0x18d)+'w8',a3(0x123)+'Mu',a3(0x294)+'aO',a3(0x1b1)+a3(0x10f)+a3(0x120),a3(0x224)+'hm',a3(0x2a0)+'ey',a3(0x136)+'hq',a3(0x15c)+'f8',a3(0x355)+'Ia',a3(0x306)+'xi',a3(0x126)+'Ia',a3(0x221)+'gq',a3(0x276)+'vi',a3(0x1fc)+'e4',a3(0x2b4)+'cG',a3(0x128)+'24',a3(0x15c)+'fm',a3(0x203)+'ca',a3(0x354)+'M8',a3(0x128)+'2i',a3(0x29b)+'a',a3(0x334)+a3(0x259)+'m',a3(0x253)+'e4',a3(0x2fe)+'GO',a3(0x179)+'3C',a3(0x16b)+a3(0x249)+'u',a3(0x25a)+'Mu',a3(0x163)+a3(0x295),a3(0x167)+'he',a3(0x3bc)+'IW',a3(0x256)+a3(0x2f0),a3(0x10e),a3(0x39a)+'2u',a3(0x3cc)+'hK',a3(0x139)+'M8',a3(0x370)+'M8',a3(0x23b)+'Mu',a3(0x11d)+'q',a3(0x14f),a3(0x204)+'Ya',a3(0x3a3)+'xq',a3(0x149)+'hq',a3(0x187)+'2y',a3(0x133)+'G',a3(0xf5)+'eu',a3(0x16c)+'Me',a3(0x318)+'hq',a3(0x34a)+'hm',a3(0x3c2)+'w0',a3(0x23a)+'gW',a3(0x109)+'a',a3(0x352)+'dW',a3(0x371)+'18',a3(0x11b)+'3m',a3(0x2d1)+'ca',a3(0x351)+a3(0x18a),a3(0x2f8)+'Ni',a3(0x2ab)+'hi',a3(0x130)+'wm',a3(0x226)+'2G',a3(0x2fa)+'ue',a3(0x2ba)+'xq',a3(0x128)+'2W',a3(0x350)+'a',a3(0x2cc)+'vq',a3(0x243)+'MS',a3(0x23d)+'wu',a3(0x2b9)+'w4',a3(0x1cb)+'tO',a3(0x190)+'gi',a3(0x242)+a3(0x19d)+'zT',a3(0x19b)+'ee',a3(0x2f4)+'g4',a3(0x1d7)+'g8',a3(0x219)+a3(0x214),a3(0x24b)+'Y4',a3(0x175)+'sa',a3(0x14d),a3(0x2f5)+'3q',a3(0x3a4)+'ca',a3(0x260)+'wi',a3(0x35a)+'2W',a3(0x2b4)+'ca',a3(0x2c6)+'ei',a3(0x311)+'xm',a3(0x26c)+'wW',a3(0x245)+'q',a3(0xff)+'w4',a3(0x177)+'xK',a3(0x1d6)+'MW',a3(0x1f0)+'wi',a3(0x104)+a3(0x2f6)+'u',a3(0x376)+'gi',a3(0x288),a3(0xfb)+'3q',a3(0x396),a3(0x304)+'ca',a3(0x33b),a3(0x1f7)+'fm',a3(0x34f)+'wy',a3(0x328),a3(0x20e)+'hm',a3(0x25d)+'fu',a3(0x1d0)+'gu',a3(0x2ea)+'2S',a3(0x30d)+'2K',a3(0x38f)+'ca',a3(0x3cb)+a3(0x31b)+'i',a3(0x273)+'gK',a3(0x181),a3(0x390)+'e0',a3(0x237),a3(0x27d)+'hq',a3(0x155)+'w0',a3(0x357)+'W',a3(0x1aa)+'gu',a3(0x2e4)+'q',a3(0x338)+'3u',a3(0x189)+'YK',a3(0x3bb)+'xq',a3(0x238)+'3y',a3(0x388)+'Ya',a3(0xf0)+'2W',a3(0x24a)+'wu',a3(0x3bd)+'Ya',a3(0x3bf)+'g8',a3(0x36b)+'a',a3(0x39f)+a3(0xf6)+a3(0x178)+a3(0x342),a3(0x1df)+'xi',a3(0x37f)+'sa',a3(0x33a)+'Ya',a3(0x1de)+'c4',a3(0xec)+'M8',a3(0x241)+'0u',a3(0x1a1)+'wu',a3(0x101)+'w0',a3(0x10d)+'a',a3(0x25b),a3(0x104)+a3(0x359)+'W',a3(0x337)+'xi',a3(0x1e3)+'xq',a3(0x205)+'gi',a3(0x38d)+a3(0x257),a3(0x255),a3(0x346)+'sa',a3(0x12a)+'YW',a3(0x254)+'M8',a3(0x22e)+a3(0x10b)+a3(0x26d)+a3(0x324),a3(0x35b)+'L8',a3(0x3b4)+'Mu',a3(0xed)+'Ia',a3(0x112)+'g8',a3(0x380)+'ge',a3(0x2ac)+'gi',a3(0x1fb)+'3q',a3(0x14e)+'eG',a3(0x20b)+a3(0x191)+'r6',a3(0x1c6)+'J4',a3(0x116)+'t4',a3(0x19a)+'gK',a3(0x333)+'ca',a3(0x236)+'xa',a3(0x364)+'20',a3(0x313)+'xm',a3(0x11a)+'xi',a3(0x2be)+'wq',a3(0x22a)+'J4',a3(0x258)+'ge',a3(0x381)+'Ni',a3(0x216)+'08',a3(0x2c0)+'gq',a3(0x14b)+'d0',a3(0x314)+'3u',a3(0x392)+'2G',a3(0x296)+'eK',a3(0x17d)+a3(0x18b)+'m',a3(0x163)+a3(0x27a),a3(0x13e)+'3i',a3(0x1a0)+a3(0x2ff),a3(0x15e)+'ca',a3(0x1b2)+'g8',a3(0x163)+a3(0x284),a3(0x1ce)+'wq',a3(0x14c)+'a',a3(0x397)+'eu',a3(0x3c4)+'3m',a3(0x269)+'xu',a3(0x3c5)+'xu',a3(0x1a5)+'gu',a3(0x195)+'we',a3(0x163)+a3(0x35c),a3(0x3bc)+'G',a3(0x3a2)+a3(0x22b)+a3(0x1ff),a3(0x2a6)+'W',a3(0xef)+'ca',a3(0x104)+a3(0x2bc)+'K',a3(0x228)+'c4',a3(0x2a8)+'MS',a3(0x13f)+'sa',a3(0x156)+'gi',a3(0x132)+'gy',a3(0x213)+'dW',a3(0x17c),a3(0x2d4)+'uq',a3(0x31e)+'2q',a3(0x21e),a3(0x279)+'a',a3(0x1e2),a3(0x229)+'gi',a3(0x322)+'ha',a3(0x2b0)+'a',a3(0x31a)+'2u',a3(0x1be)+'xm',a3(0x2e4)+'tO',a3(0x22d)+'eu',a3(0x347)+'e0',a3(0x270)+'2u',a3(0x384)+'3i',a3(0x22f)+'w0',a3(0x352)+'hq',a3(0x1a8)+'wq',a3(0x38d)+a3(0x2fb),a3(0x349)+'GO',a3(0x2af)+'fm',a3(0x1fe)+'u4',a3(0x2cb)+'Ya',a3(0x38d)+a3(0x315),a3(0x2e3)+'ca',a3(0x175)+'tO',a3(0x100)+'KW',a3(0x1d9)+'ca',a3(0x2eb)+'2e',a3(0x27e)+'M8',a3(0x1cb)+'sa',a3(0xfa)+'a',a3(0x26b)+'gW',a3(0xf1)+'gu',a3(0x2fc)+'3i',a3(0x334)+a3(0x29d)+'W',a3(0x2c4)+'ge',a3(0x2e8)+'Ya',a3(0x10c)+a3(0x1c3)+a3(0x105)+a3(0x154),a3(0x393)+'gK',a3(0x34c)+'hK',a3(0x215),a3(0x297)+'W',a3(0x3cc)+'ge',a3(0x2e0)+'Ia',a3(0x326)+'f8',a3(0x24c)+'xm',a3(0x291)+'wm',a3(0x111)+'Lu',a3(0x377),a3(0x1ef)+'gW',a3(0x2df)+'a',a3(0x3a7),a3(0x2a3)+'Je',a3(0x12b)+'2G',a3(0x28f),a3(0x274)+'q',a3(0x163)+a3(0x317),a3(0x1a7),a3(0x199)+'Ya',a3(0x3ba)+'w4',a3(0x34d)+'1e',a3(0x198)+'wm',a3(0x2e5)+a3(0x2ef)+a3(0x207),a3(0x3b0),a3(0x2c7)+'3i',a3(0x1ee),a3(0x31f)+'w4',a3(0x334)+a3(0x391)+'8',a3(0x107)+'vu',a3(0x210)+'aO',a3(0x222)+'hq',a3(0x368)+'a',a3(0x163)+a3(0x1a2),a3(0x28d)+'wW',a3(0x16d)+'M0',a3(0x2b2)+'3C',a3(0x33e)+'gu',a3(0x2b0)+'c4',a3(0x145)+'dO',a3(0x185)+'M8',a3(0x352)+'a',a3(0x30f)+'G',a3(0x137),a3(0x12d)+'M0',a3(0x2ca)+'w4',a3(0x275)+'xm',a3(0x13f)+'uK',a3(0x196)+'gu',a3(0x3b5)+'um',a3(0x166)+'hq',a3(0x3c3)+'xq',a3(0x19f)+'gu',a3(0x353)+'0u',a3(0x1c1)+'hm',a3(0x281)+'ca',a3(0x1a3)+'a',a3(0x2db)+a3(0x1d1)+a3(0x3b3),a3(0x2b6)+'Nu',a3(0x118)+'MK',a3(0x3ab)+'wi',a3(0x11f),a3(0x3ae),a3(0x16d)+'Ia',a3(0x1f9)+'MK',a3(0x383)+'2e',a3(0x108)+'gW',a3(0x221)+'gy',a3(0x386)+'W',a3(0x13f)+'q',a3(0x2e9)+'J4',a3(0x1b6)+'0i',a3(0x163)+a3(0x38b),a3(0x1dd)+'Nm',a3(0x38d)+a3(0x295),a3(0x1c9)+'g8',a3(0x1c0)+'xq',a3(0x1e1)+'g8',a3(0x121)+'L8',a3(0x308)+'ge',a3(0x361)+'24',a3(0x320)+'3i',a3(0x277)+'K8',a3(0x2c9)+'xq',a3(0x25e)+'a',a3(0x1e9)+'YK',a3(0x1f2)+'sa',a3(0x1af)+a3(0x398)+'e',a3(0x218)+'2i',a3(0x1bb)+'w4',a3(0x168)+'gq',a3(0x2c8)+'xq',a3(0x239)+'wC',a3(0x28a)+'Nq',a3(0x1f4)+'ca',a3(0x1e5)+'w8',a3(0x2da)+'xq',a3(0x3bc)+'JO',a3(0x326)+'ca',a3(0x124)+'gK',a3(0x387)+'xu',a3(0x17d)+a3(0x212)+'4',a3(0x1c5)+'ZO',a3(0x323),a3(0x2f3)+'Ja',a3(0x225)+'sC',a3(0x325)+'G',a3(0x390)+'f8',a3(0x202)+'1i',a3(0x188)+'2e',a3(0x163)+a3(0x33d),a3(0x28c)+'xy',a3(0x1c4)+'W',a3(0x1b1)+a3(0x10f)+a3(0x171),a3(0x2b7)+'a',a3(0x1a4)+'xq',a3(0x3ab)+'q',a3(0x34e),a3(0x38a)+'eu',a3(0x319)+'sa',a3(0x160)+'3q',a3(0xf4)+'Ni',a3(0x336)+'e4',a3(0x3b7)+'Ya',a3(0x23e)+'gG',a3(0x134)+'3q',a3(0x373)+'MW',a3(0x13c)+'wu',a3(0x2ab)+'hq',a3(0x39e)+'wi',a3(0x1e9)+'Ya',a3(0x19c)+'gu',a3(0x38c)+'xu',a3(0x3c9)+'w8',a3(0x3c6)+'gu',a3(0x24e)+'w4',a3(0x21c)+'di',a3(0x24d)+'q',a3(0x17d)+a3(0x157)+'q',a3(0x1d2)+'2W',a3(0x2a1)+'Ia',a3(0x14a)+'gy',a3(0x194)+a3(0x248)+'q',a3(0x21a)+'hq',a3(0x129)+'xq',a3(0x186)+'2y',a3(0x180)+'q',a3(0x3aa)+'gK',a3(0x26f)+'ge',a3(0x395)+'we',a3(0x221)+'fq',a3(0x2db)+a3(0x1d1)+a3(0x358),a3(0x2d7)+'w0',a3(0x2aa)+'gq',a3(0x278)+'20',a3(0x289)+'W',a3(0x2b0)+'ca',a3(0x16d)+'JO',a3(0xf8)+'wW',a3(0x2b8)+'g8',a3(0x2d6)+'ee',a3(0x197),a3(0x290),a3(0x2cd)+'xq',a3(0x176)+'q',a3(0x19b)+'hC',a3(0x312)+'xm',a3(0x2c3)+'gW',a3(0x231)+'gu',a3(0x21f)+'Mu',a3(0x1f8)+'fm',a3(0x32a)+'g8',a3(0x39b)+'w4',a3(0x163)+a3(0x36f),a3(0x11c)+'q',a3(0x11e)+'Mu',a3(0x141)+'M8',a3(0x138)+'Mq',a3(0x2ee)+'2m',a3(0x3bc)+'Ia',a3(0x2bf)+'a',a3(0x271)+'cG',a3(0x217)+'ge',a3(0x37d)+'2K',a3(0x30c)+'3q',a3(0x1dc)+'sa',a3(0x2b1)+'v8',a3(0x28b)+'xa',a3(0x21b)+'a',a3(0x2ed)+'3i',a3(0x169)+'xm',a3(0xfd)+'gu',a3(0x158),a3(0x151)+'g4',a3(0x147)+'Ya',a3(0x128)+'3q',a3(0x26a),a3(0x230)+'g8',a3(0x374)+'we',a3(0x299)+'G',a3(0x2b5)+'YK',a3(0x20d)+'a',a3(0x2bd)+'a',a3(0x365)+'Ya',a3(0x2a4)+'gK',a3(0x3b2)+'gy',a3(0x201)+'d8',a3(0x2c5)+'gu',a3(0x2a5)+'Mm',a3(0x175)+'q',a3(0x263)+'Ya',a3(0x1e7)+'hq',a3(0x267)+'gu',a3(0x2d2),a3(0x142)+'vG',a3(0x263)+'G',a3(0x27f)+'ge',a3(0x12f)+a3(0x1d1)+a3(0xfe),a3(0x30a)+'MW',a3(0x2e1)+'wq',a3(0x293)+'a',a3(0x345)+'gy',a3(0x3b9)+'ge',a3(0x164)+'2W',a3(0x104)+a3(0x135)+'4',a3(0x389)+'Nm',a3(0x15c)+'ee',a3(0x2a7),a3(0x33f)+'gu',a3(0x200)+'My',a3(0x2f2)+'3q',a3(0x211)+'2W',a3(0x352)+'hm',a3(0x182)+'hK',a3(0x131)+'3q',a3(0x1d5)+'W',a3(0x1d4)+'1i',a3(0x113)+'gG',a3(0x29a)+'xi',a3(0x379)+'3i',a3(0x146)+'w4',a3(0x104)+a3(0xf7)+'u',a3(0x1ca)+'wm',a3(0x13b)+'w4',a3(0x25c)+'gK',a3(0x2fd)+'xm',a3(0x15a)+'MK',a3(0x15d)+'G',a3(0x16e)+'NK',a3(0x2a4)+'hm',a3(0x20c)+'wq',a3(0x30b)+'wm'];return a0a=function(){return a;},a0a();}import{info,error}from'../bookieutils/logger.js';import{getConfig}from'../bookieutils/config.js';export const name=a0D(0x287)+a0D(0x19e);export const version=a0D(0x12f);registerModule(name);const PENDING_ACTION_TIMEOUT_MS=0x1e*0x3c*0x3e8,CLEANUP_INTERVAL_MS=0x5*0x3c*0x3e8,SCHED_PREFIX=a0D(0x8a)+'::',MAX_BUTTONS_PER_ROW=0x8,MAX_TOTAL_BUTTONS=0x18,DEFAULT_TIMEZONE=a0D(0x291)+a0D(0x1f5)+a0D(0x22d),schedules=new Map(),pendingButtonActions=new Map(),pendingMessageActions=new Map();let botApi=null,schedulerInterval=null;function normalizeTime(f){const g=a0D;if(!/^\d{1,2}:\d{2}$/[g(0xe7)](f))return null;const [h,i]=f[g(0x2eb)](':'),j=parseInt(h,0xa),k=parseInt(i,0xa);if(j<0x0||j>0x17||k<0x0||k>0x3b)return null;return String(j)[g(0x2fc)+g(0xd0)](0x2,'0')+':'+String(k)[g(0x2fc)+g(0xd0)](0x2,'0');}const escapeHtml=b=>{const c=a0D;if(typeof b!==c(0x230)+'g')return b;return b[c(0xca)+'ce'](/&/g,c(0x211))[c(0xca)+'ce'](/</g,c(0x162))[c(0xca)+'ce'](/>/g,c(0x320));},isAdmin=c=>{const d=a0D;try{const {ADMINS:ADMINS=[]}=getConfig();return!!c[d(0x10c)]&&Array[d(0x140)+'ay'](ADMINS)&&ADMINS[d(0x20e)+d(0x30f)](c[d(0x10c)]['id']);}catch(e){return error(d(0x1b7)+d(0x1c2)+d(0x28f)+d(0x2e0)+e[d(0x108)+'ge']),![];}},ensureChatSchedule=b=>{const c=a0D;return!schedules[c(0x2ab)](b)&&schedules[c(0x12e)](b,{'slots':{},'lastAccess':Date[c(0xd6)]()}),schedules[c(0x168)](b)[c(0x1a9)+c(0x8d)]=Date[c(0xd6)](),schedules[c(0x168)](b)[c(0x288)];};async function safeApplyFont(c){const d=a0D;try{return await applyFont(name,c);}catch(e){return error(d(0xfe)+d(0x12a)+d(0x29d)+d(0x23c)+d(0x2e0)+e[d(0x108)+'ge']),c;}}async function initDatabase(){const b=a0D;try{await db[b(0x263)](b(0x96)+b(0x300)+b(0x1b3)+b(0x11d)+b(0x8c)+b(0x2bb)+b(0x19d)+b(0x289)+b(0x8a)+b(0x199)+b(0xba)+b(0x300)+b(0x300)+b(0x205)+b(0x79)+b(0x24d)+b(0x1fa)+b(0xcf)+b(0x6a)+b(0x300)+b(0x300)+b(0x300)+b(0x1d5)+b(0x284)+b(0x2c4)+b(0x2b0)+b(0x300)+b(0x300)+b(0x300)+b(0x2fe)+b(0x301)+b(0x27a)+b(0x1e2)+b(0x125)+b(0x20f)+b(0x300)+b(0x300)+b(0x223)+b(0x1dd)+b(0x141)+b(0xcf)+b(0x6a)+b(0x300)+b(0x300)+b(0x300)+b(0x33a)+b(0x24c)+b(0xe5)+b(0x300)+b(0x300)+b(0x300)+b(0x225)+b(0x15d)+b(0xe5)+b(0x300)+b(0x300)+b(0x300)+b(0x2ae)+b(0x22c)+b(0x2b8)+b(0x300)+b(0x300)+b(0x300)+b(0x12b)+b(0x2fa)+b(0x284)+b(0xe4)+b(0xa0)+b(0x130)+b(0x24b)+b(0x300)+b(0x300)+b(0x15b)+b(0x252)+b(0x13d)+b(0x2b8)+b(0x300)+b(0x300)+b(0x300)+b(0x2ea)+b(0xfc)+b(0x2e9)+b(0x79)+b(0x31f)+b(0x1db)+b(0x300)+b(0x300)+b(0x2fd)+b(0x300)+'\x20'),info(b(0x148)+b(0x193)+b(0x15c)+b(0x1d2)+b(0x179)+b(0x22b)+b(0x18e));}catch(c){error(b(0x148)+b(0x193)+b(0x15c)+b(0x16a)+b(0x14d)+b(0x23d)+'\x20'+c[b(0x108)+'ge']);throw c;}}async function loadSchedules(){const e=a0D;try{const h=await db[e(0x26e)](e(0xf8)+e(0x2b3)+e(0x313)+e(0x269)+e(0x1c7));schedules[e(0x32e)]();for(const i of h){const j=i[e(0xcc)+'id'],k={'time':i[e(0x322)],'enabled':Boolean(i[e(0x145)+'ed']),'text':i[e(0x1a3)],'entities':i[e(0x33a)+e(0x1fd)]?JSON[e(0x2ce)](i[e(0x33a)+e(0x1fd)]):[],'buttons':i[e(0x1e3)+'ns']?JSON[e(0x2ce)](i[e(0x1e3)+'ns']):[],'layout':i[e(0x323)+'t']?JSON[e(0x2ce)](i[e(0x323)+'t']):[],'frequency':i[e(0x12b)+e(0x198)]||e(0x22e),'lastSent':i[e(0x2b5)+e(0x17b)]?DateTime[e(0xf6)+'SO'](i[e(0x2b5)+e(0x17b)]):null},l=ensureChatSchedule(j);l[i[e(0x322)]]=k;}info(e(0x237)+'d\x20'+h[e(0x30c)+'h']+(e(0x321)+e(0x1cd)+e(0x76)+e(0x180)+e(0x103)+e(0x1d6)));}catch(m){error(e(0x1ab)+e(0x208)+e(0x227)+e(0x8a)+e(0x24f)+'\x20'+m[e(0x108)+'ge']);}}async function saveSlotToDB(d,e){const f=a0D;try{await db[f(0x1aa)](f(0x96)+f(0x300)+f(0xb4)+f(0x74)+f(0x1e6)+f(0x27f)+f(0x299)+f(0x321)+f(0x1cd)+f(0x262)+f(0x300)+f(0x2bc)+f(0xcc)+f(0x297)+f(0x30e)+f(0x145)+f(0xe6)+f(0xb7)+f(0x33a)+f(0x226)+f(0x1e3)+f(0x2df)+f(0x238)+f(0x170)+f(0x197)+f(0x1e4)+f(0x252)+f(0x2b6)+f(0x300)+f(0x300)+f(0x314)+f(0x279)+f(0x1ed)+f(0x1cc)+f(0x195)+f(0x1ed)+f(0x324),d,e[f(0x322)],e[f(0x145)+'ed']?0x1:0x0,e[f(0x1a3)],JSON[f(0x230)+f(0x304)](e[f(0x33a)+f(0x1fd)]||[]),JSON[f(0x230)+f(0x304)](e[f(0x1e3)+'ns']||[]),JSON[f(0x230)+f(0x304)](e[f(0x323)+'t']||[]),e[f(0x12b)+f(0x198)],e[f(0x2be)+f(0xc8)]?e[f(0x2be)+f(0xc8)][f(0x7d)]():null);}catch(g){error(f(0x1f2)+f(0x2ba)+f(0x194)+f(0x1b2)+d+',\x20'+e[f(0x322)]+f(0x312)+g[f(0x108)+'ge']);throw g;}}async function deleteSlotFromDB(d,e){const f=a0D;try{await db[f(0x1aa)](f(0x2ee)+f(0x119)+f(0x294)+f(0xfb)+f(0xaa)+f(0x81)+f(0x79)+f(0x1c8)+f(0x2b4)+f(0x7f)+'\x20?',d,e);}catch(g){error(f(0x2da)+f(0x181)+f(0x133)+f(0x106)+'['+d+',\x20'+e+f(0x312)+g[f(0x108)+'ge']);throw g;}}function shouldSendSlot(g,h){const i=a0D,{frequency:j,lastSent:k}=g;if(!k)return!![];const l=k[i(0x275)+'ne'](h[i(0x249)]);if(j===i(0x22e))return!l[i(0xbb)+'me'](h,i(0x28b));if(j===i(0x1ae)+'y')return h[i(0x1be)](l,i(0x137))[i(0x137)]>=0x7;if(j[i(0x206)+i(0x143)](i(0x1bf)+i(0x6c)+i(0x104))){const m=parseInt(j[i(0x2eb)](':')[0x1],0xa);if(isNaN(m)||m<0x1)return![];return h[i(0x1be)](l,i(0x137))[i(0x137)]>=m;}return![];}function tick(){const e=a0D;try{const h=DateTime[e(0xd6)]()[e(0x275)+'ne'](getConfig()[e(0x1de)+e(0x169)]||DEFAULT_TIMEZONE),i=h[e(0x118)+e(0x33d)](e(0x15f));for(const [j,{slots:k}]of schedules[e(0x235)+'es']()){const l=k[i];l?.[e(0x145)+'ed']&&shouldSendSlot(l,h)&&sendSlotMessage(j,l,h);}}catch(m){error(e(0x287)+e(0x210)+e(0x330)+e(0xe0)+':\x20'+m[e(0x108)+'ge']);}}function a0b(d,e){const f=a0a();return a0b=function(k,l){const a4=a0d;k=k-0x67;let m=f[k];if(a0b[a4(0x1f3)+'Q']===undefined){var n=function(v){const a5=a4,w=a5(0x3ca)+a5(0x165)+a5(0x2c2)+a5(0x3be)+a5(0x348)+a5(0x327)+a5(0x1bd)+a5(0x29e)+a5(0x36c)+a5(0x1bf)+a5(0x227)+a5(0x363)+a5(0x1f6);let x='',y='';for(let z=0x0,A,B,C=0x0;B=v[a5(0x310)+'t'](C++);~B&&(A=z%0x4?A*0x40+B:B,z++%0x4)?x+=String[a5(0x19e)+a5(0x2a2)+'de'](0xff&A>>(-0x2*z&0x6)):0x0){B=w[a5(0x36d)+'Of'](B);}for(let D=0x0,E=x[a5(0x2d9)+'h'];D<E;D++){y+='%'+('00'+x[a5(0x378)+a5(0x3b1)](D)[a5(0x144)+a5(0x244)](0x10))[a5(0x343)](-0x2);}return decodeURIComponent(y);};a0b[a4(0x356)+'n']=n,d=arguments,a0b[a4(0x1f3)+'Q']=!![];}const o=f[0x0],p=k+o,q=d[p];return!q?(m=a0b[a4(0x356)+'n'](m),d[p]=m):m=q,m;},a0b(d,e);}function startAlignedScheduler(){if(schedulerInterval)clearInterval(schedulerInterval);const b=()=>{const c=a0b,d=0xea60-Date[c(0xd6)]()%0xea60;setTimeout(()=>{const e=c;tick(),schedulerInterval=setInterval(tick,0xea60),info(e(0x246)+e(0xfb)+e(0x7b)+e(0x87)+e(0xc3)+e(0x2c8)+e(0x208)+e(0x292)+e(0x24a)+e(0x2e8)+e(0x105));},d);};b();}async function sendSlotMessage(e,i,r){const s=a0D;if(!botApi)return error(s(0x82)+s(0x1fc)+s(0x2c0)+s(0x120)+s(0x18c)+s(0x2d1)+s(0x295)+s(0x1f3)+s(0x302)+s(0x1f9)+s(0x2d9));try{const t={'entities':i[s(0x33a)+s(0x1fd)],'disable_web_page_preview':!![]};if(i[s(0x1e3)+'ns']?.[s(0x30c)+'h']>0x0){const u=new InlineKeyboard();let v=0x0;const w=i[s(0x323)+'t']?.[s(0x30c)+'h']>0x0?i[s(0x323)+'t']:[i[s(0x1e3)+'ns'][s(0x30c)+'h']];for(const x of w){const y=[];for(let z=0x0;z<x;z++){const A=i[s(0x1e3)+'ns'][v++];if(A)y[s(0x190)](InlineKeyboard[s(0x337)](A[s(0x2d3)],A[s(0x337)]));}if(y[s(0x30c)+'h']>0x0)u[s(0x22a)](...y);}t[s(0x2cf)+s(0x278)+'up']=u;}await botApi[s(0xab)+s(0x217)+'e'](e,i[s(0x1a3)],t),i[s(0x2be)+s(0xc8)]=r,await saveSlotToDB(e,i),info(s(0x333)+s(0xb3)+s(0x234)+s(0x269)+s(0x298)+s(0x217)+s(0xc4)+e+s(0xbe)+i[s(0x322)]);}catch(B){error(s(0x1ab)+s(0x208)+s(0x21e)+s(0x163)+s(0x29b)+e+':\x20'+B[s(0x108)+'ge']);const C=B[s(0x29e)+s(0x1d0)+'n']?.[s(0xeb)+s(0x265)+'e']()||'';if(C[s(0x20e)+s(0x30f)](s(0x25e)+s(0x17e)+s(0x2c2))||C[s(0x20e)+s(0x30f)](s(0x129)+s(0x9c)+s(0x336))||C[s(0x20e)+s(0x30f)](s(0x316)+'ed')){info(s(0x16c)+s(0x2d2)+s(0x286)+s(0x76)+s(0x127)+'\x20'+e+(s(0x228)+s(0x1ba)+s(0x224)+s(0x321)+s(0x1cd)+s(0x106)+s(0xd3)));const D=schedules[s(0x168)](e)?.[s(0x288)];if(D)for(const E of Object[s(0x259)+'s'](D)){E[s(0x145)+'ed']&&(E[s(0x145)+'ed']=![],await saveSlotToDB(e,E));}}}}const makeToken=()=>''+SCHED_PREFIX+crypto[a0D(0x1df)+a0D(0x9f)](),setPendingButtonAction=c=>{const d=a0D,e=makeToken();return pendingButtonActions[d(0x12e)](e,{'payload':c,'expiresAt':Date[d(0xd6)]()+PENDING_ACTION_TIMEOUT_MS}),e;},setPendingMessageAction=(c,d)=>{const e=a0D;pendingMessageActions[e(0x12e)](c,{'payload':d,'expiresAt':Date[e(0xd6)]()+PENDING_ACTION_TIMEOUT_MS});};function startCleanup(){setInterval(()=>{const g=a0b,h=Date[g(0xd6)]();let i=0x0;for(const [j,k]of pendingButtonActions[g(0x235)+'es']())k[g(0x1d9)+g(0x183)]<h&&(pendingButtonActions[g(0x1f4)+'e'](j),i++);for(const [l,m]of pendingMessageActions[g(0x235)+'es']())m[g(0x1d9)+g(0x183)]<h&&(pendingMessageActions[g(0x1f4)+'e'](l),i++);if(i>0x0)info(g(0xe2)+g(0x13c)+i+(g(0x31a)+g(0xa5)+g(0xf4)+g(0x1b1)+g(0x290)));},CLEANUP_INTERVAL_MS);}async function generateMainMenu(c){const d=a0D,e=new InlineKeyboard();return e[d(0x1a3)](await safeApplyFont(d(0x86)+d(0x334)+d(0x1ad)),setPendingButtonAction({'type':d(0x75)+d(0x7e)+d(0x20b),'chatId':c}))[d(0x22a)](),e[d(0x1a3)](await safeApplyFont(d(0x260)+d(0x26a)+d(0x2e3)+d(0x31b)),setPendingButtonAction({'type':d(0xdd)+d(0x6b)+d(0x229)+d(0xc6)+'on','action':d(0x75)+d(0x13a)+d(0x1c5)+d(0x31b),'chatId':c})),e[d(0x1a3)](await safeApplyFont(d(0x155)+d(0x26a)+d(0x31e)+d(0x187)),setPendingButtonAction({'type':d(0xdd)+d(0x6b)+d(0x229)+d(0xc6)+'on','action':d(0x132)+d(0x1e3)+'ns','chatId':c}))[d(0x22a)](),e[d(0x1a3)](await safeApplyFont(d(0x2b1)+d(0x114)+d(0x335)+'e'),setPendingButtonAction({'type':d(0xdd)+d(0x6b)+d(0x229)+d(0xc6)+'on','action':d(0x75)+d(0x73)+d(0x2de)+'e','chatId':c})),e[d(0x1a3)](await safeApplyFont(d(0x25b)+d(0x21b)+d(0x197)+'y'),setPendingButtonAction({'type':d(0xdd)+d(0x6b)+d(0x229)+d(0xc6)+'on','action':d(0x75)+d(0x73)+d(0x220)+d(0x197)+'y','chatId':c}))[d(0x22a)](),e[d(0x1a3)](await safeApplyFont(d(0x11e)+d(0x171)+d(0x23e)),setPendingButtonAction({'type':d(0xdd)+d(0x6b)+d(0x229)+d(0xc6)+'on','action':d(0x145)+'e','chatId':c})),e[d(0x1a3)](await safeApplyFont(d(0x2c3)+d(0x2a3)+d(0x2ed)),setPendingButtonAction({'type':d(0xdd)+d(0x6b)+d(0x229)+d(0xc6)+'on','action':d(0x308)+'le','chatId':c}))[d(0x22a)](),e[d(0x1a3)](await safeApplyFont(d(0x2cc)+d(0x310)+d(0x23e)),setPendingButtonAction({'type':d(0xdd)+d(0x6b)+d(0x229)+d(0xc6)+'on','action':d(0x1f4)+'e','chatId':c})),e[d(0x1a3)](await safeApplyFont(d(0x83)+d(0x109)+d(0x1ad)+'s'),setPendingButtonAction({'type':d(0x2a5)+d(0x288),'chatId':c})),e;}async function generateSlotSelector(k,l){const m=a0D,n=ensureChatSchedule(k),o=Object[m(0xc9)](n)[m(0x191)]((q,r)=>q[m(0xe9)+m(0x182)+m(0x2fb)](r,undefined,{'numeric':!![]}));if(o[m(0x30c)+'h']===0x0)return null;const p=new InlineKeyboard();for(const q of o){const r=n[q],s=r[m(0x145)+'ed']?'🟢':'🔴',t=r[m(0x1e3)+'ns']?.[m(0x30c)+'h']||0x0,u=setPendingButtonAction({'type':m(0x2e2)+m(0x126)+m(0x115)+m(0xa6),'chatId':k,'action':l,'time':q});p[m(0x1a3)](s+'\x20'+q+'\x20('+t+m(0x29c)+r[m(0x12b)+m(0x198)]+')',u)[m(0x22a)]();}return p[m(0x1a3)](await safeApplyFont(m(0x219)+m(0x1fe)+m(0x1f1)+m(0xd7)),setPendingButtonAction({'type':m(0xdd)+m(0x177)+'up','chatId':k}))[m(0x22a)](),p;}async function generateFrequencySelector(d,e){const f=a0D,g=new InlineKeyboard();return g[f(0x1a3)](await safeApplyFont(f(0x97)+'ly'),setPendingButtonAction({'type':f(0x158)+f(0x146)+f(0x30b),'chatId':d,'time':e,'frequency':f(0x22e)}))[f(0x22a)](),g[f(0x1a3)](await safeApplyFont(f(0x1b8)+f(0xd9)),setPendingButtonAction({'type':f(0x158)+f(0x146)+f(0x30b),'chatId':d,'time':e,'frequency':f(0x1ae)+'y'}))[f(0x22a)](),g[f(0x1a3)](await safeApplyFont(f(0x309)+f(0x254)+f(0x95)),setPendingButtonAction({'type':f(0x158)+f(0x146)+f(0x30b),'chatId':d,'time':e,'frequency':f(0x1bf)+f(0x6c)+f(0x248)})),g[f(0x1a3)](await safeApplyFont(f(0x309)+f(0x2d5)+f(0x95)),setPendingButtonAction({'type':f(0x158)+f(0x146)+f(0x30b),'chatId':d,'time':e,'frequency':f(0x1bf)+f(0x6c)+f(0x10b)}))[f(0x22a)](),g[f(0x1a3)](await safeApplyFont(f(0x219)+'k'),setPendingButtonAction({'type':f(0xdd)+f(0x6b)+f(0x229)+f(0xc6)+'on','action':f(0x75)+f(0x73)+f(0x220)+f(0x197)+'y','chatId':d})),g;}function a0c(){const a6=['ru05vxO','AwqWr3a','Awfpr2K','EMDMnq','rhHYmei','qxD2wG','mZq1nJC','AwD6wui','AwHesem','qwDMvxO','DgKYBNu','rgD2wKq','rhHXr3y','yNr6D1C','C3vXnMK','t1bruLm','Aw5KzxG','Etj1r0i','zNjpENe','rgnxr3K','ENHithK','C3zUDxu','ENC1shK','EK05wui','qKLItem','qJnPr3a','ExHQma','y2HHCKm','CNHQwui','qwDMmNO','qxD2wMK','qxHImee','ExHTr0e','CJb2C2K','ENDMwNO','Edi1rNO','ENHdr3O','EK52u0i','qND2wKm','qZe5tui','C2jMEMC','rxHTnM0','EK5Qtem','EMDmvxO','rgHYvKi','qK5Xr3y','zfHjCeC','CK5Qtem','nfbzzMK','DhnIwNK','rxC5muq','ENDYueq','y2j0qMC','DuT1r3K','EdjMsKq','ouzdBMrrAW','qK1mmee','q011kW','DMvMy3q','swjMqK0','DgC5shO','q2DMwum','AwD6vKq','ENy5tui','qxDemum','CMDMmhK','BuPTnw8','C2HPzNq','BKXeyq','ogOREeS','BvLIsuq','A3rtA2K','we1Ytvm','zg5TD2C','qxHXvq','qZnYrKm','DhPKruS','qMD2wwK','EMDMmhK','Dda5Bxi','ENC1mgK','qtnTvq','ENnImum','ENHXvq','B2rLqxq','DuS5C2K','BKXcyq','AwCXvKq','Dtb2Bxi','ExHYthO','AwC1teq','owLcDNu','ENHXr0i','ENHUwKe','qJnQvhK','Cgm5sxa','AwCXwNO','ChfYC3q','q005wwK','mZjvswLcDhC','BMmXt0i','rgy5mee','EMnIsuq','EtjUtem','EMD2txK','qxC5vwK','Eu05mgK','qND1r3O','Awvyseu','ywjJzgu','BuPet3u','q012v0i','AK1Mvem','qJnQrKm','AwD2wum','Dgvxu2m','zwzkrge','y0LHr2K','qxHTr0m','ENDyteq','CMvQrNu','qMD1r3K','qxHUyKm','CMvQrNi','zg0YB2C','C2j4ENC','CxnImNK','EdnYuei','AwDMmgK','qMD2vxO','qxC5vum','BdnUsKe','CK9bCq','qK5UmhK','qKKXDNu','rgnIDue','ENHimgK','AwHYvKq','ogORDeG','yKL3thO','rgHTr3O','CMv2z3e','rgnIyKi','qJnPnMK','AwDyuee','sKCZBwu','BxrLng4','qJn2vxO','qxD2sW','BYS0sLK','qZnYsem','DdfXr3q','rgy5wKi','qJnPr0q','yMneEhe','rhHUtgK','CgHIwxO','ChvZAa','q0LIuei','ENDXnNa','qZj2v3K','AwuXtem','rgHQuei','qK1MvhO','q1LIsem','rxHTnG','yMz6z0S','qKW5vKi','qNC5mNO','ENCXvKq','ExHIv0i','qJnPr0i','D2zXu2m','q0LIs0q','qxC1tNG','ENHXr0e','qMC5vum','qNDMmhK','ExHUtgW','CeTiAw8','otKZmJDnwvvSsfK','ne8RwdC','ENnImee','ELLIshK','qK05mgK','qxC1tMW','qxCXthG','swjUExC','Cxu1zwK','qwD1rW','EK05mui','EMnItum','q05QvKm','ExDQu0e','q012weq','ohbotK5iEa','qxDXr3O','EK5QvKi','ENC1mem','rgy5tKm','DdfXr3i','Awrysxa','Dg9tDhi','EuO1Axm','CxDYvee','AwDmmem','rgnIz0m','qZj2mgK','qZnYwMK','qxCXtgK','qwDMmgK','ExHQta','qxC0r3m','qJnPrW','qwD1r3a','EtjMvwK','rgC4rW','AwCXuem','sKjx','BgnImee','qJnXr3a','swj0ENG','qJi1wG','qZnYwue','AwDYthO','EMD2wNK','qMDMwKq','EMDmtxO','q05YthO','qwDMwG','EdnUu0i','ExH2u0q','EuO0A3a','nfaYBwK','De04r0m','zMDOAwO','Awnit0q','ExDUuMK','rgC5vwK','rgnIvee','DeLIzxi','ogORDKS','q2HQueq','AwD6vKm','ENH6tem','qNDmvuq','Eu12wum','yNr6DZq','qJn2mgK','rgnIyNu','qMDmvxO','ENC1sKu','rgHmv3O','q0LIu3K','ug51txO','ExDyu0i','qxC1sei','CgDlk3q','ENDXvq','ogORDeK','qxC1sKi','Dgz3C3y','qZi5vhO','ExDeta','CNCXv0q','Cgm5v0m','BeLIzue','EJj1r3O','qZj2mhG','qJi1wNG','AwDYuem','CfLxr3a','zfHqCeC','wwjTqxG','qwD1r0q','AwDyseu','C3C1mNK','q012s2W','AwC1vMK','AeW0Dwy','uhzYtfa','DdfPr3u','ogORDu0','AwDUu3O','q0LImee','EJj2ma','qZj2u3O','qxC5mum','rgy5thO','Cu05mgK','AwHYvMK','mJLUEuW','zNjVBum','ENDYmui','nfa2DMK','AwzYuei','zxy0q2e','qxHQthO','rgy5wNO','EMnImee','EtjMmhK','qtjynq','ExHQmhO','qLPprW','AwHUsKe','CxD6wue','EtnQthK','EMDMuei','qZnXsa','ogORrK8','B3rXww8','ogORDLm','q0W5wKi','AwC5vxO','qJi0r0i','CK1MmhK','ENrpr3a','ENHMmxO','qvLImei','qJe5shO','ENHQzhK','rgnIwNO','qxD2wMW','ruzhseK','EJj1r0e','vfvwv1G','q012wNO','rhDytgK','q00Xseq','Dge0Bu4','EMDMnum','rgHYv0m','q0LHohK','ENHUwNO','EdiXsem','q2DMnui','q012s0q','qZjMtNO','qMC5shO','DMv2Exy','qZjUt3O','EMnImei','qJiXv0i','n0LWAwy','qJnPr0m','rgD2s2W','AwnHr3e','qJnPr3C','BfK5mum','B0LIDei','Bgfpr2K','A2fpr2K','qJnXr0i','DtjUt3O','AwHYt3O','rgDmvKi','Eu1ythO','EtjythK','q2HTnMW','rgnIDei','qJnXvq','ENC1mee','zuXvreC','ExDUmee','Eu52meq','rgDUt2K','q2D2wwK','rgC5vum','nJi3ntG3mfH4qwftzq','qJj2wMK','rgy5tui','EdjQmuq','qNDMvW','ENzQtem','EMDmwNK','EdiXtem','CNvMDxi','vvHMt2K','Cxz2Bxy','ExC1shO','odKRlZ0','ENHYtgK','Eu1ytgK','END6uei','ENHiv0e','rgnIvui','Awvmz2K','qMC5mgK','AwnHr3m','yMrcz3u','AwDUvKi','Awq4u2K','CNzQC3q','AwHUteq','q05lr20','qxC0r3a','rxnxr0i','zuDdvW','yNrczZG','qxDXu2K','EtjMv0q','Bxr5v3u','qMHQthK','q2H2wKe','DuS5BMK','AxbJrKW','CNziDwW','rdj2tee','swj0ENC','DgDmwKq','Egy0ENe','ENC1ma','rgC5ANu','qxDXr0i','qNCWogW','Bu1Qmhy','CdbQmuq','ENHUyKq','ExHXr2S','CtbMBw8','q012sW','BgnItum','EMH2u3O','qJi1wMK','ENDXu2K','AuK0A3y','qxC1tMK','ExDmu0u','D3nHt3K','wvOWmti','qxDYthO','EtjMu0i','qLLHohK','rsS0sLK','ELLIsei','q1LIEhm','BvPLww4','ENnIvuq','EMnIwKi','qK1Msui','AwnHr3K','nJmWndzuBuTetg8','Exm5B3K','qK1Yu3O','q2HQvKi','CgDPkW','AwHIwui','AwC5wue','qK5Tu2K','ExHTr0m','qMnIsuq','Awu1sei','qZfeueq','rgDmsei','AwDQmuq','Dtf2zhe','BKPXmee','AwDyuei','Aw5N','EJjmtuu','qMC5ma','EJj2mhe','y2j0ENG','swjXqMC','ENDXr0u','A2D1vxO','rgm0r3y','q005vgK','ELLIv3O','nfbzCdC','AKDtAwe','q005sue','rgy5tum','DeS5DwK','Etnlr3O','qNDMma','nfa2D2K','zxPzENe','q0LIwKq','y2jLqxG','qMDmtKi','rhHQuW','ENHerKq','Awz6yNq','DhDMngK','EtjithO','AwD2vxK','AwDHww8','ExCXvhC','rhDytem','qZj2mhC','zM5kqwe','AwC5sNK','EK1mu0q','BLPPv28','ExDUuNu','qK5TnG','rgm0r3u','qLLIwNO','BJfftNO','y2jUExC','AwnHr0i','qJndr0m','Bdjlk2K','re1Mu0q','AwD2nem','DhD2vuq','BeLIu3K','DKT2rNi','CNnIz3u','ENnIsKi','C2zYBNq','zNjpqxe','ExHmvKq','Edjyseu','AwvQmuq','rhHYrNO','ru12s2K','rxnIteu','CK05vuq','qK12s2K','wwe4EuO','zw5iqKC','ENHQnq','DwvyyNe','EJnQvKq','qK1Unq','AK1ymg8','rgzUtei','ENvUvKi','AwHIwxO','qMC5sNK','ENnlA2K','qK05mW','qJi1ta','EJj1r3K','rgnImee','rgD2neq','DNvyBwW','zM5tqLC','CtfQANy','qtj2num','vhrH','qMDynwW','AwHmvKq','EtjuthO','BeK0vwS','y2j0ENC','sKTmtu4','mMzSqJa','DMnHuwK','Eu12tei','AgfYq28','BgnHww8','ExHUtgK','q3H2tei','CMDMnum','q052vq','rxuXsem','CM15thu','rdjMwMK','qJnYwMK','CtjMu0i','CNzTr2S','ExDQu3O','DtfTnMK','qZjyvKq','Dgv2Dxi','rgC5Bui','Bdb2s0e','AwnHr2K','qJi0t0m','ExHPr3e','q05QthO','q1LIwKi','q1LIvhO','qZnIu0e','EMD2u3O','C2jLExC','qZi5wuq','ExHYrKe','qZj2vuq','rgy5shO','ENHUwNK','A2XTBM8','q0TUsei','ExC1s2K','rgDmmei','qMD2s2K','ENHQwui','rhHIs3K','ENnIwNO','ENC1s0e','qMC5mem','CMv2Bxi','qMDmnNK','Eu5lr3K','otC1mZy2t2HXCNfu','qvLItem','AwC1vKq','ExHIua','ExDeuei','qNz2DNm','qNrxvNK','rgD1vwK','C2vhnKi','DgDMnui','BgvUz3q','AwDUt3K','nfbzBJC','rgnIm3K','ExHesee','DhDMuei','qwHYmem','qxC5vw8','ExDYs3O','qK1Xr0m','ENHimgW','rgDmvhO','nfbrrZC','ExC1wKq','qMD2wG','ENnImei','rgnHohK','Eu1yvNK','qwDMwNu','AwDisei','rxnItui','AwHUmxK','n0LWAwu','zxjmqMe','EtjMmee','AwzUu0i','B3m0wMW','ENDUmgK','q2DMs3u','C2jMre0','zM5mqMe','EtjUmum','BeK0vwK','DwzQANq','ztfmq1C','qMHXr3O','rhnIt3K','qxC1tg8','zwzlEMe','ENzYteu','BxnxA2K','mJeYnZC2CwX1DgnM','qMDmnNO','qxCXtgW','C2jJExC','qKLItue','ExDyuW','Dwvlr0e','rgC4r3a','qxHUshK','AwDUt3O','AwHUu0i','EMm0ogW','qJi0r3q','qMD2s2W','y2HHCKe','qMD1r0e','DwDythK','AwD2nee','BeLIEKi','zvHirxe','q01MvxO','zxjmEKC','ENC1s2K','DMDmvhO','qZjyuhK','AfbsruW','AwzmvKq','qZnXr3K','DgzXr2O','CtjythK','rgC5z0i','CxC0r3O','q012s2K','qZj2ma','tufX','B0PMr2W','Etjiseq','EKfcq0q','EhrprW','BxrHm24','ENDXr0q','nZCWotvcBu1eDeu','BvPXnhi','qMDmwKq','mtm1mtm5oxnRB2Lsua','q005mW','BvPhnw4','qND1r2S','BgnHl2W','Dtb2C3y','ogORDvq','AwDYtei','CNziDwK','qK5Tr3K','qMDMnui','rgnIsgK','rgDmsKe','EMD2wG','q0Llvq','zwzvAwe','q2Dyteq','CK1Muei','ExDyuhO','AwvmB3y','ChfX','C2XPy2u','rgDiuem','B00XvgK','rhD2wuu','qZj2vxO','Dxz3EhK','BdjPk2m','qJn2v2K','Be1UvKi','q012shO','Eu1MsKe','ENDXrW','qNC5s0e','DtjyvKq','ne9JDwK','EK05wwK','DuXlr3m','CtjMvui','qK5Xugm','sNjlBha','AK1emg8','BKXcrW','C2j0ENC','qMDxr0m','Edj6vKm','ztvwAwe'];a0c=function(){return a6;};return a0c();}async function generateButtonEditorMenu(d,e){const f=a0D,g=new InlineKeyboard();return g[f(0x1a3)](await safeApplyFont(f(0x260)+f(0x26a)+f(0x31e)+f(0x187)),setPendingButtonAction({'type':f(0x75)+f(0x13a)+f(0x236)+f(0x2d8)+f(0x2a8)+'ot','chatId':d,'time':e}))[f(0x22a)](),g[f(0x1a3)](await safeApplyFont(f(0x151)+f(0x14c)+'ut'),setPendingButtonAction({'type':f(0x75)+f(0x13a)+f(0x245)+f(0xbc)+f(0x88)+'t','chatId':d,'time':e})),g[f(0x1a3)](await safeApplyFont(f(0x94)+f(0x101)+f(0x1a8)),setPendingButtonAction({'type':f(0x32e)+f(0x236)+f(0x2d8)+f(0x2a8)+'ot','chatId':d,'time':e}))[f(0x22a)](),g[f(0x1a3)](await safeApplyFont(f(0x219)+f(0x1fe)+f(0x1f1)+f(0xd7)),setPendingButtonAction({'type':f(0xdd)+f(0x177)+'up','chatId':d})),g;}export async function onMessage(e){const A=a0D;if(e[A(0x201)][A(0x16b)]!==A(0x2db)+'te'||!isAdmin(e))return;const B=e[A(0x10c)]['id'],C=e[A(0x108)+'ge'][A(0x1a3)]?.[A(0x175)]()||'',D=pendingMessageActions[A(0x168)](B);if(!D||D[A(0x1d9)+A(0x183)]<Date[A(0xd6)]()){if(C[A(0x206)+A(0x143)](A(0x186)+'d')){const J=await getDefault();if(!J)return e[A(0x2cf)](A(0x92)+A(0x8f)+A(0xc1)+A(0x2dd)+A(0xdf));const K=await getConnection(J);if(!K)return e[A(0x2cf)](A(0xd8)+A(0x1e8)+A(0x296)+A(0x2e4)+A(0x178)+'.');const L=await botApi[A(0x26b)+'at'](K)[A(0x1e0)](()=>({'title':A(0x32c)+K}));await e[A(0x2cf)](A(0x1a7)+A(0x1ee)+A(0x321)+A(0x1cd)+A(0x164)+A(0x1d7)+escapeHtml(L[A(0x196)])+A(0x93),{'parse_mode':A(0xa2),'reply_markup':await generateMainMenu(K)});}return;}const {type:E,chatId:F,time:G,oldTime:H}=D[A(0x112)+'ad'],I=ensureChatSchedule(F);pendingMessageActions[A(0x1f4)+'e'](B);try{switch(E){case A(0x1ec)+A(0x18a)+A(0x144)+A(0x26f):{const M=normalizeTime(C);if(!M)return e[A(0x2cf)](A(0x1cf)+A(0x21d)+A(0x1d5)+A(0x18d)+A(0xbf)+A(0x32f)+A(0x212)+A(0xee)+A(0x11f)+'>.',{'parse_mode':A(0xa2)});if(I[M])return e[A(0x2cf)](A(0xde)+A(0x269)+A(0x258)+A(0xc7)+A(0x77)+A(0x1fb)+A(0x71)+M+A(0x1c6),{'parse_mode':A(0xa2)});const N={'time':M,'enabled':![],'text':A(0x1b0)+A(0x32a)+A(0xf0)+M,'frequency':A(0x22e),'lastSent':null,'buttons':[],'layout':[]};I[M]=N,await saveSlotToDB(F,N),await e[A(0x2cf)](A(0x111)+A(0x10d)+M+(A(0x17a)+A(0x1a2)+'.'),{'parse_mode':A(0xa2),'reply_markup':await generateMainMenu(F)});break;}case A(0x1ec)+A(0x2bd)+A(0x1bb)+'me':{const O=normalizeTime(C);if(!O)return e[A(0x2cf)](A(0x1cf)+A(0x21d)+A(0x1d5)+A(0x18d)+A(0xbf)+A(0x32f)+A(0x212)+A(0xee)+A(0x11f)+'>.',{'parse_mode':A(0xa2)});if(I[O])return e[A(0x2cf)](A(0xde)+A(0x276)+A(0x1c1)+A(0x27e)+A(0x154)+A(0x30a)+'>'+O+A(0x1c6),{'parse_mode':A(0xa2)});const P=I[H];if(!P)return e[A(0x2cf)](A(0x174)+A(0x123)+A(0x1e5)+A(0x163)+A(0x160)+A(0xc0)+'d.');const Q={...P,'time':O,'lastSent':null};await deleteSlotFromDB(F,H),await saveSlotToDB(F,Q),delete I[H],I[O]=Q,info(A(0x13e)+A(0x163)+A(0x268)+A(0x8b)+F+(A(0x69)+A(0x2d0)+'m\x20')+H+A(0x273)+O+(A(0xf5)+A(0x124)+A(0x192)+A(0x113)+'.')),await e[A(0x2cf)](A(0x111)+A(0x20a)+A(0x23b)+A(0x2a7)+A(0x9a)+A(0x31d)+H+(A(0x17a)+A(0x232)+'>')+O+A(0x1c6),{'parse_mode':A(0xa2),'reply_markup':await generateMainMenu(F)});break;}case A(0x1ec)+A(0x20c)+A(0x217)+A(0x29f)+A(0x13f):{const R=I[G];if(!R)return e[A(0x2cf)](A(0x84)+A(0x166)+A(0x1d1)+A(0x204)+A(0x216));R[A(0x1a3)]=C,R[A(0x33a)+A(0x1fd)]=e[A(0x108)+'ge'][A(0x33a)+A(0x1fd)]||[],await saveSlotToDB(F,R),await e[A(0x2cf)](A(0xb1)+A(0xbd)+A(0x2e1)+'b>'+G+(A(0x17a)+A(0x122)+A(0x9e)),{'parse_mode':A(0xa2),'reply_markup':await generateMainMenu(F)});break;}case A(0x1ec)+A(0x2c1)+A(0x117)+A(0xad)+A(0x13f):{const S=I[G];if(!S)return e[A(0x2cf)](A(0x84)+A(0x166)+A(0x1d1)+A(0x204)+A(0x216));const T=C[A(0x2eb)]('\x0a')[A(0xe1)](V=>V[A(0x175)]())[A(0x19b)+'r'](Boolean);if(T[A(0x30c)+'h']>MAX_TOTAL_BUTTONS)throw new Error(A(0x11b)+MAX_TOTAL_BUTTONS+(A(0x285)+A(0x1ea)+A(0x149)+A(0x2c6)+A(0x9e)));const U=T[A(0xe1)](V=>{const W=A,X=V[W(0xd5)](/^\?([^\(]+)\(([^)]+)\)/);if(!X||!X[0x2][W(0x206)+W(0x143)](W(0xd2)))throw new Error(W(0x20d)+W(0x2aa)+W(0x257)+W(0x264)+W(0xb9)+W(0x2ef)+W(0x106)+W(0x250)+'\x20\x22'+V+(W(0x1eb)+W(0x10e)+W(0x117)+W(0x2f0)+W(0xf9)+W(0x2ad)+W(0x2a0)));return{'name':X[0x1][W(0x175)](),'url':X[0x2][W(0x175)]()};});S[A(0x1e3)+'ns']=U,S[A(0x323)+'t']=[],await saveSlotToDB(F,S),await e[A(0x2cf)]('✅\x20'+U[A(0x30c)+'h']+(A(0x225)+A(0x18f)+A(0x2bf)+A(0x1af)+A(0x24e)+'b>')+G+(A(0x1c6)+A(0x1ca)+A(0x188)+A(0xac)+A(0x1ff)+A(0x238)+'.'),{'parse_mode':A(0xa2),'reply_markup':await generateButtonEditorMenu(F,G)});break;}case A(0x1ec)+A(0x2ec)+A(0x238)+A(0x68)+A(0xa6):{const V=I[G];if(!V)return e[A(0x2cf)](A(0x84)+A(0x166)+A(0x1d1)+A(0x204)+A(0x216));if(V[A(0x1e3)+'ns'][A(0x30c)+'h']===0x0)return e[A(0x2cf)](A(0x89)+A(0x283)+A(0x1a5)+A(0x253)+A(0x2f3)+A(0x117)+A(0x176)+A(0x1bd)+A(0x251)+A(0x1b4)+A(0x328)+A(0xa3));const W=C[A(0x2eb)](':')[A(0xe1)](Y=>parseInt(Y[A(0x175)](),0xa));if(W[A(0x159)](isNaN))throw new Error(A(0x20d)+A(0x17d)+A(0x318)+A(0x18d)+A(0xcd)+A(0xae)+A(0x23f)+A(0x78)+A(0x2a7)+A(0x261)+A(0x33f)+A(0x221)+A(0x2ac)+A(0x131));const X=W[A(0x1b9)+'e']((Y,a0)=>Y+a0,0x0);if(X!==V[A(0x1e3)+'ns'][A(0x30c)+'h'])throw new Error(A(0x1da)+A(0x185)+A(0xd5)+A(0x80)+A(0x306)+A(0x21a)+A(0x2d4)+X+(A(0x225)+A(0x2b9)+A(0x281)+A(0x270)+A(0x19a)+A(0xf2))+V[A(0x1e3)+'ns'][A(0x30c)+'h']+(A(0x225)+A(0x2b9)+A(0x1c3)+'d.'));V[A(0x323)+'t']=W,await saveSlotToDB(F,V),await e[A(0x2cf)](A(0xb6)+A(0x21a)+A(0x30a)+'>'+G+(A(0x17a)+A(0x2d7)+A(0x7a))+C+A(0x1c6),{'parse_mode':A(0xa2),'reply_markup':await generateButtonEditorMenu(F,G)});break;}}}catch(Y){error(A(0x1b6)+A(0x1d3)+A(0xdb)+A(0x14e)+A(0x327)+A(0x108)+A(0xce)+A(0x1d8)+'\x20'+Y[A(0x108)+'ge']),await e[A(0x2cf)](A(0x10f)+A(0x274)+A(0x32b)+A(0x2e6)+A(0x203)+A(0x255)+A(0x30d)+escapeHtml(Y[A(0x108)+'ge'])+(A(0x1ce)+'>'),{'parse_mode':A(0xa2)});}}export async function onCallbackQuery(e){const s=a0D;if(!e[s(0xa4)+s(0x8e)+s(0x271)][s(0x13b)]?.[s(0x206)+s(0x143)](SCHED_PREFIX))return;const t=e[s(0xa4)+s(0x8e)+s(0x271)][s(0x13b)],C=e[s(0x10c)]['id'],D=pendingButtonActions[s(0x168)](t);if(!D||D[s(0x1d9)+s(0x183)]<Date[s(0xd6)]())return await e[s(0x31c)+s(0x217)+s(0x1ef)](s(0x1a0)+s(0x2f1)+s(0x1bc)+s(0x31a)+s(0x1c4))[s(0x1e0)](()=>{}),e[s(0x26d)+s(0x16e)+s(0xdc)+s(0x2a6)]({'text':s(0xe8)+s(0xff),'show_alert':!![]});pendingButtonActions[s(0x1f4)+'e'](t);const {payload:E}=D,{type:F,chatId:G,action:H,time:I,frequency:J}=E,K=ensureChatSchedule(G),L=async()=>{const M=s;if(pendingMessageActions[M(0x2ab)](C))return await e[M(0x26d)+M(0x16e)+M(0xdc)+M(0x2a6)]({'text':M(0x16d)+M(0x161)+M(0xec)+M(0x1b5)+M(0x136)+M(0xda)+M(0x126)+M(0x2b7)+M(0x277),'show_alert':!![]}),!![];return![];};try{switch(F){case s(0xdd)+s(0x177)+'up':{await e[s(0x31c)+s(0x217)+s(0x1ef)](s(0x1a7)+s(0x1ee)+s(0x321)+s(0x1cd)+s(0x164)+s(0x1d7)+escapeHtml((await botApi[s(0x26b)+'at'](G)[s(0x1e0)](()=>({'title':s(0x32c)+G})))[s(0x196)])+s(0x93),{'parse_mode':s(0xa2),'reply_markup':await generateMainMenu(G)});break;}case s(0x75)+s(0x7e)+s(0x20b):{if(await L())return;setPendingMessageAction(C,{'type':s(0x1ec)+s(0x18a)+s(0x144)+s(0x26f),'chatId':G}),await e[s(0x31c)+s(0x217)+s(0x1ef)](s(0x2c7)+s(0x1c0)+s(0x2dc)+s(0x28d)+s(0x272)+s(0xf7)+s(0x142)+s(0x163)+s(0x33b)+s(0xf3)+s(0x27d)+s(0xea)+s(0x14f)+s(0x1f6)+s(0x202),{'parse_mode':s(0xa2)});break;}case s(0xdd)+s(0x6b)+s(0x229)+s(0xc6)+'on':{const M=await generateSlotSelector(G,H);if(!M)return await e[s(0x26d)+s(0x16e)+s(0xdc)+s(0x2a6)]({'text':s(0x1a6)+s(0x147)+s(0x303)+s(0x25a)+s(0x150),'show_alert':!![]}),e[s(0x31c)+s(0x217)+s(0x1ef)](s(0x92)+s(0x8a)+s(0xfd)+s(0xb5)+s(0x28a)+s(0x153)+s(0x27c)+s(0x329)+'t.',{'reply_markup':await generateMainMenu(G)});const N={'prompt_set_message':s(0x100)+s(0x28c)+s(0x17f)+s(0x267)+s(0x157)+s(0x282)+s(0x2f2),'edit_buttons':s(0x25d)+s(0x28c)+s(0x17f)+s(0x239)+s(0x233)+s(0x189)+s(0x1e3)+s(0x18b),'prompt_edit_time':s(0x209)+s(0x28c)+s(0x17f)+s(0x2a2)+s(0x22f)+s(0x189)+s(0xa9),'prompt_edit_frequency':s(0x338)+s(0x28c)+s(0x17f)+s(0x2a2)+s(0x22f)+s(0x189)+s(0x12b)+s(0xb8),'enable':s(0x207)+s(0x28c)+s(0x17f)+s(0x14a)+s(0x16f)+':','disable':s(0xc2)+s(0x28c)+s(0x17f)+s(0x293)+s(0x1a1)+'e:','delete':s(0x247)+s(0x28c)+s(0x17f)+s(0x293)+s(0xc0)+':'}[H]||s(0x16d)+s(0x240)+s(0x28c)+s(0x17f)+':';await e[s(0x31c)+s(0x217)+s(0x1ef)](N,{'reply_markup':M,'parse_mode':s(0xa2)});break;}case s(0x2e2)+s(0x126)+s(0x115)+s(0xa6):{const O=K[I];if(!O)return e[s(0x31c)+s(0x217)+s(0x1ef)](s(0x2c9)+s(0x6e)+s(0x173)+'d.',{'reply_markup':await generateMainMenu(G)});switch(H){case s(0x145)+'e':{O[s(0x145)+'ed']=!![],await saveSlotToDB(G,O),await e[s(0x26d)+s(0x16e)+s(0xdc)+s(0x2a6)]({'text':s(0x111)+'t\x20'+I+(s(0x2fe)+s(0xf1))});break;}case s(0x308)+'le':{O[s(0x145)+'ed']=![],await saveSlotToDB(G,O),await e[s(0x26d)+s(0x16e)+s(0xdc)+s(0x2a6)]({'text':s(0xe3)+'t\x20'+I+(s(0x134)+s(0x331))});break;}case s(0x1f4)+'e':{await deleteSlotFromDB(G,I),delete K[I],await e[s(0x26d)+s(0x16e)+s(0xdc)+s(0x2a6)]({'text':s(0x21f)+'t\x20'+I+(s(0x204)+s(0x216))});break;}case s(0x75)+s(0x13a)+s(0x1c5)+s(0x31b):{if(await L())return;setPendingMessageAction(C,{'type':s(0x1ec)+s(0x20c)+s(0x217)+s(0x29f)+s(0x13f),'chatId':G,'time':I}),await e[s(0x31c)+s(0x217)+s(0x1ef)](s(0x15e)+s(0x90)+s(0x142)+s(0x108)+s(0xef)+s(0xf7)+s(0x1d7)+I+(s(0x17a)+s(0xed)),{'parse_mode':s(0xa2)});return;}case s(0x75)+s(0x73)+s(0x2de)+'e':{if(await L())return;setPendingMessageAction(C,{'type':s(0x1ec)+s(0x2bd)+s(0x1bb)+'me','chatId':G,'oldTime':I}),await e[s(0x31c)+s(0x217)+s(0x1ef)](s(0x138)+s(0x90)+s(0x142)+s(0x1d5)+s(0xaf)+s(0x213)+'>'+I+(s(0x17a)+s(0x163)+s(0x6f)+s(0x1a4)+s(0x325)+'.'),{'parse_mode':s(0xa2)});return;}case s(0x75)+s(0x73)+s(0x220)+s(0x197)+'y':{await e[s(0x31c)+s(0x217)+s(0x1ef)](s(0x338)+s(0x2f6)+s(0x7c)+s(0x29a)+s(0x340)+s(0x71)+I+s(0x128),{'parse_mode':s(0xa2),'reply_markup':await generateFrequencySelector(G,I)});return;}case s(0x132)+s(0x1e3)+'ns':{await e[s(0x31c)+s(0x217)+s(0x1ef)](s(0x27b)+s(0x1ee)+s(0x225)+s(0x10a)+s(0x152)+s(0x9b)+'>'+I+s(0x93),{'parse_mode':s(0xa2),'reply_markup':await generateButtonEditorMenu(G,I)});return;}}const P=await generateSlotSelector(G,H);if(P)await e[s(0x31c)+s(0x217)+s(0xd1)+s(0x99)+'up']({'reply_markup':P});else await e[s(0x31c)+s(0x217)+s(0x1ef)](s(0x215)+s(0x1e9)+s(0x315)+s(0x167)+s(0x2ff)+s(0x2e7)+s(0x2af)+'d.',{'reply_markup':await generateMainMenu(G)});break;}case s(0x75)+s(0x13a)+s(0x236)+s(0x2d8)+s(0x2a8)+'ot':{if(await L())return;setPendingMessageAction(C,{'type':s(0x1ec)+s(0x2c1)+s(0x117)+s(0xad)+s(0x13f),'chatId':G,'time':I}),await e[s(0x31c)+s(0x217)+s(0x1ef)](s(0x15e)+s(0xfa)+s(0x121)+s(0x107)+s(0x110)+s(0x106)+s(0x163)+s(0x31d)+I+(s(0x2cb)+s(0x241)+s(0x200)+s(0x2c5)+s(0x72)+s(0x156)+s(0x1f7)+s(0x218)+s(0x12d)+s(0x307)+s(0x1e1)+s(0x1ce)+'>'),{'parse_mode':s(0xa2)});break;}case s(0x75)+s(0x13a)+s(0x245)+s(0xbc)+s(0x88)+'t':{if(await L())return;const Q=K[I];if(!Q||Q[s(0x1e3)+'ns'][s(0x30c)+'h']===0x0)return await e[s(0x26d)+s(0x16e)+s(0xdc)+s(0x2a6)]({'text':s(0x92)+s(0x1e3)+s(0x339)+s(0x11a)+s(0x106)+s(0x1d4)+s(0x222),'show_alert':!![]});setPendingMessageAction(C,{'type':s(0x1ec)+s(0x2ec)+s(0x238)+s(0x68)+s(0xa6),'chatId':G,'time':I}),await e[s(0x31c)+s(0x217)+s(0x1ef)](s(0x12c)+s(0x90)+s(0x225)+s(0x2a4)+s(0x318)+s(0x1af)+s(0x24e)+'b>'+I+(s(0x17a)+s(0x2f9)+s(0xd4)+s(0x106)+s(0x2d6)+s(0x11c)+'.'),{'parse_mode':s(0xa2)});break;}case s(0x32e)+s(0x236)+s(0x2d8)+s(0x2a8)+'ot':{const R=K[I];if(!R)return await e[s(0x26d)+s(0x16e)+s(0xdc)+s(0x2a6)]({'text':s(0x2c9)+s(0x6e)+s(0x173)+'d!','show_alert':!![]});R[s(0x1e3)+'ns']=[],R[s(0x323)+'t']=[],await saveSlotToDB(G,R),await e[s(0x26d)+s(0x16e)+s(0xdc)+s(0x2a6)]({'text':s(0x1c9)+s(0x149)+s(0xf0)+I+(s(0x91)+s(0x1c4))}),await e[s(0x31c)+s(0x217)+s(0x1ef)](s(0x27b)+s(0x1ee)+s(0x225)+s(0x10a)+s(0x152)+s(0x9b)+'>'+I+s(0x93),{'parse_mode':s(0xa2),'reply_markup':await generateButtonEditorMenu(G,I)});break;}case s(0x158)+s(0x146)+s(0x30b):{const S=K[I];if(!S)return e[s(0x26d)+s(0x16e)+s(0xdc)+s(0x2a6)]({'text':s(0x1b6)+s(0x2f7)+'t\x20'+I+(s(0x2e4)+s(0x178)+'!'),'show_alert':!![]});S[s(0x12b)+s(0x198)]=J,await saveSlotToDB(G,S),await e[s(0x26d)+s(0x16e)+s(0xdc)+s(0x2a6)]({'text':s(0x14b)+s(0x2fa)+s(0x2d7)+s(0x243)+J}),await e[s(0x31c)+s(0x217)+s(0x1ef)](s(0x33c)+s(0x197)+s(0x184)+s(0x1d7)+I+(s(0x17a)+s(0x122)+s(0x172)+s(0x1d7))+J+s(0x1c6),{'parse_mode':s(0xa2),'reply_markup':await generateMainMenu(G)});break;}case s(0x2a5)+s(0x288):{const T=Object[s(0xc9)](K)[s(0x191)]((V,W)=>V[s(0xe9)+s(0x182)+s(0x2fb)](W,undefined,{'numeric':!![]}));let U=s(0x26c)+s(0x287)+s(0x199)+s(0x9d)+s(0xb2);if(T[s(0x30c)+'h']===0x0)U+=s(0x231)+s(0x17f)+s(0x176)+s(0x1ac)+s(0x2a1)+s(0x317)+'>';else for(const V of T){const W=K[V],X=(W[s(0x1a3)]||'')[s(0xca)+'ce'](/<[^>]*>?/gm,'')[s(0xa7)](0x0,0x23);U+=(W[s(0x145)+'ed']?'🟢':'🔴')+s(0x1d7)+W[s(0x322)]+(s(0x17a)+s(0x2e5)+'\x22')+escapeHtml(X)+(s(0x25c)+s(0x17c))+(W[s(0x1e3)+'ns']?.[s(0x30c)+'h']||0x0)+s(0x29c)+W[s(0x12b)+s(0x198)]+')\x0a';}await e[s(0x31c)+s(0x217)+s(0x1ef)](U,{'parse_mode':s(0xa2),'reply_markup':new InlineKeyboard()[s(0x1a3)](await safeApplyFont(s(0x219)+'k'),setPendingButtonAction({'type':s(0xdd)+s(0x177)+'up','chatId':G}))});break;}}}catch(Y){error(s(0x6d)+s(0x2ca)+s(0x33e)+s(0xe0)+':\x20'+Y[s(0x108)+'ge']),!Y[s(0x29e)+s(0x1d0)+'n']?.[s(0x20e)+s(0x30f)](s(0x108)+s(0xa8)+s(0x2e4)+s(0x311)+s(0x2cd))&&await e[s(0x26d)+s(0x16e)+s(0xdc)+s(0x2a6)]({'text':s(0x135)+s(0xe0)+s(0x23a)+s(0x139),'show_alert':!![]});}finally{if(!e[s(0x26d)+s(0xa1)])e[s(0x26d)+s(0x16e)+s(0xdc)+s(0x2a6)]()[s(0x1e0)](()=>{});}}export async function initialize(c){const d=a0D;try{if(!c?.[d(0x19c)])throw new Error(d(0x165)+d(0x85)+d(0x25f)+d(0x2a9)+d(0x305)+d(0x1f0)+d(0x244)+d(0x326)+d(0x98));botApi=c[d(0x19c)],info(d(0x2f5)+d(0x116)+d(0x21c)+d(0x266)+d(0x1c4)),await initDatabase(),await loadSchedules(),startAlignedScheduler(),startCleanup(),info(d(0x246)+d(0xfb)+d(0x102)+d(0x28e)+d(0x19f)+d(0x1cb)+d(0xb0)+d(0x179)+d(0x22b)+d(0x18e));}catch(e){error(d(0x280)+d(0x332)+d(0x214)+d(0x2b2)+d(0x269)+d(0x15a)+d(0x15c)+d(0x16a)+d(0xcb)+e[d(0x108)+'ge']);throw e;}}