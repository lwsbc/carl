(function(a,b){const F=a0f,c=a();while(!![]){try{const d=-parseInt(F(0xe1))/0x1+parseInt(F(0xdd))/0x2*(-parseInt(F(0xef))/0x3)+-parseInt(F(0xfd))/0x4*(-parseInt(F(0xc6))/0x5)+-parseInt(F(0xe2))/0x6*(parseInt(F(0x102))/0x7)+-parseInt(F(0x104))/0x8+-parseInt(F(0xaf))/0x9+-parseInt(F(0xd3))/0xa*(-parseInt(F(0x113))/0xb);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0e,0xa689b));const a0n=a0b;(function(f,g){const G=a0f,h=a0b,i=f();while(!![]){try{const j=parseInt(h(0x192))/0x1*(parseInt(h(0x18d))/0x2)+-parseInt(h(0x1b7))/0x3+parseInt(h(0x1b0))/0x4+parseInt(h(0x189))/0x5*(-parseInt(h(0x174))/0x6)+parseInt(h(0x184))/0x7*(-parseInt(h(0x17d))/0x8)+parseInt(h(0x18c))/0x9+parseInt(h(0x1c3))/0xa*(parseInt(h(0x1ac))/0xb);if(j===g)break;else i[G(0xff)](i[G(0xfe)]());}catch(k){i[G(0xff)](i[G(0xfe)]());}}}(a0a,0x6d556));import a0g from'path';function a0e(){const K=['Aw5KzxG','ALz5DMO','ruzhseK','BK1UANi','tw5nEte','sgn0tLa','EMDmwNK','ENnIChq','mJbYB0zTyLO','ChfYC3q','qxDyta','AwuXvNO','tgjmCtm','y2HHCKe','q012shO','EMD1rW','AwDUu3O','EJj2rKe','mZbXBvnyzuK','zhLzBwC','ENHQzhK','ENnIsKi','mtaZmJy3nLnXENvMCq','nZG5ntiZoefOCM1WzG','v3zX','AgfYq28','Be1qwKi','CK1Muei','tM54CuW','ENC1shK','z3jmEKC','ExH2u0q','mZq1nJC','EtjythK','DgC5shO','BMrHv24','mtC4nZqZAxrXz1v0','EM5erW','ExDeta','AwDmvwK','EMDmwui','B2rLqxq','Dxz3EhK','BvP1v0i','rhHYtw8','Dg9tDhi','BuPhmw0','qNCXsei','sffYzM4','rgD2neq','ndCYmZiZmNrOrhryuG','C2HPzNq','ChvZAa','ywjJzgu','EKfcq0q','n1j6rwvNwq','qJj6tq','ntuZmtCXmMrczxPdEq','CMD2u3O','BuPTmw0','q012v0i','rgHmv3O','q2HQueq','AwHUteq','q1Llvq','qZnIu0e','CtjythK','DtjMmNO','qKLIvei','ExDYsW','uxrx','DNHUshO','mJmXnZC1nJfhrw1dq1O','ENDMvwK','qZnYwue','CK1mu3O','qxHUyKm','EK5QvKi','rgC5Bui','qwDMwG','qNDMvxO','ALD2s2y','qxC1tKm','qMD2vxO','DhvzExu','C2XPy2u','qZnYsem','ENuXtem','AhjwCZe','qK1dr0q','BxrLwg4','qZjMmNO','EtjMmhK','CNu1Chi','zMDOAwO','B2r1m20','yNf6Cq','Eti5s3O','qMD2sW','Etjiseq','De04r3K','wuLYCha','Aw5N','q012wKi','qK52vhK','B0LHvNK','BxrHmw8','wNzH','DgeYBNy','AwDYuem','EJjmtuu','qJn2vxO','BgvUz3q','zZfpCLC','qK5yvNO','tfjQrgO','zg1xBJe','nfbzzMK','qZjmnNO','EMD2u3O','ExC0r0i','BMrmmeu','sg90ttu','qND2wKm','Eu1ythO','EMDMmhK','qNDus0e','zujX','nZaXmtm4n3jlBK55ra','ENDXr3K','zw5tENe','BKPdwee','qZi5vwK','tMjjCK4','rgHQuei','ENDMvwW','EMnImei','ne9JDwK','wvOWmti','vfvwv1G','qMC5shO','A2XTBM8','q2DMwum','Bxm0v2W','t1bruLm','odKRlZ0','zNjVBum','B2rHmg0','rdnQueq','Dg0YBJe','BdjUu3O','nufrEvHSsa','qZfeueq','ExHIua','sKTmtu4','y2HHCKm'];a0e=function(){return K;};return a0e();}import{promises as a0h}from'fs';import{info,error}from'../bookieutils/logger.js';import{isAdmin}from'../bookieutils/admin.js';import{applyFont,registerModule}from'../bookieutils/helpeutils/fonthelp.js';export const name=a0n(0x16e)+a0n(0x1c6)+'le';export const version=a0n(0x1a3);registerModule(name);const DATA_FILE=a0g[a0n(0x1a4)+'ve'](a0n(0x1cb)+a0n(0x1b2)+a0n(0x1c8)),disabledChats=new Set();async function loadSettings(){const e=a0n;try{await a0h[e(0x19f)](a0g[e(0x1b1)+'me'](DATA_FILE),{'recursive':!![]});const f=await a0h[e(0x193)+e(0x18a)](DATA_FILE,e(0x177)),g=JSON[e(0x185)](f);if(Array[e(0x1bb)+'ay'](g))for(const h of g){if(typeof h===e(0x199)+'r')disabledChats[e(0x188)](h);}await info(name,e(0x17e)+'d\x20'+disabledChats[e(0x1b8)]+(e(0x1b3)+e(0x182)+e(0x180)+e(0x18b)));}catch(i){i[e(0x1a5)]===e(0x172)+'T'?await info(name,e(0x191)+e(0x19b)+e(0x1be)+e(0x187)+e(0x181)+e(0x1a9)+e(0x1c9)+e(0x18f)+e(0x1b5)+e(0x1ca)):await error(name,e(0x1a6)+e(0x170)+e(0x176)+e(0x1b2)+e(0x19a)+e(0x1c2)+'\x20'+i[e(0x1b4)+'ge'],i);}}async function saveSettings(){const c=a0n;try{const d=Array[c(0x1bc)](disabledChats);await a0h[c(0x1ba)+c(0x1c0)](DATA_FILE,JSON[c(0x1aa)+c(0x183)](d,null,0x2),c(0x177)),await info(name,c(0x186)+'\x20'+d[c(0x1a0)+'h']+(c(0x1b3)+c(0x182)+c(0x180)+c(0x18b)));}catch(e){await error(name,c(0x1a6)+c(0x170)+c(0x1af)+c(0x1b2)+c(0x19a)+c(0x1c2)+'\x20'+e[c(0x1b4)+'ge'],e);}}function a0b(d,e){const f=a0a();return a0b=function(k,l){const H=a0f;k=k-0x16d;let m=f[k];if(a0b[H(0x130)+'N']===undefined){var n=function(v){const I=H,w=I(0x100)+I(0x129)+I(0xbc)+I(0xd4)+I(0xf5)+I(0x101)+I(0xcd)+I(0xc9)+I(0xbf)+I(0xba)+I(0xb9)+I(0xeb)+I(0xc0);let x='',y='';for(let z=0x0,A,B,C=0x0;B=v[I(0xd8)+'t'](C++);~B&&(A=z%0x4?A*0x40+B:B,z++%0x4)?x+=String[I(0xc1)+I(0xe4)+'de'](0xff&A>>(-0x2*z&0x6)):0x0){B=w[I(0xcb)+'Of'](B);}for(let D=0x0,E=x[I(0x13b)+'h'];D<E;D++){y+='%'+('00'+x[I(0xca)+I(0xf4)](D)[I(0xf8)+I(0x131)](0x10))[I(0x120)](-0x2);}return decodeURIComponent(y);};a0b[H(0xa2)+'B']=n,d=arguments,a0b[H(0x130)+'N']=!![];}const o=f[0x0],p=k+o,q=d[p];return!q?(m=a0b[H(0xa2)+'B'](m),d[p]=m):m=q,m;},a0b(d,e);}export async function initialize(){await loadSettings();}function a0f(a,b){const c=a0e();return a0f=function(d,e){d=d-0xa1;let f=c[d];if(a0f['IVpyWu']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='';for(let p=0x0,q,r,s=0x0;r=l['charAt'](s++);~r&&(q=p%0x4?q*0x40+r:r,p++%0x4)?n+=String['fromCharCode'](0xff&q>>(-0x2*p&0x6)):0x0){r=m['indexOf'](r);}for(let t=0x0,u=n['length'];t<u;t++){o+='%'+('00'+n['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0f['tjHOJd']=g,a=arguments,a0f['IVpyWu']=!![];}const h=c[0x0],i=d+h,j=a[i];return!j?(f=a0f['tjHOJd'](f),a[i]=f):f=j,f;},a0f(a,b);}export async function onMessage(e){const m=a0n,n=e[m(0x1b4)+'ge'];if(!n?.[m(0x19c)])return;const o=n[m(0x19c)][m(0x179)](),p=e[m(0x178)]['id'];if(e[m(0x178)][m(0x194)]===m(0x190)+'te'||!await isAdmin(e))return;if(o[m(0x1ae)+m(0x1bf)](m(0x1a2)+'n')){const s=o[m(0x1bd)](/\s+/),t=(s[0x1]||'')[m(0x1a7)+m(0x175)+'e']();if(t==='on')disabledChats[m(0x1b9)+'e'](p);else{if(t===m(0x17c))disabledChats[m(0x188)](p);else{const w=await e[m(0x198)](await applyFont(name,m(0x16f)+m(0x171)+m(0x1ab)+m(0x18e)));setTimeout(()=>e[m(0x1c4)][m(0x1b9)+m(0x17f)+m(0x196)](p,w[m(0x1b4)+m(0x16d)])[m(0x1b6)](()=>{}),0x1388);return;}}await saveSettings();const u=disabledChats[m(0x1c7)](p)?m(0x17a)+m(0x195):m(0x19d)+'ed',v=await e[m(0x198)](await applyFont(name,m(0x17b)+m(0x1c5)+m(0x19e)+u+'.'));setTimeout(()=>e[m(0x1c4)][m(0x1b9)+m(0x17f)+m(0x196)](p,v[m(0x1b4)+m(0x16d)])[m(0x1b6)](()=>{}),0x1388),await e[m(0x1c4)][m(0x1b9)+m(0x17f)+m(0x196)](p,n[m(0x1b4)+m(0x16d)])[m(0x1b6)](()=>{});return;}const r=!disabledChats[m(0x1c7)](p);if(r&&o[m(0x1ae)+m(0x1bf)]('/'))try{await e[m(0x1c4)][m(0x1b9)+m(0x17f)+m(0x196)](p,n[m(0x1b4)+m(0x16d)]),await info(name,m(0x197)+m(0x1a1)+m(0x173)+m(0x1a8)+p);}catch(x){await error(name,m(0x1a6)+m(0x170)+m(0x1b9)+m(0x1ad)+m(0x1c1)+'\x20'+x[m(0x1b4)+'ge'],x);}}function a0a(){const J=a0f,a=[J(0xf7)+'a',J(0x12e)+'a',J(0xb5)+'q',J(0xd1)+'wi',J(0xa4)+J(0xb1),J(0x103),J(0xc2)+J(0x11f)+J(0xcc)+'r',J(0xed)+'gu',J(0x122)+'3m',J(0x12e)+'cG',J(0xb8)+J(0xe9),J(0xab)+'ca',J(0x139)+'q',J(0xa8)+J(0xcf)+'m',J(0xbd)+'2u',J(0x10e)+'wq',J(0x13a)+'ca',J(0x110),J(0x125)+J(0x137)+J(0xfb)+J(0xae),J(0xd5),J(0x10b),J(0x106)+J(0xc4)+J(0xd0)+J(0x136),J(0xf6)+J(0xb4)+'PS',J(0xa1)+'My',J(0xdb)+'we',J(0x109)+'Me',J(0x12f)+'2W',J(0xee)+J(0xe7)+J(0xf0),J(0xd9)+'ey',J(0x108)+'q',J(0x12d),J(0xf1),J(0x105)+'xq',J(0x107)+'hK',J(0x133)+'Mu',J(0x10a)+'hq',J(0xb6)+'MO',J(0xfc)+'a',J(0xe8)+'MW',J(0xda),J(0xad)+'xi',J(0x11e)+'3q',J(0xb0)+'28',J(0xc5)+'we',J(0xbe)+'Je',J(0x132)+'2W',J(0x12c)+'q',J(0xe6)+'gu',J(0x119)+'3C',J(0xf2)+'a',J(0xea)+'gK',J(0x115)+'w4',J(0x114)+'g8',J(0xb2)+J(0xd7)+'ns',J(0xe0)+'20',J(0x121)+'Nq',J(0x126)+'sa',J(0xf9)+J(0xde)+J(0x11c)+J(0xe3),J(0xf3)+'Me',J(0xec)+'w4',J(0x138)+'2e',J(0xaa)+'2e',J(0x10f)+'2q',J(0x127)+'2G',J(0x135)+J(0xa3)+J(0xa9)+J(0x111),J(0xa5)+'q',J(0xa6)+'xq',J(0xc3)+'gu',J(0x117)+'Ni',J(0x118)+'q',J(0x10c)+'xq',J(0xb3)+'gy',J(0xc7)+'gG',J(0x116)+'q',J(0x11b)+'dO',J(0x11d)+'ZO',J(0x12a)+J(0x123)+J(0x12b),J(0xc8),J(0xa7)+'w8',J(0xd6)+'hu',J(0x11a),J(0xe5)+'24',J(0x124)+'g8',J(0xd2)+'G',J(0xac)+'s8',J(0xdc)+'wq',J(0x10d)+'w4',J(0x112)+'2u',J(0xb7)+'Ya',J(0x134)+'2W',J(0x128)+'u4',J(0xfa)+'Mq',J(0xce)+J(0x13c),J(0xdf)+'xm',J(0xbb)+'ca'];return a0a=function(){return a;},a0a();}